<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Marcos Cruz (programandala.net)">
<title>Solo Forth 0.14.0-pre.209+20170427 +3DOS</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Solo Forth 0.14.0-pre.209+20170427 +3DOS</h1>
<div class="details">
<span id="author" class="author">Marcos Cruz (programandala.net)</span><br>
<span id="revdate">2017-04-27</span>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_description">Description</a></li>
<li><a href="#_main_features">Main features</a></li>
<li><a href="#_history_and_current_status">History and current status</a></li>
<li><a href="#_computers">Supported computers and disk operating systems</a></li>
<li><a href="#_status_of_each_dos_support">Status of each DOS support</a></li>
<li><a href="#_download">Download</a></li>
<li><a href="#_tree">Directory tree</a></li>
<li><a href="#_disks">Disks</a></li>
<li><a href="#_run">How to run</a></li>
<li><a href="#_library">The library</a></li>
<li><a href="#_how_to_use_the_additional_source_disks">How to use the additional source disks</a></li>
<li><a href="#_test">How to test and benchmark</a></li>
<li><a href="#_write">How to write Forth programs</a></li>
<li><a href="#_rebuild">How to rebuild</a></li>
<li><a href="#_notation">Notation</a></li>
<li><a href="#_glossary">Glossary</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Solo Forth is a modern <a href="http://forth-standard.org" class="external">standard
Forth</a> system under development for the ZX Spectrum
128 and compatible computers.</p>
</div>
<div class="paragraph">
<p>Solo Forth is focused on cross development of Forth programs for ZX
Spectrum 128 using a ZX Spectrum emulator on a GNU/Linux operating
system (in theory, other kind of operating system could be used as
well).</p>
</div>
<div class="paragraph">
<p>Solo Forth is a complete Forth system. Therefore it can be used as a
stand-alone Forth system on a ZX Spectrum emulator or the real
computer, without any limitation, but that&#8217;s not its goal. Its goal is
to be used as the last step of the development process, i.e. to
compile and debug a Forth program on a ZX Spectrum emulator. The
sources of the Forth program are edited on the host operating system
and converted to Forth block disk images by tools that run on the host
operating system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_main_features">Main features</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Fast DTC (Direct Threaded Code) implementation.</p>
</li>
<li>
<p>A kernel as small as possible.</p>
</li>
<li>
<p>Dictionary in banked memory, separated from code and data space.</p>
</li>
<li>
<p>Transparent access to banked memory.</p>
</li>
<li>
<p>Big <a href="#_library">library</a> of useful source code.</p>
</li>
<li>
<p>Modular <a href="#_computers">DOS support</a>.</p>
</li>
<li>
<p>Documented source code.</p>
</li>
<li>
<p>Detailed documentation.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_history_and_current_status">History and current status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The development of Solo Forth started on 2015-05-30, from the
<a href="http://programandala.net/en.program.abersoft_forth.html">disassembled
code of Abersoft Forth</a>, a tape-based fig-Forth 1.1 for ZX Spectrum
48.</p>
</div>
<div class="paragraph">
<p>The <a href="http://github.com/programandala-net/solo-forth" class="external">GitHub
repository</a> was created on 2016-03-13 from the
development backups, in order to preserve the change history from the
very beginning.  Besides, there&#8217;s a
<a href="http://programandala.net/en.program.solo_forth.history.html">development
history until v0.12.0 (2016-12-31)</a>.</p>
</div>
<div class="paragraph">
<p>At the time of writing (2017-04-27) Solo Forth is under active
development. It&#8217;s very stable, and it&#8217;s being used to develop two
projects in Forth:
<a href="http://programandala.net/en.program.nuclear_waste_invaders.html">Nuclear
Waste Invaders</a> and
<a href="http://programandala.net/en.program.black_flag.html">Black Flag</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_computers">Supported computers and disk operating systems</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Solo Forth needs a ZX Spectrum or compatible computer with disk drives
and at least 128 KiB of RAM.  Therefore it can not run on the original
ZX Spectrum 48, but in theory it could be used to develop Forth
programs for it.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Supported computers and disk operating systems</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Computer</th>
<th class="tableblock halign-left valign-top">Disk interface</th>
<th class="tableblock halign-left valign-top">DOS</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">ZX Spectrum 128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beta 128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plus D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G+DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">ZX Spectrum +2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beta 128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plus D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G+DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+3DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +3e</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+3DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 128</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 512</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 1024</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scorpion ZS 256</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_status_of_each_dos_support">Status of each DOS support</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_g_dos">G+DOS</h3>
<div class="sect3">
<h4 id="_summary">Summary</h4>
<div class="paragraph">
<p>G+DOS is the best supported DOS at the moment. Block disks are fully
supported, but some file-management words are not implemented yet,
especially the standard Forth words.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rationale">Rationale</h4>
<div class="paragraph">
<p>G+DOS was the first target (in fact, the only planned target at the
beginning), and it&#8217;s also the author&#8217;s platform of choice to develop
projects in Solo Forth, because of its excellent features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fast disk operations.</p>
</li>
<li>
<p>Big disk capacity (800 KiB for Forth blocks or 780 KiB for files).</p>
</li>
<li>
<p>It uses only the RAM of the Plus D interface.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tr_dos">TR-DOS</h3>
<div class="sect3">
<h4 id="_summary_2">Summary</h4>
<div class="paragraph">
<p>TR-DOS is well supported. Block disks are fully supported, but many
file-management words are not implemented yet, especially the standard
Forth words.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rationale_2">Rationale</h4>
<div class="paragraph">
<p>TR-DOS is slower than G+DOS, it uses 368 bytes of RAM from the main
computer memory, and the maximum capacity of its disks is smaller (636
KiB of useful space, either for Forth blocks or files), but it haves
some interesting features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TR-DOS can handle 4 disk drives at the same time. This makes it an
interesting choice in some cases. For example, to compile a program
from the third drive, using the library on the second drive during
the process, and also reading or manipulating the files on the first
drive (for example, graphics); or just to use a total of 2544 Forth
blocks (<code>636 4 *</code>).</p>
</li>
<li>
<p>TR-DOS is the DOS used by all of the Russian ZX Spectrum powerful
clones: The Pentagon and Scorpion series are the best known among
them.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__3dos">+3DOS</h3>
<div class="sect3">
<h4 id="_summary_3">Summary</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The +3DOS support does not work fine because of a recently
introduced bug, which will be fixed in version 0.14.0.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The +3DOS support is still basic. Only the first drive can be used for
block disks and most file-management words are not implemented yet,
but standard Forth words are better supported than on G+DOS or TR-DOS.</p>
</div>
</div>
<div class="sect3">
<h4 id="_rationale_3">Rationale</h4>
<div class="paragraph">
<p>+3DOS uses 16 KiB of banked memory, but their features and API are
excellent and very well documented. Besides, it&#8217;s the door to support
the more advanced IDEDOS and ResiDOS in the future.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_comparative_of_dos_support">Comparative of DOS support</h3>
<div class="paragraph">
<p>The following table shows the main disk-management words implemented
on each DOS.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Word</th>
<th class="tableblock halign-left valign-top">G+DOS</th>
<th class="tableblock halign-left valign-top">TR-DOS</th>
<th class="tableblock halign-left valign-top">+3DOS</th>
<th class="tableblock halign-left valign-top">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save memory zone to a file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>acat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abbreviated disk catalogue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bin</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">draft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detailed disk catalogue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>close-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">draft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delete-file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-dir#</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-dirdesc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-exists?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-position</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-sector</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-sectors</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-size</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-start</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-track</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Load file contents to memory zone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>find-file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flush-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>get-drive</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">draft</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>include-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>include</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>included</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>open-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">draft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>r/o</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>r/w</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>read-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>read-line</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rename-file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reposition-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>required</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resize-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>set-drive</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">draft</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>undelete-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>w/o</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wacat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Abbreviated disk catalogue with wildcards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wcat</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">draft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detailed disk catalogue with wildcards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>write-file</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>write-line</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Forth</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_download">Download</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Solo Forth can be downloaded from two sites:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://programandala.net/en.program.solo_forth.html">Solo Forth home page</a></p>
</li>
<li>
<p><a href="http://github.com/programandala-net/solo-forth" class="external">Solo Forth repository in GitHub</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tree">Directory tree</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The project directory has the following structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>.
├── backgrounds       Version background images
├── bin               Binary files needed to build disk 0
│   ├── fonts         Fonts for the supported screen modes
│   ├── addons        Code that is loaded from disk
│   │                 because it's not assembled in the library yet
│   └── dos           DOS files
├── disks             Disk images
│   ├── gplusdos      G+DOS disk images
│   ├── plus3dos      +3DOS disk images
│   └── trdos         TR-DOS disk images
├── doc               Documentation
├── make              Files used by `make` to build the system
├── screenshots       Version screenshots
├── src               Sources
│   ├── inc           Z80 symbols files
│   ├── lib           Library
│   ├── loader        BASIC loader for disk 0
│   ├── addons        Code that is loaded from disk
│   └── doc           Files used to build the documentation
├── tmp               Temporary files created by `make`
├── tools             Development and user tools
└── vim               Vim files
    ├── ftplugin      Filetype plugin
    └── syntax        Syntax highlighting</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_disks">Disks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The &lt;disks&gt; directory of the <a href="#_tree">directory tree</a> contains the
disk images:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>disks/*/disk_0_boot.*
disks/*/disk_1_library.*
disks/*/disk_2_games.*
disks/*/disk_3_workbench.*</pre>
</div>
</div>
<div class="paragraph">
<p>The subdirectory and the filename extension depend on the DOS, as
follows:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">DOS</th>
<th class="tableblock halign-left valign-top">Subdirectory</th>
<th class="tableblock halign-left valign-top">Filename extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G+DOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gplusdos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mgt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">trdos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">trd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+3DOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plus3dos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dsk</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Disk 0 is the boot disk. It contains the BASIC loader, the Solo
Forth binary, some addons (i.e. compiled code that is not part of
the library yet) and fonts for the supported screen modes.  Two
+3DOS boot disk images are included, with different sizes.  Several
TR-DOS disk images are included, for specific models of Pentagon and
Scorpion computers (in a future version, one single disk will
contain all the executables, and the right one will be selected
automatically).</p>
</li>
<li>
<p>Disk 1 contains the sources of the library.</p>
</li>
<li>
<p>Disk 2 contains some little sample games, most of them under
development.</p>
</li>
<li>
<p>Disk 3 contains tests and benchmarks used during the development.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Disks 1, 2 and 3 are Forth block disks: They contain the
source Forth blocks directly on the disk sectors, without any file
system.  Therefore their contents can not be accessed with ordinary
DOS commands.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_about_the_disk_image_formats">About the disk image formats</h3>
<div class="paragraph">
<div class="title">MGT</div>
<p>The MGT disk image file format (used for G+DOS disks) does not include
format-describing metadata: The MGT file is just a dump of the
original 800-KiB disk. Beside, G+DOS does not need its own metadata
(the directory tracks) be present in order to read or write sectors.</p>
</div>
<div class="paragraph">
<p>That&#8217;s why converting Forth sources to MGT disk images is most simple,
and the full capacity of the disks can be used to store the Forth
blocks.</p>
</div>
<div class="paragraph">
<p>All this means the MGT disk images actually are identical to Forth
block files, as used by modern Forth systems.  Therefore, for example,
they can be browsed with a Forth block editor.</p>
</div>
<div class="paragraph">
<div class="title">TRD</div>
<p>Also the TRD disk images, one of the formats used for TR-DOS disk
images, are dumps of the original disks, without any format-describing
metadata. But, contrary to G+DOS, TR-DOS needs the system track (track
0) to contain certain data in order to recognize the disk, even for
sector-level access. That&#8217;s why only 636 KiB can be used for Forth
blocks, 4 KiB (one track) less than the maximum capacity.</p>
</div>
<div class="paragraph">
<p>Anyway, TRD disk images can be browsed with a Forth block editor, with
the following restriction: blocks 0..3 will be shown as garbage (they
are track 0 of the disk), while the actual first Forth block of the
disk (block 0) will be shown as block 4.</p>
</div>
<div class="paragraph">
<div class="title">DSK</div>
<p>The DSK disk image format, used for +3DOS and other systems, is quite
a different thing: It contains a lot of metadata to describe the
format of the disk, the tracks and the sectors&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>On +3DOS, sector 0 of track 0 can not be used for Forth blocks,
because it must contain the disk specification, even for sector-level
access.  Since the size of a sector is 512 B, only one Forth block is
lost because of this restriction.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run">How to run</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_on_zx_spectrum_128_or_zx_spectrum_2_with_the_plus_d_interface">On ZX Spectrum 128 (or ZX Spectrum +2) with the Plus D interface</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run a ZX Spectrum emulator and select a ZX Spectrum 128 (or ZX
Spectrum +2) with the Plus D disk interface.</p>
</li>
<li>
<p>"Insert" the disk image file &lt;disks/gplusdos/disk_0_boot.mgt&gt; as
disk 1 of the Plus D disk interface.</p>
</li>
<li>
<p>Choose "128 BASIC" from the computer start menu.</p>
</li>
<li>
<p>Type <code>run</code> in BASIC. G+DOS will be loaded from disk, and Solo Forth
as well.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_zx_spectrum_128_or_zx_spectrum_2_with_the_beta_128_interface">On ZX Spectrum 128 (or ZX Spectrum +2) with the Beta 128 interface</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run a ZX Spectrum emulator and select a ZX Spectrum 128 (or ZX
Spectrum +2) with the Beta 128 interface.</p>
</li>
<li>
<p>"Insert" the disk image file &lt;disks/trdos/disk_0_boot.trd&gt; as disk
A of the Beta 128 interface.</p>
</li>
<li>
<p>Choose "128 BASIC" from the computer start menu.</p>
</li>
<li>
<p>Type <code>randomize usr 15616</code> in BASIC (or just <code>run usr15360</code> to save
seven keystrokes). This will enter the TR-DOS command
line<sup class="footnote" id="_footnote_trdoscli">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup>.</p>
</li>
<li>
<p>Press the <code>R</code> key to get the <code>RUN</code> command and press the Enter key.
Solo Forth will be loaded from disk.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_zx_spectrum_3_or_zx_spectrum_3e">On ZX Spectrum +3 (or ZX Spectrum +3e)</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run a ZX Spectrum emulator and select a ZX Spectrum +3 (or
<a href="http://www.worldofspectrum.org/zxplus3e/" class="external">ZX
Spectrum +3e</a>).</p>
</li>
<li>
<p>"Insert" the disk image file &lt;disks/plus3dos/disk_0_boot.180.dsk&gt;
(or &lt;disks/plus3dos/disk_0_boot.720.dsk&gt;, depending on the capacity
of the drive) as disk 'A'.</p>
</li>
<li>
<p>Choose "Loader" from the computer start menu. Solo Forth will be
loaded from disk.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_pentagon_128">On Pentagon 128</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run a ZX Spectrum emulator and select a Pentagon 128.</p>
</li>
<li>
<p>"Insert" the disk image file &lt;disks/trdos/disk_0_boot.trd&gt; as disk
'A'.</p>
</li>
<li>
<p>Choose "TR DOS" from the computer start menu. This will enter the
TR-DOS command line<sup class="footnoteref">[<a class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup>.</p>
</li>
<li>
<p>Press the <code>R</code> key to get the <code>RUN</code> command and press the Enter key.
Solo Forth will be loaded from disk.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_pentagon_512">On Pentagon 512</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run a ZX Spectrum emulator and select a Pentagon 512.</p>
</li>
<li>
<p>"Insert" the disk image file
&lt;disks/trdos/disk_0_boot.pentagon_512.trd&gt; as disk 'A'.</p>
</li>
<li>
<p>Choose "128k menu"<sup class="footnote" id="_footnote_pentagonboot">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup> from the computer start
menu (the reset service menu). This will enter a ZX Spectrum 128
style menu. Choose "TR-DOS".  This will enter the TR-DOS command
line<sup class="footnoteref">[<a class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup>.</p>
</li>
<li>
<p>Press the <code>R</code> key to get the <code>RUN</code> command and press the Enter key.
Solo Forth will be loaded from disk.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_pentagon_1024">On Pentagon 1024</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run a ZX Spectrum emulator and select a Pentagon 512.</p>
</li>
<li>
<p>"Insert" the disk image file
&lt;disks/trdos/disk_0_boot.pentagon_512.trd&gt; as disk 'A'.</p>
</li>
<li>
<p>Choose "128k menu"<sup class="footnoteref">[<a class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup> from the computer
start menu (the reset service menu). This will enter a ZX Spectrum
128 style menu. Choose "TR-DOS".  This will enter the TR-DOS
command line<sup class="footnoteref">[<a class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup>.</p>
</li>
<li>
<p>Press the <code>R</code> key to get the <code>RUN</code> command and press the Enter key.
Solo Forth will be loaded from disk.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_on_scorpion_zs_256">On Scorpion ZS 256</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run a ZX Spectrum emulator and select a Scorpion ZS 256.</p>
</li>
<li>
<p>"Insert" the disk image file
&lt;disks/trdos/disk_0_boot.scorpion_zs_256.trd&gt; as disk 'A'.</p>
</li>
<li>
<p>Choose "128 TR DOS" from the computer start menu.  Solo Forth will
be loaded from disk.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_library">The library</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The library can not be used on +3DOS because of a recently
introduced bug, which will be fixed in version 0.14.0.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The library disk contains the source code in Forth blocks, written
directly on the disk sectors, without any filesystem.  In order to use
the library, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#_run">Run Solo Forth</a>.</p>
</li>
<li>
<p>Insert the library disk:</p>
<div class="ulist">
<ul>
<li>
<p>On G+DOS: "Insert" the file &lt;disks/gplusdos/disk_1_library.mgt&gt; as
disk 2 of the Plus D disk interface. Type <code>2 set-drive throw</code> to
make drive 2 the current one.</p>
</li>
<li>
<p>On TR-DOS: "Insert" the file &lt;disks/trdos/disk_1_library.trd&gt; as
disk B of the Beta 128 interface. Type <code>1 set-drive throw</code> to make
drive 1<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</sup> the current one.</p>
</li>
<li>
<p>On +3DOS: "Insert" the file &lt;disks/plus3dos/disk_1_library.dsk&gt; as
disk A.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Type <code>1 load</code> to load block 1 from the library disk. By convention,
block 0 can not be loaded (it is used for comments), and block 1 is
used as a loader.  In Solo Forth, block 1 contains <code>2 load</code>, in
order to load the <code>need</code> tool and related words from block 2.</p>
</li>
<li>
<p>Type <code>need name</code>, were "name" is the name of the word or tool you
want to load from the library.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_library_index">Library index</h3>
<div class="paragraph">
<p>The <code>need</code> word and its related words search the index line (line 0)
of all blocks of the disk for the first occurence of the required
word, within a configurable range of blocks (using the variables
<code>first-locatable</code> and <code>last-locatable</code>).  Of course, nested <code>need</code> are
resolved the same way: searching the library from the beginning.  This
can be slow.  This is not a problem, because the goal of Solo Forth is
cross development, and therefore only the last step of the development
loop, i.e., the compilation of the sources from the disk images
created in the host system, compilation that includes all the slow
searching of library blocks, is done in the real (actually, emulated)
machine. But the system includes a tool to create an index of the
library, which is used to locate their contents instantaneously, what
makes things more comfortable when the Forth system is used
interactively.</p>
</div>
<div class="paragraph">
<p>How to use the library index:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Load the indexer with <code>need make-thru-index</code>.</p>
</li>
<li>
<p>Make the index and activate it with <code>make-thru-index</code>.</p>
</li>
<li>
<p>The default behaviour (no index) can be restored with
<code>use-no-index</code>.  The index can be reactivated with
<code>use-thru-index</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The indexer creates an index (actually, a Forth word list whose
definitions use no code or data space) and changes the default
behaviour of <code>need</code> and related words to use it. Then <code>need name</code> will
automatically start loading the first block where the word "name" is
defined.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Time and memory required to make the library index<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnote_4" title="View footnote.">4</a>]</sup></caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">DOS</th>
<th class="tableblock halign-left valign-top">First block</th>
<th class="tableblock halign-left valign-top">Last block</th>
<th class="tableblock halign-left valign-top">Seconds</th>
<th class="tableblock halign-left valign-top">Bytes of far memory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G+DOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">799</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">154</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13498</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">635</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">135</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13027</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The far memory is the virtual 64-KiB space formed by 4
configurable memory banks. No code or data space is used by the
indexer.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An alternative indexer is under development. It&#8217;s activated with
<code>use-fly-index</code> and does not make and index in advance: Instead, it
indexes the blocks on the fly, when they are searched the first time.
This indexer was included in Solo Forth 0.12.0 but it&#8217;s not finished
yet.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_search_the_source_files">How to search the source files</h3>
<div class="paragraph">
<p>Three simple one-line wrapper scripts are included to search the Forth
sources for a regular expression: &lt;tools/search_library&gt;,
&lt;tools/search_kernel&gt; and &lt;tools/search_source&gt; (to search all files
in the &lt;src&gt; directory).</p>
</div>
<div class="paragraph">
<p>The scripts use <code>ack</code>. In order to use the more common <code>grep</code>, edit
the files.  <code>ack</code> and <code>grep</code> are compatible.</p>
</div>
<div class="paragraph">
<p>Their first parameter is the regular expression. An optional second
parameter is passed to <code>ack</code>.</p>
</div>
<div class="paragraph">
<p>Usage examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>tools/search_source use-thru-index
tools/search_source use-thru-index -l
tools/search_kernel color
tools/search_kernel ";\s:\s"
tools/search_library "\-bank"
tools/search_library "code\s+\S+\s+\("</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_use_the_additional_source_disks">How to use the additional source disks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the needed source is in a different disk than the library,
<code>set-block-drives</code> must be used first in order to configure the drives
used as block drives, and their order. For example, this is the case
when you want to try the simple sample games from
&lt;disks/*/disk_2_games.\*&gt; or the benchmarks and tests from
&lt;disks/*/disk_3_workbench.\*&gt;.</p>
</div>
<div class="paragraph">
<p>The following example is for G+DOS.  First, "Insert" the file
&lt;disks/gplusdos/disk_1_library.mgt&gt; as disk 1.  Then, "Insert" the
file &lt;disks/gplusdos/disk_2_games.mgt&gt; as disk 2. Then enter the
following commands to load the Pong game:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cold \ just to start from scratch, if needed
1 load \ load the `need` utility from the library
need set-block-drives
2 1 2 set-block-drives
need pong</pre>
</div>
</div>
<div class="paragraph">
<p>Note the last parameter of <code>set-block-drives</code> is the number of the
drives used as block drives. The last but one parameter is the
identifier of the first drive used for blocks. Note also G+DOS uses
drive identifiers 1 and 2; TR-DOS uses 0, 1, 2 and 3; +3DOS uses
letters 'A' and 'B'.  See the glossary entry of <code>set-block-drives</code> for
more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test">How to test and benchmark</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Besides many little specific tests and benchmarks used during the
development of Solo Forth probably not interesting for the application
programmer, disk image number 3 (called "workbench") contains also and
adapted version of the Hayes test and some known benchmarks.</p>
</div>
<div class="paragraph">
<p>First, in order to access disk image number 3, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#_run">Run Solo Forth</a> or enter <code>cold</code> to start from scratch.</p>
</li>
<li>
<p>"Insert" the file &lt;disks/*/disk_1_library.\*&gt; (the <a href="#_disks">actual
subdirectory and filename</a> depend on your DOS) into the first disk
drive of your emulated machine, if it&#8217;s not already "inserted".</p>
</li>
<li>
<p>"Insert" the file &lt;disks/*/disk_3_workbench.\*&gt; (the
<a href="#_disks">actual subdirectory and filename</a> depend on your DOS) into
the second disk drive of your emulated machine, if it&#8217;s not already
"inserted".</p>
</li>
<li>
<p>Enter command <code>1 load</code> to load the <code>need</code> tool.</p>
</li>
<li>
<p>Enter command <code>need set-block-drives</code> to load <code>set-block-drives</code>.</p>
</li>
<li>
<p>Depending on your DOS, configure the block drives as follows:</p>
<div class="ulist">
<ul>
<li>
<p>On G+DOS: <code>2 1 2 set-block-drives</code></p>
</li>
<li>
<p>On TR-DOS: 1 0 2 set-block-drives`</p>
</li>
<li>
<p>On +3DOS: 'B' 'A' 2 set-block-drives`</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now the first two disk drives are used as block drives, and <code>need</code>
will search both of them as configured: first the first one (the
library), then the second one (the benchmarks and tests).</p>
</div>
<div class="paragraph">
<p>Second, depending on the code you want to run, enter the corresponding
command:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>need hayes-test</code></p>
</li>
<li>
<p><code>need byte-magazine-benchmark</code></p>
</li>
<li>
<p><code>need interface-age-benchmark</code></p>
</li>
<li>
<p><code>need vector-loop-benchmark</code></p>
</li>
<li>
<p><code>need all-benchmarks</code> to run all the three benchmarks above</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_write">How to write Forth programs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to use Solo Forth to write programs for ZX Spectrum,
programmers already acquainted with Forth and GNU/Linux systems can
extract all the required information from the &lt;Makefile&gt; of Solo
Forth.</p>
</div>
<div class="paragraph">
<p>The only difference between <a href="#__rebuild">building Solo Forth</a> and
building a Forth program is the content of disk 0 (the boot disk), if
needed, and the library modules included in disk 1 (the library disk),
which usually also contains the source of the program.  If the program
does not need to use the disk at run-time, you can simply copy the
default disk 0, and boot it to load your program from block 1 of your
customized disk 1, with a simple <code>1 load</code>. When the loading finishes,
you can save a system snapshot, in SZX format, using the corresponding
option of your ZX Spectrum emulator.</p>
</div>
<div class="paragraph">
<p>Some simple little games are provided as examples, in <a href="#_disks">disk
3</a>.  Some of them are not finished yet.</p>
</div>
<div class="paragraph">
<p>In order to try, improve and fix the Forth system during its
development, two more complex game projects are being developed at the
same time:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://programandala.net/en.program.black_flag.html">Black Flag</a>
(<a href="http://github.com/programandala-net/black-flag">Black Flag in
GitHub</a>).</p>
</li>
<li>
<p><a href="http://programandala.net/en.program.nuclear_waste_invaders.html">Nuclear
Waste Invaders</a>
(<a href="http://github.com/programandala-net/nuclear-waste-invaders">Nuclear
Waste Invaders in GitHub</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>They are not finished yet, but they can be useful as examples of
program development with Solo Forth.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rebuild">How to rebuild</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you modify the sources, you have to build new disk images for your
DOS of choice. Also the manual depends on the documentation included
in the sources.</p>
</div>
<div class="paragraph">
<p>First, see the requirements listed in the header of the &lt;Makefile&gt;
file and install the required programs. Then enter the project
directory and use one of the following commands to build the disk
images or the manual for your DOS of choice:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Commands to rebuild Solo Forth</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">DOS</th>
<th class="tableblock halign-left valign-top">Disk images</th>
<th class="tableblock halign-left valign-top">Documentation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G+DOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make gplusdos</code> or <code>make g</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make gplusdosdoc</code> or <code>make gdoc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS (all)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make trdos</code> or <code>make t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make trdosdoc</code> or <code>make tdoc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS (128k only)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make t128</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS (Pentagon 512/1024 only)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make pentagon</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TR-DOS (Scorpion ZS 256 only)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make scorpion</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+3DOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make plus3dos</code> or <code>make p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make plus3dosdoc</code> or <code>make pdoc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">All of them</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make all</code> or <code>make</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>make doc</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The disk images will be created in the &lt;disks&gt; directory. The HTML
manual will be created in the &lt;doc&gt; directory.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notation">Notation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_stack_notation">Stack notation</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Stack notation symbols for numbers</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 55.5555%;">
<col style="width: 22.2222%;">
<col style="width: 11.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Symbol</th>
<th class="tableblock halign-left valign-top">Data type</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Range</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aligned address<sup class="footnote" id="_footnote_align">[<a id="_footnoteref_5" class="footnote" href="#_footnote_5" title="View footnote.">5</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ca</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">character-aligned address<sup class="footnoteref">[<a class="footnote" href="#_footnote_5" title="View footnote.">5</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float-aligned address<sup class="footnoteref">[<a class="footnote" href="#_footnote_5" title="View footnote.">5</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">well-formed flag (false: 0; true: -1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1..0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zero flag (false: 0; true: non-zero)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-32768..0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true flag (-1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false flag (0)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-128..127, 0..255</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit character</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..255</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">char</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit character</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..255</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">u</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit unsigned number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">len</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit unsigned number (memory zone length)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65335</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit signed number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-32768..32767</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit non-negative number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..32767</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit unspecified number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-32768..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit signed double number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 cells</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2147483648..2147483647</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit non-negative double number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 cells</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..2147483647</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ud</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit unsigned double number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 cells</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..4294697295</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit unspecified number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 cells</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-2147483648..2147483647</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48-bit signed triple number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ut</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48-bit unsigned triple number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">q</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit signed quadruple number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit unsigned quadruple number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit cursor column</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..31, 0..41, 0..63</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit cursor row</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..23</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit cursor x coordinate (column)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..31, 0..41, 0..63</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit cursor y coordinate (row)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..23</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit (absolute) or 16-bit (relative) graphic x coordinate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..255, -32768..32767</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">gy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit (absolute) or 16-bit (relative) graphic y coordinate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..191, -32768..32767, 0..175</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">execution token (=cfa)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cfa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">code field address (=xt)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lfa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link field address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name token (=nfa)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nfa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name field address (=nt)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pfa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">parameter field address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xtp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">execution token pointer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">word-list identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ior</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input/Output error result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dosior</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input/Output error result in DOS format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">orig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">address of an unresolved forward branch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">address of a backward branch target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cs-id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">control structure identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">do-sys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loop control parameters (=orig)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..65535</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">loop-sys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loop control parameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nest-sys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">definition call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source-sys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">source identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">i*x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any data type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or more cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">j*x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any data type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or more cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">k*x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any data type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or more cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">u*x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u elements of type x (eg. <code>u*wid</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or more cells</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">r</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a floating point real number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 bytes<sup class="footnote" id="_footnote_float">[<a id="_footnoteref_6" class="footnote" href="#_footnote_6" title="View footnote.">6</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1E-38..1E38</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a floating point real number flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5 bytes<sup class="footnoteref">[<a class="footnote" href="#_footnote_6" title="View footnote.">6</a>]</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">op</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z80 8-bit opcode, generally a jump</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..255</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z80 8-bit register identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0..7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z80 16-bit register pair identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0, 2, 4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regph</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z80 16-bit HL register pair identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">regpi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z80 16-bit IX/IY register pair identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Stack notation symbols for parsed text</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Symbol</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;char&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the delimiting character marking the end of the string being parsed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;chars&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zero or more consecutive occurrences of the character char</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;space&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a delimiting space character</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;spaces&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zero or more consecutive occurrences of the character space</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;quote&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a delimiting double quote</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;paren&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a delimiting right parenthesis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;eol&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an implied delimiter marking the end of a line</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ccc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a parsed sequence of arbitrary characters, excluding the delimiter character</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a token delimited by space, equivalent to <code>ccc&lt;space&gt;</code> or <code>ccc&lt;eol&gt;</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_glossary">Glossary</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="entry21-src-kernel-z80s"><a id="entry21"></a>!</h3>
<div class="listingblock">
<div class="content">
<pre>! ( x a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x</em> at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry40">@</a></code>, <code><a href="#entry2B21">+!</a></code>, <code><a href="#entry3221">2!</a></code>, <code><a href="#entry6321">c!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry213E-src-lib-data-store-to-fs"><a id="entry213E"></a>!&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>!&gt;
  Interpretation: ( x "name" -- )
  Compilation:    ( "name" -- )
  Run-time:       ( x -- )
"store-to"</pre>
</div>
</div>
<div class="paragraph">
<p>A simpler and faster alternative to standard <code><a href="#entry746F">to</a></code> and
<code><a href="#entry76616C7565">value</a></code>.</p>
</div>
<div class="paragraph">
<p><code>!&gt;</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Interpretation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is the name of a word created by
<code><a href="#entry636F6E7374616E74">constant</a></code> or <code><a href="#entry636F6E7374">const</a></code>, and make <em>x</em> its value.</p>
</div>
<div class="paragraph">
<p>Compilation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is a word created by <code><a href="#entry636F6E7374616E74">constant</a></code> or
<code><a href="#entry636F6E7374">const</a></code>, and append the run-time semantics given below to
the current definition.</p>
</div>
<div class="paragraph">
<p>Run-time:</p>
</div>
<div class="paragraph">
<p>Make <em>x</em> the current value of constant <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63213E">c!&gt;</a></code>, <code><a href="#entry32213E">2!&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.store-to.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2161-src-lib-memory-address_register-fs"><a id="entry2161"></a>!a</h3>
<div class="listingblock">
<div class="content">
<pre>!a ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x</em> at the address register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry4061">@a</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry21612B-src-lib-memory-address_register-fs"><a id="entry21612B"></a>!a+</h3>
<div class="listingblock">
<div class="content">
<pre>!a+ ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x</em> at the address register and increment the address
register by one cell.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry40612B">@a+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2162616E6B-src-lib-memory-far-fs"><a id="entry2162616E6B"></a>!bank</h3>
<div class="listingblock">
<div class="content">
<pre>!bank ( x a n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store cell <em>x</em> into address <em>a</em> ($C000..$FFFF) of bank <em>n</em>
(0..7).</p>
</div>
<div class="paragraph">
<p><code>!bank</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: !bank ( x a n -- ) bank ! default-bank ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry21626974-src-lib-data-array-bit-fs"><a id="entry21626974"></a>!bit</h3>
<div class="listingblock">
<div class="content">
<pre>!bit ( f b ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store flag <em>f</em> in an element of a bit-array, represented by
address <em>ca</em> and bitmask <em>b</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry40626974">@bit</a></code>, <code><a href="#entry6269742D6172726179">bit-array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.bit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry21637370-src-kernel-z80s"><a id="entry21637370"></a>!csp</h3>
<div class="listingblock">
<div class="content">
<pre>!csp ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the the current data stack position, <code><a href="#entry737040">sp@</a></code>, into <code><a href="#entry637370">csp</a></code>,
to be checked later by <code><a href="#entry3F637370">?csp</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: !csp ( -- ) sp@ csp ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2165786368616E6765-src-lib-memory-MISC-fs"><a id="entry2165786368616E6765"></a>!exchange</h3>
<div class="listingblock">
<div class="content">
<pre>!exchange ( x1 a -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x1</em> into <em>a</em> and return its previous contents <em>x2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry632165786368616E6765">c!exchange</a></code>, <code><a href="#entry65786368616E6765">exchange</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2170-src-lib-memory-ports-fs"><a id="entry2170"></a>!p</h3>
<div class="listingblock">
<div class="content">
<pre>!p ( b a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Output byte <em>b</em> to port <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry4070">@p</a></code>, <code><a href="#entry21">!</a></code>, <code><a href="#entry6321">c!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.ports.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry21736F756E64-src-lib-sound-128-fs"><a id="entry21736F756E64"></a>!sound</h3>
<div class="listingblock">
<div class="content">
<pre>!sound ( b1 b2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set sound register <em>b2</em> (0&#8230;&#8203;13) to value <em>b1</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry40736F756E64">@sound</a></code>, <code><a href="#entry736F756E64">sound</a></code>, <code><a href="#entry706C6179">play</a></code>, <code><a href="#entry736F756E642D72656769737465722D706F7274">sound-register-port</a></code>,
<code><a href="#entry736F756E642D77726974652D706F7274">sound-write-port</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry21766F6C756D65-src-lib-sound-128-fs"><a id="entry21766F6C756D65"></a>!volume</h3>
<div class="listingblock">
<div class="content">
<pre>!volume ( b1 b2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>b1</em> at volume register of channel <em>b2</em> (0..2,
equivalent to notation 'A'..'C').</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Registers 8..10 (Channels A..C Volume)</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bits 0-4
</td>
<td class="hdlist2">
<p>Channel volume level.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 5   
</td>
<td class="hdlist2">
<p>1=Use envelope defined by register 13 and ignore the volume setting.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bits 6-7
</td>
<td class="hdlist2">
<p>Not used.</p>
</td>
</tr>
</table>
</div>
</blockquote>
<div class="attribution">
&#8212; Disassembly of the ZX Spectrum 128k ROM0
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry40766F6C756D65">@volume</a></code>, <code><a href="#entry21736F756E64">!sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry23-src-kernel-z80s"><a id="entry23"></a>#</h3>
<div class="listingblock">
<div class="content">
<pre># ( d1 -- d2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>d1</em> by current base.  The remainder is converted to
an ASCII character and appended to the output text string.
The quotient <em>d2</em> is left on stack.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: # ( d1 -- d2 ) base @ ud/mod rot &gt;digit hold ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry233E-src-kernel-z80s"><a id="entry233E"></a>#&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>#&gt; ( xd -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry233E6B6B-src-lib-keyboard-MISC-fs"><a id="entry233E6B6B"></a>#&gt;kk</h3>
<div class="listingblock">
<div class="content">
<pre>#&gt;kk ( n -- bitmask port )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert keyboard key number <em>n</em> to its data: <em>bitmask</em> is
the key bitmask and <em>port</em> is the keyboard row port.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2353-src-kernel-z80s"><a id="entry2353"></a>#S</h3>
<div class="listingblock">
<div class="content">
<pre>#S ( d1 -- d2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry23626C6F636B2D647269766573-src-kernel-z80s"><a id="entry23626C6F636B2D647269766573"></a>#block-drives</h3>
<div class="listingblock">
<div class="content">
<pre>#block-drives ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the number of block drives
defined in <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code>, i.e. the number of drives that are
used for blocks.  <code>#block-drives</code> could be modified
manually, provided also <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code> is configured
accordingly, but <code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code> is provided for that.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry236368617273-src-lib-strings-MISC-fs"><a id="entry236368617273"></a>#chars</h3>
<div class="listingblock">
<div class="content">
<pre>#chars ( ca len c -- +n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the count <em>+n</em> of chars <em>c</em> in a string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry23737061636573">#spaces</a></code>, <code><a href="#entry636861722D696E2D737472696E673F">char-in-string?</a></code>, <code><a href="#entry636861722D706F736974696F6E3F">char-position?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry236573632D6F72646572-src-lib-strings-escaped-fs"><a id="entry236573632D6F72646572"></a>#esc-order</h3>
<div class="listingblock">
<div class="content">
<pre>#esc-order ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the number of word lists in the
escaped strings search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6573632D636F6E74657874">esc-context</a></code>, <code><a href="#entry6573632D6D61782D6F72646572">esc-max-order</a></code>, <code><a href="#entry6573632D6765742D6F72646572">esc-get-order</a></code>,
<code><a href="#entry6573632D7365742D6F72646572">esc-set-order</a></code>, <code><a href="#entry3E6573632D6F72646572">&gt;esc-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry236C6167-src-lib-editor-specforth-fs"><a id="entry236C6167"></a>#lag</h3>
<div class="listingblock">
<div class="content">
<pre>#lag ( -- ca n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return cursor address <em>ca</em> and count <em>n</em> after cursor till
end of line.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry236C656164-src-lib-editor-specforth-fs"><a id="entry236C656164"></a>#lead</h3>
<div class="listingblock">
<div class="content">
<pre>#lead ( -- a n )</pre>
</div>
</div>
<div class="paragraph">
<p>From the cursor pointer <code><a href="#entry7223">r#</a></code> compute the line address <em>a</em>
in the block buffer and the offset from <em>a</em> to the cursor
location <em>n</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry236C6F63617465-src-lib-editor-specforth-fs"><a id="entry236C6F63617465"></a>#locate</h3>
<div class="listingblock">
<div class="content">
<pre>#locate ( -- n1 n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>From the cursor pointer <code><a href="#entry7223">r#</a></code> compute the line number <em>n2</em>
and the character offset <em>n1</em> in line number <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry236F72646572-src-kernel-z80s"><a id="entry236F72646572"></a>#order</h3>
<div class="listingblock">
<div class="content">
<pre>#order ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the number of word lists in the
search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6E74657874">context</a></code>, <code><a href="#entry6D61782D6F72646572">max-order</a></code>, <code><a href="#entry6765742D6F72646572">get-order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>,
<code><a href="#entry3E6F72646572">&gt;order</a></code>, <code><a href="#entry6F72646572">order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry23737061636573-src-lib-strings-MISC-fs"><a id="entry23737061636573"></a>#spaces</h3>
<div class="listingblock">
<div class="content">
<pre>#spaces ( ca len -- +n )</pre>
</div>
</div>
<div class="paragraph">
<p>Count number <em>+n</em> of spaces in a string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry236368617273">#chars</a></code>, <code><a href="#entry737061636573">spaces</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry23746962-src-kernel-z80s"><a id="entry23746962"></a>#tib</h3>
<div class="listingblock">
<div class="content">
<pre>#tib ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the address of a cell containing the number of
characters in the terminal input buffer.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE EXT,
obsolescent).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746962">tib</a></code>, <code><a href="#entry2F746962">/tib</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry23776F726473-src-kernel-z80s"><a id="entry23776F726473"></a>#words</h3>
<div class="listingblock">
<div class="content">
<pre>#words ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p><em>u</em> is the number of words currently defined in the system.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry25-src-lib-math-operators-1-cell-fs"><a id="entry25"></a>%</h3>
<div class="listingblock">
<div class="content">
<pre>% ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n1</em> is percentage <em>n3</em> of <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7525">u%</a></code>, <code><a href="#entry2A2F">*/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry27-src-kernel-z80s"><a id="entry27"></a>'</h3>
<div class="listingblock">
<div class="content">
<pre>' ( "name" -- xt )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>name</em> is found in the current search order, return its
execution token <em>xt</em>, else throw an exception.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ' ( "name" -- xt ) defined dup ?defined name&gt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B275D">[']</a></code>, <code><a href="#entry2727">''</a></code>, <code><a href="#entry646566696E6564">defined</a></code>, <code><a href="#entry3F646566696E6564">?defined</a></code>, <code><a href="#entry3E">&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2727-src-lib-compilation-fs"><a id="entry2727"></a>''</h3>
<div class="listingblock">
<div class="content">
<pre>'' ( "name" -- xtp )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>name</em> is found in the current search order, return its
execution-token pointer <em>xtp</em>, else throw an exception.</p>
</div>
<div class="paragraph">
<p>Since aliases share the execution token of their original
word, it&#8217;s not possible to get the name of an alias from
its execution token. But <code>''</code> can do it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>' drop alias discard
' discard &gt;name .name       \ this prints "drop"
'' discard &gt;&gt;name .name     \ this prints "discard"</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B27275D">['']</a></code>, <code><a href="#entry27">'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry27627327-src-lib-display-control-fs"><a id="entry27627327"></a>'bs'</h3>
<div class="listingblock">
<div class="content">
<pre>'bs' ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>A character constant that returns the caracter code used as
backspace (8).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry27637227">'cr'</a></code>, <code><a href="#entry2774616227">'tab'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry27637227-src-lib-display-control-fs"><a id="entry27637227"></a>'cr'</h3>
<div class="listingblock">
<div class="content">
<pre>'cr' ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>A character constant that returns the caracter code used as
carriage return (13).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6372">cr</a></code>, <code><a href="#entry637273">crs</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2773-src-lib-multitask-muench-koh-fs"><a id="entry2773"></a>'s</h3>
<div class="listingblock">
<div class="content">
<pre>'s ( tid a -- a' )</pre>
</div>
</div>
<div class="paragraph">
<p>Index another task&#8217;s user variable.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2774616227-src-lib-display-control-fs"><a id="entry2774616227"></a>'tab'</h3>
<div class="listingblock">
<div class="content">
<pre>'tab' ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>A character constant that returns the caracter code used as
tabulator (6).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746162">tab</a></code>, <code><a href="#entry27637227">'cr'</a></code>, <code><a href="#entry27627327">'bs'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28-src-kernel-z80s"><a id="entry28"></a>(</h3>
<div class="listingblock">
<div class="content">
<pre>( ( "ccc&lt;paren&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse until a right paren is found.  The number of parsed
characters may be zero to the number of characters in the
parse area.</p>
</div>
<div class="paragraph">
<p><code>(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry282B61746F29-src-lib-data-array-value-fs"><a id="entry282B61746F29"></a>(+ato)</h3>
<div class="listingblock">
<div class="content">
<pre>(+ato) ( n1 n2 xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n1</em> to element <em>n2</em> of 1-dimension single-cell
values array <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6176616C7565">avalue</a></code>, <code><a href="#entry2B61746F">+ato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry282B6361746F29-src-lib-data-array-value-fs"><a id="entry282B6361746F29"></a>(+cato)</h3>
<div class="listingblock">
<div class="content">
<pre>(+cato) ( c n xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>c</em> to element <em>n</em> of 1-dimension character values
array <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636176616C7565">cavalue</a></code>, <code><a href="#entry2B6361746F">+cato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry282B6C6F6F7029-src-kernel-z80s"><a id="entry282B6C6F6F7029"></a>(+loop)</h3>
<div class="listingblock">
<div class="content">
<pre>(+loop) ( n -- ) ( R: loop-sys1 -- loop-sys2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n</em> to the loop index. If the loop index did not cross the
boundary between the loop limit minus one and the loop limit,
continue execution at the beginning of the loop. Otherwise,
discard the loop parameters and continue execution immediately
following the loop.</p>
</div>
<div class="paragraph">
<p><code>(+loop)</code> is compiled by <code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry286C6F6F7029">(loop)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry282D646F29-src-lib-flow-do-fs"><a id="entry282D646F29"></a>(-do)</h3>
<div class="listingblock">
<div class="content">
<pre>(-do) ( n1|u1 n2|u2 -- ) ( R: -- loop-sys | )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n1|u1</em> is not less than <em>n2|u2</em>, discard both
parameters and continue execution at the location given by
the consumer of the <em>do-sys</em> left by <code><a href="#entry2D646F">-do</a></code> at compilation
time.  Otherwise set up loop control parameters <em>loop-sys</em>
with index <em>n2|u2</em> and limit <em>n1|u1</em> and continue executing
immediately following <code><a href="#entry2D646F">-do</a></code>.  Anything  already on the
return stack becomes unavailable until the loop control
parameters <em>loop_sys</em> are discarded.</p>
</div>
<div class="paragraph">
<p><code>(-do)</code> is compiled by <code><a href="#entry2D646F">-do</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.do.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry282E2229-src-kernel-z80s"><a id="entry282E2229"></a>(.")</h3>
<div class="listingblock">
<div class="content">
<pre>(.") ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Type the compiled string that follows.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: (.") ( -- ) r@ count dup char+ r&gt; + &gt;r type ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry282E776F7264-src-lib-tool-list-words-fs"><a id="entry282E776F7264"></a>(.word</h3>
<div class="listingblock">
<div class="content">
<pre>(.word ( nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Default action of <code><a href="#entry2E776F7264">.word</a></code>: print the name of the
definition <em>nt</em> and execute <code><a href="#entry746162">tab</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry282E787329-src-lib-data-xstack-fs"><a id="entry282E787329"></a>(.xs)</h3>
<div class="listingblock">
<div class="content">
<pre>(.xs) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display a list of the items in the current <code><a href="#entry78737461636B">xstack</a></code>; TOS is
the right-most item.</p>
</div>
<div class="paragraph">
<p><code>(.xs)</code> is a factor of <code><a href="#entry2E7873">.xs</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28302D312D382D636F6C6F722E-src-lib-display-attributes-fs"><a id="entry28302D312D382D636F6C6F722E"></a>(0-1-8-color.</h3>
<div class="listingblock">
<div class="content">
<pre>(0-1-8-color. ( n c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print control character <em>c</em>. Then convert <em>n</em> to the set 0,
1 and 8 and print it as a character. The conversion of <em>n</em>
is done as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0, 1 and 8 are not changed.</p>
</li>
<li>
<p>2, 4 and 6 are converted to 0.</p>
</li>
<li>
<p>3, 5 and 7 are converted to 1.</p>
</li>
<li>
<p>Values greater than 8 or less than 0 are converted to 8.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This word is a factor of <code><a href="#entry666C6173682E">flash.</a></code> and <code><a href="#entry6272696768742E">bright.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28302D392D636F6C6F722E-src-lib-display-attributes-fs"><a id="entry28302D392D636F6C6F722E"></a>(0-9-color.</h3>
<div class="listingblock">
<div class="content">
<pre>(0-9-color. ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> of a routine used by <code><a href="#entry70617065722E">paper.</a></code> and
<code><a href="#entry696E6B2E">ink.</a></code>.  This routine prints a color attribute in the range
0..9.</p>
</div>
<div class="paragraph">
<p>Input:
- A = attribute control char ($10 for ink, $11 for paper)
- TOS = attribute value (0..9)</p>
</div>
<div class="paragraph">
<p>Note: If TOS is greater than 9, 9 is used instead.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry283261746F29-src-lib-data-array-value-fs"><a id="entry283261746F29"></a>(2ato)</h3>
<div class="listingblock">
<div class="content">
<pre>(2ato) ( xd n xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>xd</em> into element <em>n</em> of 1-dimension double-cell
values array <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3261746F">2ato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry283B636F646529-src-kernel-z80s"><a id="entry283B636F646529"></a>(;code)</h3>
<div class="listingblock">
<div class="content">
<pre>(;code) ( -- ) ( R: a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Rewrite the code field of the most recently defined high-level
word (it can not be a code word) to point to the following
machine code sequence.</p>
</div>
<div class="paragraph">
<p><code>(;code)</code> is the run-time procedure compiled by <code><a href="#entry3B636F6465">;code</a></code> and
<code><a href="#entry646F65733E">does&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: (;code) ( -- ) ( R: a -- ) r&gt; latest name&gt; 1+ ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6174657374">latest</a></code>, <code><a href="#entry6E616D653E">name&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry283E64726976652D626C6F636B-src-lib-dos-COMMON-fs"><a id="entry283E64726976652D626C6F636B"></a>(&gt;drive-block</h3>
<div class="listingblock">
<div class="content">
<pre>(&gt;drive-block ( u1 -- u2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert block <em>u1</em> to its equivalent <em>u2</em> in its
corresponding disk drive, which is set the current drive.</p>
</div>
<div class="paragraph">
<p><code>(&gt;drive-block</code> becomes the action of <code><a href="#entry3E64726976652D626C6F636B">&gt;drive-block</a></code>
after <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code> has been loaded.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F647269766523">?drive#</a></code>, <code><a href="#entry3F626C6F636B2D6472697665">?block-drive</a></code>, <code><a href="#entry7365742D6472697665">set-drive</a></code>,
<code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry283E746170652D66696C6529-src-lib-tape-fs"><a id="entry283E746170652D66696C6529"></a>(&gt;tape-file)</h3>
<div class="listingblock">
<div class="content">
<pre>(&gt;tape-file) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Write a tape file using the data stored at <code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p><code>(&gt;tape-file)</code> is a factor of <code><a href="#entry3E746170652D66696C65">&gt;tape-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry283F636361736529-src-lib-flow-ccase-fs"><a id="entry283F636361736529"></a>(?ccase)</h3>
<div class="listingblock">
<div class="content">
<pre>(?ccase) ( c ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Run-time procedure compiled by <code><a href="#entry3F6363617365">?ccase</a></code>.  If <em>c</em> is in the
string <em>ca len</em>, execute the n-th word compiled after
<code><a href="#entry3F6363617365">?ccase</a></code>, where <em>n</em> is the position of the first <em>c</em> in the
string (0..len-1).  If <em>c</em> is not in <em>ca len</em>, do nothing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry283F646F29-src-kernel-z80s"><a id="entry283F646F29"></a>(?do)</h3>
<div class="listingblock">
<div class="content">
<pre>(?do) ( n1|u1 n2|u2 -- ) ( R: -- loop-sys | )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n1|u1</em> is equal to <em>n2|u2</em>, continue execution at the
location given by the consumer of the <em>do-sys</em> left by <code><a href="#entry3F646F">?do</a></code>
at compilation time.  Otherwise set up loop control parameters
<em>loop-sys</em> with index <em>n2|u2</em> and limit <em>n1|u1</em> and continue
executing immediately following <code><a href="#entry3F646F">?do</a></code>.  Anything  already on
the  return stack becomes unavailable until the loop control
parameters <em>loop_sys</em> are discarded.</p>
</div>
<div class="paragraph">
<p><code>(?do)</code> is compiled by <code><a href="#entry3F646F">?do</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry28646F29">(do)</a></code>, <code><a href="#entry282D646F29">(-do)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2861626F727429-src-kernel-z80s"><a id="entry2861626F727429"></a>(abort)</h3>
<div class="listingblock">
<div class="content">
<pre>(abort) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28616E792D6F6629-src-lib-flow-case-fs"><a id="entry28616E792D6F6629"></a>(any-of)</h3>
<div class="listingblock">
<div class="content">
<pre>(any-of) ( x0 x1..xn n -- x0 x0 | x0 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>The run-time factor of <code><a href="#entry616E792D6F66">any-of</a></code>.  If <em>x0</em> equals any of
<em>x1..xn</em>, return <em>x0 x0</em>; else return <em>x0 0</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2861742D7879-src-lib-display-mode-COMMON-fs"><a id="entry2861742D7879"></a>(at-xy</h3>
<div class="listingblock">
<div class="content">
<pre>(at-xy  ( col row -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the cursor coordinates to column <em>col</em> and row <em>row</em>,
by displaying control character 22 followed by <em>col</em> and
<em>row</em>, as needed by some display modes, e.g. <code><a href="#entry6D6F64652D3634">mode-64</a></code> and
<code><a href="#entry6D6F64652D3432">mode-42</a></code>.  The upper left corner is column zero, row zero.</p>
</div>
<div class="paragraph">
<p><code>(at-xy</code> is a possible action of <code><a href="#entry61742D7879">at-xy</a></code>, which is a
deferred word configured by the current display mode.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The default <code><a href="#entry6D6F64652D3332">mode-32</a></code> expects <em>row</em> right after
control character 22, and then <em>col</em>, i.e in the order used
by Sinclair BASIC. This will be fixed/unified in a future
version of Solo Forth.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.mode.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2861746F29-src-lib-data-array-value-fs"><a id="entry2861746F29"></a>(ato)</h3>
<div class="listingblock">
<div class="content">
<pre>(ato) ( x n xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x</em> into element <em>n</em> of 1-dimension single-cell
values array <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61746F">ato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28626164656E2D73717274-src-lib-math-operators-1-cell-fs"><a id="entry28626164656E2D73717274"></a>(baden-sqrt</h3>
<div class="listingblock">
<div class="content">
<pre>(baden-sqrt ( n1 -- n2 n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Integer square root <em>n3</em> of radicand <em>n1</em> with remainder
<em>n2</em>. <code>(baden-sqrt</code> is a factor of <code><a href="#entry626164656E2D73717274">baden-sqrt</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2862796529-src-kernel-z80s"><a id="entry2862796529"></a>(bye)</h3>
<div class="listingblock">
<div class="content">
<pre>(bye) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286329-src-lib-editor-specforth-fs"><a id="entry286329"></a>(c)</h3>
<div class="listingblock">
<div class="content">
<pre>(c) ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy the string <em>ca len</em> to the cursor line at the cursor
position.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28636174-src-lib-dos-plus3dos-fs"><a id="entry28636174"></a>(cat</h3>
<div class="listingblock">
<div class="content">
<pre>(cat ( ca1 ca2 x -- n ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Fill a buffer <em>ca2</em> with part of the directory (sorted),
using filename stored at <em>ca1</em>. Input and output
parameters:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<em>ca1</em> 
</td>
<td class="hdlist2">
<p>address of $FF-terminated filename (wildcards permitted)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>ca2</em> 
</td>
<td class="hdlist2">
<p>address of buffer</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>x</em> (low byte) 
</td>
<td class="hdlist2">
<p>bit 0 set if system files are included</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>x</em> (high byte) 
</td>
<td class="hdlist2">
<p>size of the buffer in entries, plus one (&gt;=2)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>n</em> 
</td>
<td class="hdlist2">
<p>number of completed entries in buffer (if non-zero, there may be more to come)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>ior</em> 
</td>
<td class="hdlist2">
<p>result error (if non-zero, <em>n</em> is undefined)</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code><a href="#entry28636174">(cat</a></code> is a factor of <code><a href="#entry77636174">wcat</a></code> and a direct interface to the
DOS CATALOG +3DOS routine.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286361746F29-src-lib-data-array-value-fs"><a id="entry286361746F29"></a>(cato)</h3>
<div class="listingblock">
<div class="content">
<pre>(cato) ( c n xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c</em> into element <em>n</em> of 1-dimension character
values array <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6361746F">cato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28636361736529-src-lib-flow-ccase-fs"><a id="entry28636361736529"></a>(ccase)</h3>
<div class="listingblock">
<div class="content">
<pre>(ccase) ( c ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Run-time procedure compiled by <code><a href="#entry6363617365">ccase</a></code>.  If <em>c</em> is in the
string <em>ca len</em>, execute the n-th word compiled after
<code><a href="#entry6363617365">ccase</a></code>, where <em>n</em> is the position of the first <em>c</em> in the
string (0..len-1).  If <em>c</em> is not in <em>ca len</em>,
execute the word compiled right before <code><a href="#entry656E646363617365">endccase</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2863636173653029-src-lib-flow-ccase-fs"><a id="entry2863636173653029"></a>(ccase0)</h3>
<div class="listingblock">
<div class="content">
<pre>(ccase0) ( c ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Run-time procedure compiled by <code><a href="#entry636361736530">ccase0</a></code>.  If <em>c</em> is in the
string <em>ca len</em>, execute the n-th word compiled after
<code><a href="#entry636361736530">ccase0</a></code>, where <em>n</em> is the position of the first <em>c</em> in the
string (0..len-1) plus 1.  If <em>c</em> is not in <em>ca len</em>,
execute the word compiled right after <code><a href="#entry636361736530">ccase0</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28636C6F73652D66696C65-src-lib-dos-plus3dos-fs"><a id="entry28636C6F73652D66696C65"></a>(close-file</h3>
<div class="listingblock">
<div class="content">
<pre>(close-file ( fid -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Close the file identified by <em>fid</em> and return error result
<em>ior</em>.</p>
</div>
<div class="paragraph">
<p><code>(close-file</code> is a factor of <code><a href="#entry28636C6F73652D66696C65">(close-file</a></code>.
<code>(close-file</code> closes the file, but does not update
<code><a href="#entry66696C652D69642D7461626C65">file-id-table</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28636F6D702729-src-lib-compilation-fs"><a id="entry28636F6D702729"></a>(comp')</h3>
<div class="listingblock">
<div class="content">
<pre>(comp') ( nt -- xt )</pre>
</div>
</div>
<div class="paragraph">
<p>A factor of <code><a href="#entry6E616D653E636F6D70696C65">name&gt;compile</a></code>. If <em>nt</em> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word,
return the <em>xt</em> of <code><a href="#entry65786563757465">execute</a></code>, else return the <em>xt</em> of
<code><a href="#entry636F6D70696C652C">compile,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28637229-src-kernel-z80s"><a id="entry28637229"></a>(cr)</h3>
<div class="listingblock">
<div class="content">
<pre>(cr) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Default action of the deferred word <code><a href="#entry6372">cr</a></code>:
Transmit a carriage return to the selected output device.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28642E-src-lib-display-numbers-fs"><a id="entry28642E"></a>(d.</h3>
<div class="listingblock">
<div class="content">
<pre>(d. ( d n -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>d</em> to an unsigned number in the current <code><a href="#entry62617365">base</a></code>,
with <em>n</em> digits, as string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2862696E2E">(bin.</a></code>, <code><a href="#entry286865782E">(hex.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286462696E2E-src-lib-display-numbers-fs"><a id="entry286462696E2E"></a>(dbin.</h3>
<div class="listingblock">
<div class="content">
<pre>(dbin. ( d n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>d</em> as an unsigned binary number with <em>n</em> digits.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry286865782E">(hex.</a></code>, <code><a href="#entry333262696E2E">32bin.</a></code>, <code><a href="#entry313662696E2E">16bin.</a></code>, <code><a href="#entry3862696E2E">8bin.</a></code>, <code><a href="#entry62696E2E">bin.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28646566657229-src-kernel-z80s"><a id="entry28646566657229"></a>(defer)</h3>
<div class="listingblock">
<div class="content">
<pre>(defer) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Default action of an uninitialized deferred word: error.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2864656C6574652D66696C65-src-lib-dos-plus3dos-fs"><a id="entry2864656C6574652D66696C65"></a>(delete-file</h3>
<div class="listingblock">
<div class="content">
<pre>(delete-file ( ca -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Delete the disk file named in the $FF-terminated string
<em>ca</em> and return an error result <em>ior</em>.</p>
</div>
<div class="paragraph">
<p><code>(delete-file</code> is a factor of <code><a href="#entry64656C6574652D66696C65">delete-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28646865782E-src-lib-display-numbers-fs"><a id="entry28646865782E"></a>(dhex.</h3>
<div class="listingblock">
<div class="content">
<pre>(dhex. ( d n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>d</em> as an unsigned hexadecimal number with <em>n</em> digits.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2862696E2E">(bin.</a></code>, <code><a href="#entry33326865782E">32hex.</a></code>, <code><a href="#entry31366865782E">16hex.</a></code>, <code><a href="#entry386865782E">8hex.</a></code>, <code><a href="#entry6865782E">hex.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28646F29-src-kernel-z80s"><a id="entry28646F29"></a>(do)</h3>
<div class="listingblock">
<div class="content">
<pre>(do) ( n1|u1 n2|u2 -- ) ( R: -- loop-sys )</pre>
</div>
</div>
<div class="paragraph">
<p>Set up loop control parameters <em>loop-sys</em> with index <em>n2|u2</em>
and limit <em>n1|u1</em> and continue executing immediately following
<code><a href="#entry646F">do</a></code>.  Anything  already on the  return stack becomes
unavailable until the loop control parameters <em>loop_sys</em> are
discarded.</p>
</div>
<div class="paragraph">
<p><code>(do)</code> is compiled by <code><a href="#entry646F">do</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry283F646F29">(?do)</a></code>, <code><a href="#entry282D646F29">(-do)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28647374657029-src-lib-flow-dfor-fs"><a id="entry28647374657029"></a>(dstep)</h3>
<div class="listingblock">
<div class="content">
<pre>(dstep) ( R: x d -- x d' | x )</pre>
</div>
</div>
<div class="paragraph">
<p>The run-time procedure compiled by <code><a href="#entry6473746570">dstep</a></code>.</p>
</div>
<div class="paragraph">
<p>If the loop index <em>ud</em> is zero, discard it and continue
execution after the loop. Otherwise decrement the loop
index and continue execution at the beginning of the loop.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.dfor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28672D656D6974-src-lib-display-g-emit-fs"><a id="entry28672D656D6974"></a>(g-emit</h3>
<div class="listingblock">
<div class="content">
<pre>(g-emit ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display character <em>c</em> (32..127) at the current graphic
coordinates.</p>
</div>
<div class="paragraph">
<p>The character is printed with overprinting (equivalent to
<code>1 overprint</code>).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D656D6974">g-emit</a></code>, <code><a href="#entry672D656D69745F">g-emit_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.g-emit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286769676174797065-src-lib-display-gigatype-fs"><a id="entry286769676174797065"></a>(gigatype</h3>
<div class="listingblock">
<div class="content">
<pre>(gigatype ( ca len a1 a2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display text string <em>ca len</em>
at screen address <em>a1</em> using style data table <em>a2</em>.</p>
</div>
<div class="paragraph">
<p><code>(gigatype</code> is written in Z80 and it&#8217;s a factor of
<code><a href="#entry6769676174797065">gigatype</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.gigatype.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28677265617465722D6F6629-src-lib-flow-case-fs"><a id="entry28677265617465722D6F6629"></a>(greater-of)</h3>
<div class="listingblock">
<div class="content">
<pre>(greater-of) ( x1 x2 -- x1 x1 | x1 x1' )</pre>
</div>
</div>
<div class="paragraph">
<p>The run-time factor of <code><a href="#entry677265617465722D6F66">greater-of</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28686561702D696E-src-lib-memory-allocate-COMMON-fs"><a id="entry28686561702D696E"></a>(heap-in</h3>
<div class="listingblock">
<div class="content">
<pre>(heap-in  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the current <code><a href="#entry68656170">heap</a></code> was created by <code><a href="#entry62616E6B2D68656170">bank-heap</a></code>, page in
its bank, which is stored at <code><a href="#entry686561702D62616E6B">heap-bank</a></code>; else do nothing.</p>
</div>
<div class="paragraph">
<p><code>(heap-in</code> is the action of <code><a href="#entry686561702D696E">heap-in</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28686F6D6529-src-kernel-z80s"><a id="entry28686F6D6529"></a>(home)</h3>
<div class="listingblock">
<div class="content">
<pre>(home) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Default action of <code><a href="#entry686F6D65">home</a></code>: Set the cursor position at the
top left position (column 0, row 0).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28696E6465782D626C6F636B29-src-lib-blocks-indexer-COMMON-fs"><a id="entry28696E6465782D626C6F636B29"></a>(index-block)</h3>
<div class="listingblock">
<div class="content">
<pre>(index-block) ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Index block <em>u</em>, evaluating its header line.  The only
word list in the search order must be <code><a href="#entry696E6465782D776F72646C697374">index-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>This is a common factor of <code><a href="#entry28696E646578657229">(indexer)</a></code> (from the <code><a href="#entry696E6465786572">indexer</a></code>
tool) and <code><a href="#entry28696E6465782D626C6F636B29">(index-block)</a></code> (from the <code><a href="#entry666C792D696E6465786572">fly-indexer</a></code> tool).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286C6573732D6F6629-src-lib-flow-case-fs"><a id="entry286C6573732D6F6629"></a>(less-of)</h3>
<div class="listingblock">
<div class="content">
<pre>(less-of) ( x1 x2 -- x1 x1 | x1 x1' )</pre>
</div>
</div>
<div class="paragraph">
<p>The run-time factor of <code><a href="#entry6C6573732D6F66">less-of</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286C6F616429-src-kernel-z80s"><a id="entry286C6F616429"></a>(load)</h3>
<div class="listingblock">
<div class="content">
<pre>(load) ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make block <em>u</em> the current input source and interpret it.</p>
</div>
<div class="paragraph">
<p><code>(load)</code> is a common factor of <code><a href="#entry6C6F6164">load</a></code> and <code><a href="#entry636F6E74696E756564">continued</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: (load) ( u -- ) block&gt;source interpret ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C6F636B3E736F75726365">block&gt;source</a></code>, <code><a href="#entry696E74657270726574">interpret</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286C6F636174656429-src-lib-002-need-fs"><a id="entry286C6F636174656429"></a>(located)</h3>
<div class="listingblock">
<div class="content">
<pre>(located) ( ca len -- block | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Locate the first block whose header contains the string <em>ca
len</em> (surrounded by spaces), and return its number. If not
found, return zero.  The search is case-sensitive.</p>
</div>
<div class="paragraph">
<p>Only the blocks delimited by <code><a href="#entry66697273742D6C6F63617461626C65">first-locatable</a></code> and
<code><a href="#entry6C6173742D6C6F63617461626C65">last-locatable</a></code> are searched.</p>
</div>
<div class="paragraph">
<p>This is the default action of <code><a href="#entry6C6F6361746564">located</a></code>, which is
changed by <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64656661756C742D66697273742D6C6F63617461626C65">default-first-locatable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286C6F6F7029-src-kernel-z80s"><a id="entry286C6F6F7029"></a>(loop)</h3>
<div class="listingblock">
<div class="content">
<pre>(loop) ( R: loop-sys1 -- loop-sys2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Increment the loop index by one.  If the loop index did not
cross the boundary between the loop limit minus one and the
loop limit, continue execution at the beginning of the loop.
Otherwise, discard the loop parameters and continue execution
immediately following the loop.</p>
</div>
<div class="paragraph">
<p><code>(loop)</code> is compiled by <code><a href="#entry6C6F6F70">loop</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry282B6C6F6F7029">(+loop)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286D616B652D746872752D696E64657829-src-lib-blocks-indexer-thru-fs"><a id="entry286D616B652D746872752D696E64657829"></a>(make-thru-index)</h3>
<div class="listingblock">
<div class="content">
<pre>(make-thru-index) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create the blocks index, from <code><a href="#entry66697273742D6C6F63617461626C65">first-locatable</a></code> to
<code><a href="#entry6C6173742D6C6F63617461626C65">last-locatable</a></code>.</p>
</div>
<div class="paragraph">
<p><code>(make-thru-index)</code> is a factor of <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D746872752D696E646578">use-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.thru.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry286F7074696F6E7329-src-lib-flow-options-bracket-fs"><a id="entry286F7074696F6E7329"></a>(options)</h3>
<div class="listingblock">
<div class="content">
<pre>(options) ( i*x x -- j*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Run-time procedure compiled by <code><a href="#entry6F7074696F6E735B">options[</a></code>.</p>
</div>
<div class="paragraph">
<p>x = option to search for</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.options-bracket.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2870617273652D6573632D737472696E6729-src-lib-strings-escaped-fs"><a id="entry2870617273652D6573632D737472696E6729"></a>(parse-esc-string)</h3>
<div class="listingblock">
<div class="content">
<pre>(parse-esc-string) ( ca len "ccc&lt;quote&gt;"  -- ca' len' )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse a text string delimited by a double quote,
translating some configurable characters that are escaped
with a backslash.  Add the translated string to <em>ca len</em>,
returning a new string <em>ca' len'</em> in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p><code>(parse-esc-string)</code> is a factor of <code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28706978656C2D70616E2D7269676874-src-lib-graphics-scroll-fs"><a id="entry28706978656C2D70616E2D7269676874"></a>(pixel-pan-right</h3>
<div class="listingblock">
<div class="content">
<pre>(pixel-pan-right ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> of a Z80 routine that pans the whole
screen one pixel to the right.</p>
</div>
<div class="paragraph">
<p>Note: The BC register (the Forth IP) is not preserved.
This is intended, in order to save time when this routine
is called in a loop. Therefore the calling code must save
the BC register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706978656C2D70616E2D7269676874">pixel-pan-right</a></code>, <code><a href="#entry706978656C2D7363726F6C6C2D7570">pixel-scroll-up</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.scroll.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28706978656C2D7363726F6C6C2D7570-src-lib-graphics-scroll-fs"><a id="entry28706978656C2D7363726F6C6C2D7570"></a>(pixel-scroll-up</h3>
<div class="listingblock">
<div class="content">
<pre>(pixel-scroll-up ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> of a Z80 routine that scrolls the
whole screen one pixel up.</p>
</div>
<div class="paragraph">
<p>Note: The BC register (the Forth IP) is not preserved.
This is intended, in order to save time when this routine
is called in a loop. Therefore the calling code must save
the BC register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706978656C2D7363726F6C6C2D7570">pixel-scroll-up</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.scroll.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2872656E616D652D66696C65-src-lib-dos-plus3dos-fs"><a id="entry2872656E616D652D66696C65"></a>(rename-file</h3>
<div class="listingblock">
<div class="content">
<pre>(rename-file ( ca1 ca2 -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Rename filename <em>ca1</em> (a $FF-terminated string) to filename
<em>ca2</em> (a $FF-terminated string) and return error result
<em>ior</em>.</p>
</div>
<div class="paragraph">
<p><code>(rename-file</code> is a factor of <code><a href="#entry72656E616D652D66696C65">rename-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28736F757263652D696429-src-kernel-z80s"><a id="entry28736F757263652D696429"></a>(source-id)</h3>
<div class="listingblock">
<div class="content">
<pre>(source-id) ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that contains the value returned by <code><a href="#entry736F757263652D6964">source-id</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry287374657029-src-lib-flow-for-fs"><a id="entry287374657029"></a>(step)</h3>
<div class="listingblock">
<div class="content">
<pre>(step)</pre>
</div>
</div>
<div class="paragraph">
<p>The run-time procedure compiled by <code><a href="#entry73746570">step</a></code>.</p>
</div>
<div class="paragraph">
<p>Run-time:    ( R: n&#8201;&#8212;&#8201;n' )</p>
</div>
<div class="paragraph">
<p>If the loop index is zero, discard the loop parameters and
continue execution after the loop. Otherwise decrement the
loop index and continue execution at the beginning of the
loop.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.for.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28737562737469747574696F6E-src-lib-strings-replaces-fs"><a id="entry28737562737469747574696F6E"></a>(substitution</h3>
<div class="listingblock">
<div class="content">
<pre>(substitution ( ca1 len1 -- ca2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Given a string <em>ca1 len1</em> create its definition in
<code><a href="#entry737562737469747574652D776F72646C697374">substitute-wordlist</a></code> its substitution and return the
address of its storage space in data space, not allocated.</p>
</div>
<div class="paragraph">
<p><code>(substitution</code> is a common factor of <code><a href="#entry737562737469747574696F6E">substitution</a></code> and
<code><a href="#entry78742D737562737469747574696F6E">xt-substitution</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry737562737469747574696F6E">substitution</a></code>, <code><a href="#entry78742D737562737469747574696F6E">xt-substitution</a></code>, <code><a href="#entry7265706C61636573">replaces</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.replaces.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry28746170652D66696C653E29-src-lib-tape-fs"><a id="entry28746170652D66696C653E29"></a>(tape-file&gt;)</h3>
<div class="listingblock">
<div class="content">
<pre>(tape-file&gt;) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Read a tape file using the data stored at <code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p><code>(tape-file&gt;)</code> is a factor of <code><a href="#entry746170652D66696C653E">tape-file&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry287472616E736C6174652D6368617229-src-kernel-z80s"><a id="entry287472616E736C6174652D6368617229"></a>(translate-char)</h3>
<div class="listingblock">
<div class="content">
<pre>(translate-char) ( c1 ca -- c1 false | c2 true )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry287573657229-src-kernel-z80s"><a id="entry287573657229"></a>(user)</h3>
<div class="listingblock">
<div class="content">
<pre>(user) ( +n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a user variable <em>name</em>.  <em>+n</em> is the offset within the
user area where the value for <em>name</em> is stored.  Execution of
<em>name</em> leaves its absolute user area storage address.</p>
</div>
<div class="paragraph">
<p><code>(user)</code> is a factor of <code><a href="#entry75637265617465">ucreate</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: <code>user</code> in fig-Forth, Forth-79 (Reference Word Set)
and Forth-83 (Uncontrolled Reference Words).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75736572">user</a></code>, <code><a href="#entry3275736572">2user</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry287761726E696E672229-src-lib-exception-fs"><a id="entry287761726E696E672229"></a>(warning")</h3>
<div class="listingblock">
<div class="content">
<pre>(warning") ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Inner procedure compiled by <code><a href="#entry7761726E696E6722">warning"</a></code>.  If <em>f</em> is not
zero, print the compiled message; else do nothing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry287E7E29-src-lib-tool-debug-tilde-tilde-fs"><a id="entry287E7E29"></a>(~~)</h3>
<div class="listingblock">
<div class="content">
<pre>(~~) ( nt n u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the content of <code><a href="#entry7E7E3F">~~?</a></code> is not zero, execute the debugging
code that was compiled by <code><a href="#entry7E7E">~~</a></code> during the definition of
word <em>nt</em> in line <em>n</em> of block <em>u</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E79">~~y</a></code>, <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry29-src-lib-tool-debug-assert-fs"><a id="entry29"></a>)</h3>
<div class="listingblock">
<div class="content">
<pre>) ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End an assertion.</p>
</div>
<div class="paragraph">
<p><code>)</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry61737365727428">assert(</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A-src-kernel-z80s"><a id="entry2A"></a>*</h3>
<div class="listingblock">
<div class="content">
<pre>* ( n1|u1 n2|u2 -- n3|u3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1|u1</em> by <em>n2|u2</em> giving the product <em>n3|u3</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-83, Forth-94, Forth-2012.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A21-src-lib-memory-MISC-fs"><a id="entry2A21"></a>*!</h3>
<div class="listingblock">
<div class="content">
<pre>*! ( n|u a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n|u</em> by the single-cell number at <em>a</em> and store
the product in <em>a</em></p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry322A21">2*!</a></code> <code><a href="#entry2F21">/!</a></code>, <code><a href="#entry2B21">+!</a></code>, <code><a href="#entry2D21">-!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A2F-src-kernel-z80s"><a id="entry2A2F"></a>*/</h3>
<div class="listingblock">
<div class="content">
<pre>*/ ( n1 n2 n3 -- n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by <em>n2</em> producing the intermediate
<em>d</em>. Divide <em>d</em> by <em>n3</em> giving the quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: */ ( n1 n2 n3 -- n4 ) */mod nip ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-94, Forth-2012.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2A2F6D6F64">*/mod</a></code>, <code><a href="#entry6D2A2F">m*/</a></code>, <code><a href="#entry2A">*</a></code>, <code><a href="#entry2F">/</a></code>, '*/_mod`, <code><a href="#entry2A2F2D72656D">*/-rem</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A2F2D-src-lib-math-operators-1-cell-fs"><a id="entry2A2F2D"></a>*/-</h3>
<div class="listingblock">
<div class="content">
<pre>*/- ( n1 n2 n3 -- n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by <em>n2</em> producing the intermediate result
<em>d</em>.  Divide <em>d</em> by <em>n3</em> (doing a symmetric division),
giving the symmetric quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2A2F2D72656D">*/-rem</a></code>, <code><a href="#entry2A2F">*/</a></code>, <code><a href="#entry2A2F5F">*/_</a></code>, <code><a href="#entry736D2F72656D">sm/rem</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A2F2D72656D-src-lib-math-operators-1-cell-fs"><a id="entry2A2F2D72656D"></a>*/-rem</h3>
<div class="listingblock">
<div class="content">
<pre>*/-rem ( n1 n2 n3 -- n4 n5 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by <em>n2</em> producing the intermediate result
<em>d</em>.  Divide <em>d</em> by <em>n3</em> (doing a symmetric division), giving
the remainder <em>n4</em> and the symmetric quotient <em>n5</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2A2F6D6F64">*/mod</a></code>, <code><a href="#entry2A2F5F6D6F64">*/_mod</a></code>, <code><a href="#entry736D2F72656D">sm/rem</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A2F5F-src-lib-math-operators-1-cell-fs"><a id="entry2A2F5F"></a>*/_</h3>
<div class="listingblock">
<div class="content">
<pre>*/_ ( n1 n2 n3 -- n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by <em>n2</em> producing the intermediate result
<em>d</em>.  Divide <em>d</em> by <em>n3</em> (doing a floored division), giving
the floored quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2A2F5F6D6F64">*/_mod</a></code>, <code><a href="#entry2A2F">*/</a></code>, <code><a href="#entry2A2F2D">*/-</a></code>, <code><a href="#entry666D2F6D6F64">fm/mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A2F5F6D6F64-src-lib-math-operators-1-cell-fs"><a id="entry2A2F5F6D6F64"></a>*/_mod</h3>
<div class="listingblock">
<div class="content">
<pre>*/_mod ( n1 n2 n3 -- n4 n5 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by <em>n2</em> producing the intermediate result
<em>d</em>.  Divide <em>d</em> by <em>n3</em> (doing a floored division), giving
the remainder <em>n4</em> and the floored quotient <em>n5</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2A2F6D6F64">*/mod</a></code>, <code><a href="#entry2A2F2D72656D">*/-rem</a></code>, <code><a href="#entry666D2F6D6F64">fm/mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2A2F6D6F64-src-kernel-z80s"><a id="entry2A2F6D6F64"></a>*/mod</h3>
<div class="listingblock">
<div class="content">
<pre>*/mod ( n1 n2 n3 -- n4 n5 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by <em>n2</em> producing the intermediate
result <em>d</em>. Divide <em>d</em> by <em>n3</em> producing the remainder
<em>n4</em> and the quotient <em>n5</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: */mod ( n1 n2 n3 -- n4 n5 ) &gt;r m* r&gt; m/ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-94, Forth-2012.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F6D6F64">/mod</a></code>, <code><a href="#entry2A2F">*/</a></code>, <code><a href="#entry2A2F5F6D6F64">*/_mod</a></code>, <code><a href="#entry2A2F2D72656D">*/-rem</a></code>, <code><a href="#entry6D2A">m*</a></code>, <code><a href="#entry6D2F">m/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B-src-kernel-z80s"><a id="entry2B"></a>+</h3>
<div class="listingblock">
<div class="content">
<pre>+ ( n1|u1 n2|u2 -- n3|u3 )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry642B">d+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B21-src-kernel-z80s"><a id="entry2B21"></a>+!</h3>
<div class="listingblock">
<div class="content">
<pre>+! ( n|u a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n|u</em> to the single-cell number at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry632B21">c+!</a></code>, <code><a href="#entry40">@</a></code>, <code><a href="#entry2B">+</a></code>, <code><a href="#entry21">!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B33646F73-src-kernel-z80s"><a id="entry2B33646F73"></a>+3dos</h3>
<div class="listingblock">
<div class="content">
<pre>+3dos ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>An alias of <code><a href="#entry6E6F6F70">noop</a></code> that is defined only in the +3DOS version
of Solo Forth.  Its goal is to be used to check the DOS the
application is running on.</p>
</div>
<div class="paragraph">
<p><code>+3dos</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F73">dos</a></code>, <code><a href="#entry74722D646F73">tr-dos</a></code>, <code><a href="#entry672B646F73">g+dos</a></code>, <code><a href="#entry646566696E6564">defined</a></code>, <code><a href="#entry5B646566696E65645D">[defined]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B61746F-src-lib-data-array-value-fs"><a id="entry2B61746F"></a>+ato</h3>
<div class="listingblock">
<div class="content">
<pre>+ato ( n1 n2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n1</em> to element <em>n2</em> of 1-dimension single-cell
values array <em>name</em>.</p>
</div>
<div class="paragraph">
<p><code>+ato</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6176616C7565">avalue</a></code>, <code><a href="#entry282B61746F29">(+ato)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B626565703E6E6F7465-src-lib-sound-48-fs"><a id="entry2B626565703E6E6F7465"></a>+beep&gt;note</h3>
<div class="listingblock">
<div class="content">
<pre>+beep&gt;note ( +n1 -- +n2 +n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a Sinclair BASIC BEEP&#8217;s positive pitch <em>+n1</em> to its
corresponding note <em>+n3</em> (0..11) in octave <em>+n2</em>, being
zero the middle octave.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626565703E6E6F7465">beep&gt;note</a></code>, <code><a href="#entry2D626565703E6E6F7465">-beep&gt;note</a></code>, <code><a href="#entry2F6F6374617665">/octave</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6272616E6368-src-lib-flow-branch-fs"><a id="entry2B6272616E6368"></a>+branch</h3>
<div class="listingblock">
<div class="content">
<pre>+branch ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A run-time procedure to branch conditionally. If  <em>n</em> is
positive, the following in-line address is copied to IP to
branch forward or backward.</p>
</div>
<div class="paragraph">
<p><code>+branch</code> is compiled by <code><a href="#entry2D6966">-if</a></code> and <code><a href="#entry2D756E74696C">-until</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D7768696C65">-while</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.branch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6361746F-src-lib-data-array-value-fs"><a id="entry2B6361746F"></a>+cato</h3>
<div class="listingblock">
<div class="content">
<pre>+cato ( c n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>c</em> to element <em>n</em> of 1-dimension character values
array <em>name</em>.</p>
</div>
<div class="paragraph">
<p><code>+cato</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636176616C7565">cavalue</a></code>, <code><a href="#entry282B6361746F29">(+cato)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B65786974-src-lib-flow-conditionals-positive-fs"><a id="entry2B65786974"></a>+exit</h3>
<div class="listingblock">
<div class="content">
<pre>+exit ( n -- ) ( R: nest-sys | -- nest-sys | )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is positive, return control to the calling definition,
specified by <em>nest-sys</em>.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry2B65786974">+exit</a></code> is not intended to be used within a do-loop. Use
<code>0&gt;= if unloop exit then</code> instead.</p>
</div>
<div class="paragraph">
<p>In Solo Forth <code><a href="#entry2B65786974">+exit</a></code> can be used in interpretation mode to
stop the interpretation of a block.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.positive.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6669656C64-src-lib-data-begin-structure-fs"><a id="entry2B6669656C64"></a>+field</h3>
<div class="listingblock">
<div class="content">
<pre>+field ( n1 n2 "name -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> with the execution semantics
defined below. Return <em>n3</em> = <em>n1</em> + <em>n2</em> where <em>n1</em> is the
offset in the data  structure before <code>+field</code> executes,
and <em>n2</em> is the size of the data to be added to the data
structure. <em>n1</em> and <em>n2</em> are in address units.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution: <code>( a1&#8201;&#8212;&#8201;a2 )</code></p>
</div>
<div class="paragraph">
<p>Add <em>n1</em> to <em>a1</em> giving <em>a2</em>.</p>
</div>
<div class="paragraph">
<p><code>+field</code> is not  required to  align items.  This is
deliberate and allows  the construction  of unaligned  data
structures for communication with external elements such as
a hardware register map or protocol packet.  Field
alignment has been left to the appropriate field
definition, e.g. <code><a href="#entry6669656C643A">field:</a></code>, <code><a href="#entry326669656C643A">2field:</a></code>, <code><a href="#entry636669656C643A">cfield:</a></code>.</p>
</div>
<div class="paragraph">
<p>In Solo Forth, <code>+field</code> is an unitialized deferred word,
for which three implementations are provided:
<code><a href="#entry2B6669656C642D756E6F7074">+field-unopt</a></code>, <code><a href="#entry2B6669656C642D6F70742D30">+field-opt-0</a></code> and <code><a href="#entry2B6669656C642D6F70742D30313234">+field-opt-0124</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (FACILITY EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626567696E2D737472756374757265">begin-structure</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6669656C642D6F70742D30-src-lib-data-begin-structure-fs"><a id="entry2B6669656C642D6F70742D30"></a>+field-opt-0</h3>
<div class="listingblock">
<div class="content">
<pre>+field-opt-0 ( n1 n2 "name" -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Optimized implementation of <code><a href="#entry2B6669656C64">+field</a></code>.  This implementation
is more efficient than <code><a href="#entry2B6669656C642D756E6F7074">+field-unopt</a></code> (but less than
<code><a href="#entry2B6669656C642D6F70742D30313234">+field-opt-0124</a></code>) because the field 0 does not calculate
the field offset.</p>
</div>
<div class="paragraph">
<p><code>+field-opt-0</code> uses 31 bytes of data space.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6669656C642D6F70742D30313234-src-lib-data-begin-structure-fs"><a id="entry2B6669656C642D6F70742D30313234"></a>+field-opt-0124</h3>
<div class="listingblock">
<div class="content">
<pre>+field-opt-0124 ( n1 n2 "name" -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Optimized implementation of <code><a href="#entry2B6669656C64">+field</a></code> that optimizes the
calculation of field offsets 0, 1, 2 and 4. Therefore it is
more efficient than <code><a href="#entry2B6669656C642D756E6F7074">+field-unopt</a></code> and <code><a href="#entry2B6669656C642D6F70742D30">+field-opt-0</a></code>, but
it uses 106 bytes of data space and needs <code><a href="#entry63617365">case</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6669656C642D756E6F7074-src-lib-data-begin-structure-fs"><a id="entry2B6669656C642D756E6F7074"></a>+field-unopt</h3>
<div class="listingblock">
<div class="content">
<pre>+field-unopt ( n1 n2 "name" -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Unoptimized implementation of <code><a href="#entry2B6669656C64">+field</a></code>.  This
implementation is less efficient than <code><a href="#entry2B6669656C642D6F70742D30">+field-opt-0</a></code> and
<code><a href="#entry2B6669656C642D6F70742D30313234">+field-opt-0124</a></code> because the field offset is calculated
also when it is 0.</p>
</div>
<div class="paragraph">
<p>The advantage of this implementation is it uses only 22
bytes of data space, so it could be useful in some cases.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6966-src-lib-flow-conditionals-positive-fs"><a id="entry2B6966"></a>+if</h3>
<div class="listingblock">
<div class="content">
<pre>+if ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0&gt;= if</code>.</p>
</div>
<div class="paragraph">
<p><code>+if</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.positive.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6C6F6164-src-lib-blocks-fs"><a id="entry2B6C6F6164"></a>+load</h3>
<div class="listingblock">
<div class="content">
<pre>+load ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load the block that is <em>n</em> blocks from the current one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6164">load</a></code>, <code><a href="#entry626C6B">blk</a></code>, <code><a href="#entry2B74687275">+thru</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6C6F6F70-src-kernel-z80s"><a id="entry2B6C6F6F70"></a>+loop</h3>
<div class="listingblock">
<div class="content">
<pre>+loop ( -- )
  Compilation: ( do-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <code><a href="#entry282B6C6F6F7029">(+loop)</a></code> and resolve the <em>do-sys</em> address left by
<code><a href="#entry646F">do</a></code>, <code><a href="#entry3F646F">?do</a></code> or <code><a href="#entry2D646F">-do</a></code>.</p>
</div>
<div class="paragraph">
<p><code>+loop</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6F70">loop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6F72646572-src-lib-word_lists-fs"><a id="entry2B6F72646572"></a>+order</h3>
<div class="listingblock">
<div class="content">
<pre>+order ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove all instances of the word list identified by <em>wid</em>
from the search order, then add it to the top.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D6F72646572">-order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry6F72646572">order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B6F726967696E-src-kernel-z80s"><a id="entry2B6F726967696E"></a>+origin</h3>
<div class="listingblock">
<div class="content">
<pre>+origin ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the memory address relative by <em>n</em> bytes to the origin
parameter area.  <code>+origin</code> is used to access or modify the
boot-up parameters at the origin area.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B706572666F726D-src-lib-flow-MISC-fs"><a id="entry2B706572666F726D"></a>+perform</h3>
<div class="listingblock">
<div class="content">
<pre>+perform ( a n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute the execution token pointed by an offset of <em>n</em>
cells from base address <em>a</em>, i.e., execute the contents of
element <em>n</em> of the cell table that starts at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>If the execution token is zero, do nothing.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706572666F726D">perform</a></code>, <code><a href="#entry65786563757465">execute</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B706C616365-src-lib-strings-MISC-fs"><a id="entry2B706C616365"></a>+place</h3>
<div class="listingblock">
<div class="content">
<pre>+place ( ca1 len1 ca2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add the string <em>ca1 len1</em> to the end of the counted string
<em>ca2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706C616365">place</a></code>, <code><a href="#entry732B">s+</a></code>, <code><a href="#entry736D6F7665">smove</a></code>, <code><a href="#entry636F756E74">count</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B7365636C7573696F6E-src-lib-modules-MISC-fs"><a id="entry2B7365636C7573696F6E"></a>+seclusion</h3>
<div class="listingblock">
<div class="content">
<pre>+seclusion ( wid1 wid2 -- wid1 wid2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Start more private definitions of a <code><a href="#entry7365636C7573696F6E">seclusion</a></code> module.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D7365636C7573696F6E">-seclusion</a></code>, <code><a href="#entry656E642D7365636C7573696F6E">end-seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B737472696E676572-src-kernel-z80s"><a id="entry2B737472696E676572"></a>+stringer</h3>
<div class="listingblock">
<div class="content">
<pre>+stringer ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the pointer of the <code><a href="#entry737472696E676572">stringer</a></code>, i.e. an
offset to its first free address. The offset equals the number
of free characters in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656D7074792D737472696E676572">empty-stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B74687275-src-lib-blocks-fs"><a id="entry2B74687275"></a>+thru</h3>
<div class="listingblock">
<div class="content">
<pre>+thru ( u1 u2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load consecutively the blocks that are <em>u1</em> blocks through
<em>u2</em> blocks from the current one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B6C6F6164">+load</a></code>, <code><a href="#entry626C6B">blk</a></code>, <code><a href="#entry6C6F6164">load</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B746F617267-src-lib-locals-arguments-fs"><a id="entry2B746F617267"></a>+toarg</h3>
<div class="listingblock">
<div class="content">
<pre>+toarg ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the add action for the next local variable. Used with
locals created by <code><a href="#entry617267756D656E7473">arguments</a></code>.</p>
</div>
<div class="paragraph">
<p>Loading <code>+toarg</code> makes <code><a href="#entry40">@</a></code> the default action of
<code><a href="#entry617267756D656E7473">arguments</a></code> locals, which is hold in <code><a href="#entry6172672D64656661756C742D616374696F6E">arg-default-action</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746F617267">toarg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.arguments.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B756E646572-src-lib-math-operators-1-cell-fs"><a id="entry2B756E646572"></a>+under</h3>
<div class="listingblock">
<div class="content">
<pre>+under ( n1|u1 n2|u2 x -- n3|u3 x )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n2|u2</em> to <em>n1|u2</em>, giving the sum <em>n3|u3</em>.</p>
</div>
<div class="paragraph">
<p><code>+under</code> is written in Z80. Its definition in Forth
is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: +under ( n1|u1 n2|u2 x -- n3|u3 x ) &gt;r + r&gt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E6465722B">under+</a></code></p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B756E74696C-src-lib-flow-conditionals-positive-fs"><a id="entry2B756E74696C"></a>+until</h3>
<div class="listingblock">
<div class="content">
<pre>+until ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0&gt;= until</code>.</p>
</div>
<div class="paragraph">
<p><code>+until</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.positive.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2B7768696C65-src-lib-flow-conditionals-positive-fs"><a id="entry2B7768696C65"></a>+while</h3>
<div class="listingblock">
<div class="content">
<pre>+while ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0&gt;= while</code>.</p>
</div>
<div class="paragraph">
<p><code>+while</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.positive.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2C-src-kernel-z80s"><a id="entry2C"></a>,</h3>
<div class="listingblock">
<div class="content">
<pre>, ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2C22-src-kernel-z80s"><a id="entry2C22"></a>,"</h3>
<div class="listingblock">
<div class="content">
<pre>," ( "ccc&lt;quote&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse "ccc" delimited by a double-quote and compile the
string.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ," ( -- ) '"' parse s, ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2C6E70-src-kernel-z80s"><a id="entry2C6E70"></a>,np</h3>
<div class="listingblock">
<div class="content">
<pre>,np ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x</em> into the address pointed by the name-space pointer,
advancing the name-space pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D-src-kernel-z80s"><a id="entry2D"></a>-</h3>
<div class="listingblock">
<div class="content">
<pre>- ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D21-src-lib-memory-MISC-fs"><a id="entry2D21"></a>-!</h3>
<div class="listingblock">
<div class="content">
<pre>-! ( n|u a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Subtract n|u from the single-cell number at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B21">+!</a></code>, <code><a href="#entry312D21">1-!</a></code>, <code><a href="#entry632D21">c-!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D2D3E-src-kernel-z80s"><a id="entry2D2D3E"></a>--&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>--&gt; ( -- ) \ "next-screen"</pre>
</div>
</div>
<div class="paragraph">
<p>Continue interpretation with the next block.</p>
</div>
<div class="paragraph">
<p><code>-&#8594;</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: --&gt; ( -- )
  ?loading refill 0= #-35 ?throw  ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Reference Word Set), Forth-83
(Controlled Reference Words).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F2D2D3E">?--&gt;</a></code>, <code><a href="#entry6C6F6164">load</a></code>, <code><a href="#entry636F6E74696E756564">continued</a></code>, <code><a href="#entry3F6C6F6164696E67">?loading</a></code>, <code><a href="#entry726566696C6C">refill</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D31-src-kernel-z80s"><a id="entry2D31"></a>-1</h3>
<div class="listingblock">
<div class="content">
<pre>-1 ( -- -1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>-1</em>. <code>-1</code> is not a constant, but a code word, which
is faster.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry30">0</a></code>, <code><a href="#entry31">1</a></code>, <code><a href="#entry32">2</a></code>, <code><a href="#entry74727565">true</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D312E2E31-src-lib-random-fs"><a id="entry2D312E2E31"></a>-1..1</h3>
<div class="listingblock">
<div class="content">
<pre>-1..1 ( -- -1|0|1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random number: -1, 0 or 1.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D317C31">-1|1</a></code>, <code><a href="#entry726E64">rnd</a></code>, <code><a href="#entry666173742D72616E646F6D">fast-random</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D317C31-src-lib-random-fs"><a id="entry2D317C31"></a>-1|1</h3>
<div class="listingblock">
<div class="content">
<pre>-1|1 ( -- -1|1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random number: -1 or 1.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D312E2E31">-1..1</a></code>, <code><a href="#entry726E64">rnd</a></code>, <code><a href="#entry666173742D72616E646F6D">fast-random</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D626565703E6E6F7465-src-lib-sound-48-fs"><a id="entry2D626565703E6E6F7465"></a>-beep&gt;note</h3>
<div class="listingblock">
<div class="content">
<pre>-beep&gt;note ( -n1 -- -n2 +n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a Sinclair BASIC BEEP&#8217;s negative pitch <em>-n1</em> to its
corresponding note <em>+n3</em> (0..11) in octave <em>-n2</em>, being
zero the middle octave.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626565703E6E6F7465">beep&gt;note</a></code>, <code><a href="#entry2B626565703E6E6F7465">+beep&gt;note</a></code>, <code><a href="#entry2F6F6374617665">/octave</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D626C6F636B2D647269766573-src-lib-dos-COMMON-fs"><a id="entry2D626C6F636B2D647269766573"></a>-block-drives</h3>
<div class="listingblock">
<div class="content">
<pre>-block-drives ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Fill <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code> with <code><a href="#entry6E6F742D626C6F636B2D6472697665">not-block-drive</a></code>, making no disk
drive be used as block drive.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code>, <code><a href="#entry6765742D626C6F636B2D647269766573">get-block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D6272616E6368-src-lib-flow-branch-fs"><a id="entry2D6272616E6368"></a>-branch</h3>
<div class="listingblock">
<div class="content">
<pre>-branch ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A run-time procedure to branch conditionally. If  <em>n</em> is
negative, the following in-line address is copied to IP to
branch forward or backward.</p>
</div>
<div class="paragraph">
<p><code>-branch</code> is compiled by <code><a href="#entry2B6966">+if</a></code> and <code><a href="#entry2B756E74696C">+until</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B7768696C65">+while</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.branch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D646F-src-lib-flow-do-fs"><a id="entry2D646F"></a>-do</h3>
<div class="listingblock">
<div class="content">
<pre>-do
  Compilation: ( -- do-sys )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <code><a href="#entry282D646F29">(-do)</a></code> and leave <em>do-sys</em> to be consumed by <code><a href="#entry6C6F6F70">loop</a></code>
or <code><a href="#entry2B6C6F6F70">+loop</a></code>.  <code>-do</code> is an alternative to <code><a href="#entry646F">do</a></code> and <code><a href="#entry3F646F">?do</a></code>,
to create count-down loops with <code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p><code>-do</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: -do ( -- do-sys )
  postpone (-do) &gt;mark ;  immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: -count-down ( limit start -- )
  -do i . -1 +loop ;

0 0 -count-down \ prints nothing
4 0 -count-down \ prints nothing
0 4 -count-down \ prints 4 3 2 1

\ Compare to:

: ?count-down ( limit start -- )
  ?do i . -1 +loop ;

0 0 ?count-down \ prints nothing
4 0 ?count-down \ prints 0 -1..-32768 32767..4
0 4 ?count-down \ prints 4 3 2 1 0

: count-down ( limit start -- )
  do i . -1 +loop ;

0 0 count-down \ prints 0
4 0 count-down \ prints 0 -1..-32768 32767..4
0 4 count-down \ prints 4 3 2 1 0</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.do.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D647570-src-lib-data_stack-fs"><a id="entry2D647570"></a>-dup</h3>
<div class="listingblock">
<div class="content">
<pre>-dup ( x -- x x | x )</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate <em>x</em> if it&#8217;s negative.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry647570">dup</a></code>, <code><a href="#entry30647570">0dup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D65786974-src-lib-flow-conditionals-negative-fs"><a id="entry2D65786974"></a>-exit</h3>
<div class="listingblock">
<div class="content">
<pre>-exit ( n -- ) ( R: nest-sys | -- nest-sys | )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is negative, return control to the calling definition,
specified by <em>nest-sys</em>.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry2D65786974">-exit</a></code> is not intended to be used within a do-loop. Use
<code>0&lt; if unloop exit then</code> instead.</p>
</div>
<div class="paragraph">
<p>In Solo Forth <code><a href="#entry2D65786974">-exit</a></code> can be used in interpretation mode to
stop the interpretation of a block.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.negative.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D6966-src-lib-flow-conditionals-negative-fs"><a id="entry2D6966"></a>-if</h3>
<div class="listingblock">
<div class="content">
<pre>-if ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0&lt; if</code>.</p>
</div>
<div class="paragraph">
<p><code>-if</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.negative.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D6C656164696E67-src-kernel-z80s"><a id="entry2D6C656164696E67"></a>-leading</h3>
<div class="listingblock">
<div class="content">
<pre>-leading ( ca len -- ca' len' )</pre>
</div>
</div>
<div class="paragraph">
<p>Adjust the start and length of a string to suppress the
leading blanks.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D747261696C696E67">-trailing</a></code>, <code><a href="#entry7472696D">trim</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D6D69786572-src-lib-sound-128-fs"><a id="entry2D6D69786572"></a>-mixer</h3>
<div class="listingblock">
<div class="content">
<pre>-mixer ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Disable the noise and tone mixers for the three channels of
the AY-3-8912 sound generator.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6D69786572">set-mixer</a></code>, <code><a href="#entry6765742D6D69786572">get-mixer</a></code>, <code><a href="#entry73696C656E6365">silence</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D6D6F7665-src-lib-editor-specforth-fs"><a id="entry2D6D6F7665"></a>-move</h3>
<div class="listingblock">
<div class="content">
<pre>-move ( ca n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Move a line of text from <em>ca</em> to line <em>n</em> of current block.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D6F72646572-src-lib-word_lists-fs"><a id="entry2D6F72646572"></a>-order</h3>
<div class="listingblock">
<div class="content">
<pre>-order ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove all instances of word list identified by <em>wid</em> from
the search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B6F72646572">+order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry6F72646572">order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D707265666978-src-lib-strings-MISC-fs"><a id="entry2D707265666978"></a>-prefix</h3>
<div class="listingblock">
<div class="content">
<pre>-prefix ( ca1 len1 ca2 len2 -- ca1 len1 | ca3 len3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove prefix <em>ca2 len2</em> from string <em>ca1 len1</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D737566666978">-suffix</a></code>, <code><a href="#entry2F737472696E67">/string</a></code>, <code><a href="#entry312F737472696E67">1/string</a></code>, <code><a href="#entry2D6C656164696E67">-leading</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D72656D-src-lib-math-operators-1-cell-fs"><a id="entry2D72656D"></a>-rem</h3>
<div class="listingblock">
<div class="content">
<pre>-rem ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em> (doing a symmetric division), giving the
remainder <em>n3</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F2D72656D">/-rem</a></code>, <code><a href="#entry2F">/</a></code>, <code><a href="#entry2F5F6D6F64">/_mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D726F74-src-kernel-z80s"><a id="entry2D726F74"></a>-rot</h3>
<div class="listingblock">
<div class="content">
<pre>-rot ( x1 x2 x3 -- x3 x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D7365636C7573696F6E-src-lib-modules-MISC-fs"><a id="entry2D7365636C7573696F6E"></a>-seclusion</h3>
<div class="listingblock">
<div class="content">
<pre>-seclusion ( wid1 wid2 -- wid1 wid2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the public definitions of a <code><a href="#entry7365636C7573696F6E">seclusion</a></code> module.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B7365636C7573696F6E">+seclusion</a></code>, <code><a href="#entry656E642D7365636C7573696F6E">end-seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D737566666978-src-lib-strings-MISC-fs"><a id="entry2D737566666978"></a>-suffix</h3>
<div class="listingblock">
<div class="content">
<pre>-suffix ( ca1 len1 ca2 len2 -- ca1 len1 | ca3 len3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove suffix <em>ca2 len2</em> from string <em>ca1 len1</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D707265666978">-prefix</a></code>, <code><a href="#entry737472696E672F">string/</a></code>, <code><a href="#entry63686F70">chop</a></code>, <code><a href="#entry2D747261696C696E67">-trailing</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D746170652D66696C656E616D65-src-lib-tape-fs"><a id="entry2D746170652D66696C656E616D65"></a>-tape-filename</h3>
<div class="listingblock">
<div class="content">
<pre>-tape-filename ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Blank <code><a href="#entry746170652D66696C656E616D65">tape-filename</a></code> in <code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D74657874-src-lib-editor-specforth-fs"><a id="entry2D74657874"></a>-text</h3>
<div class="listingblock">
<div class="content">
<pre>-text ( ca1 len1 ca2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a non-zero <em>f</em> if string <em>ca1 len1</em> exactly
match string <em>ca2 len1</em>, else return a false flag.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D747261696C696E67-src-kernel-z80s"><a id="entry2D747261696C696E67"></a>-trailing</h3>
<div class="listingblock">
<div class="content">
<pre>-trailing ( ca1 len1 -- ca1 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Adjust the length of a string to suppress the trailing blanks.</p>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater  than zero, <em>len2</em> is  equal to <em>len1</em>
less the number of spaces  at the end of  the character string
specified by <em>ca1 len1</em>. If <em>len1</em> is zero or the entire
string consists of spaces, <em>len2</em> is zero.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (STRING), Forth-2012 (STRING).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D6C656164696E67">-leading</a></code>, <code><a href="#entry7472696D">trim</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D756E74696C-src-lib-flow-conditionals-negative-fs"><a id="entry2D756E74696C"></a>-until</h3>
<div class="listingblock">
<div class="content">
<pre>-until ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0&lt; until</code>.</p>
</div>
<div class="paragraph">
<p><code>-until</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.negative.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2D7768696C65-src-lib-flow-conditionals-negative-fs"><a id="entry2D7768696C65"></a>-while</h3>
<div class="listingblock">
<div class="content">
<pre>-while ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0&lt; while</code>.</p>
</div>
<div class="paragraph">
<p><code>-while</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.negative.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E-src-kernel-z80s"><a id="entry2E"></a>.</h3>
<div class="listingblock">
<div class="content">
<pre>. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print signed integer <em>n</em> according to current <code><a href="#entry62617365">base</a></code>, followed
by only one blank.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E22-src-kernel-z80s"><a id="entry2E22"></a>."</h3>
<div class="listingblock">
<div class="content">
<pre>."</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: ( "ccc&lt;quote&gt;"&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>Parse "ccc" delimited by a double-quote. Append the run-time
semantics given below to the current definition.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Run-time: ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display "ccc".</p>
</div>
<div class="paragraph">
<p><code>."</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ." ( "ccc&lt;quote&gt; -- ) compile (.") ," ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E28-src-kernel-z80s"><a id="entry2E28"></a>.(</h3>
<div class="listingblock">
<div class="content">
<pre>.( ( "ccc&lt;paren&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>.(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E5C22-src-lib-strings-escaped-fs"><a id="entry2E5C22"></a>.\"</h3>
<div class="listingblock">
<div class="content">
<pre>.\" ( Compilation: "ccc&lt;quote&gt;" -- )
     ( Run-time: -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p><code>.\"</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Note: When <code>.\"</code> is loaded, <code><a href="#entry6573632D7374616E646172642D63686172732D776F72646C697374">esc-standard-chars-wordlist</a></code>
is set as the only word list in <code><a href="#entry6573632D6F72646572">esc-order</a></code>. That is the
standard behaviour. Alternative escaped chars can be
configured with <code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code> and
<code><a href="#entry6573632D7564672D63686172732D776F72646C697374">esc-udg-chars-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code>, <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>, <code><a href="#entry735C22">s\"</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E636174-src-lib-dos-plus3dos-fs"><a id="entry2E636174"></a>.cat</h3>
<div class="listingblock">
<div class="content">
<pre>.cat ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>n</em> entries from <code><a href="#entry6361742D627566666572">cat-buffer</a></code>, excluding the first
one.</p>
</div>
<div class="paragraph">
<p><code>.cat</code> is a factor of <code><a href="#entry77636174">wcat</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2E6361742D656E74727923">.cat-entry#</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6361742D656E747279-src-lib-dos-plus3dos-fs"><a id="entry2E6361742D656E747279"></a>.cat-entry</h3>
<div class="listingblock">
<div class="content">
<pre>.cat-entry ( ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display a catalogue entry stored at <em>ca</em>. Format of the
entry:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bytes 0..7: Base filename (left justified, space filled)</p>
</li>
<li>
<p>Bytes 8..10: Filename extension (left justified, space filled)</p>
</li>
<li>
<p>Bytes 11..12: File size in kibibytes (binary)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The file size is the amount of disk space allocated to the
file, not necessarily the same as the amount used by the
file.</p>
</div>
<div class="paragraph">
<p><code>.cat-entry</code> is a factor of <code><a href="#entry2E6361742D656E74727923">.cat-entry#</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2E636174">.cat</a></code>, <code><a href="#entry2E66696C656E616D65">.filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6361742D656E74727923-src-lib-dos-plus3dos-fs"><a id="entry2E6361742D656E74727923"></a>.cat-entry#</h3>
<div class="listingblock">
<div class="content">
<pre>.cat-entry# ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the catalogue entry number <em>n</em> from buffer pointed by
<code><a href="#entry6361742D627566666572">cat-buffer</a></code>.</p>
</div>
<div class="paragraph">
<p><code>.cat-entry#</code> is a factor of <code><a href="#entry2E636174">.cat</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2E6361742D656E747279">.cat-entry</a></code>, <code><a href="#entry2F6361742D656E747279">/cat-entry</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E636F6E74657874-src-lib-tool-list-word_lists-fs"><a id="entry2E636F6E74657874"></a>.context</h3>
<div class="listingblock">
<div class="content">
<pre>.context ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the word lists in the search order in their search
order sequence, from first searched to last searched.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D6F72646572">get-order</a></code>, <code><a href="#entry2E776F72646C697374">.wordlist</a></code>, <code><a href="#entry6F72646572">order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E63757272656E74-src-lib-tool-list-word_lists-fs"><a id="entry2E63757272656E74"></a>.current</h3>
<div class="listingblock">
<div class="content">
<pre>.current ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the compilation word list.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D63757272656E74">get-current</a></code>, <code><a href="#entry2E776F72646C697374">.wordlist</a></code>, <code><a href="#entry6F72646572">order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6572726F722D776F7264-src-kernel-z80s"><a id="entry2E6572726F722D776F7264"></a>.error-word</h3>
<div class="listingblock">
<div class="content">
<pre>.error-word ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E66696C656E616D65-src-lib-dos-plus3dos-fs"><a id="entry2E66696C656E616D65"></a>.filename</h3>
<div class="listingblock">
<div class="content">
<pre>.filename ( ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the filename whose characters are stored at <em>ca</em>,
in two parts: <code><a href="#entry2F626173652D66696C656E616D65">/base-filename</a></code> characters (left justified,
space filled) followed by <code><a href="#entry2F66696C656E616D652D657874">/filename-ext</a></code> characters (left
justified, space filled).  The dot that separates the base
filename from the filename extension is not included in the
string at <em>ca</em>, but it&#8217;s printed.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E66696C656E616D652D657874-src-lib-dos-plus3dos-fs"><a id="entry2E66696C656E616D652D657874"></a>.filename-ext</h3>
<div class="listingblock">
<div class="content">
<pre>.filename-ext ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the filename extension whose <code><a href="#entry2F66696C656E616D652D657874">/filename-ext</a></code>
characters (left justified, space filled) are stored at
<em>ca</em>. A dot separator is printed first, which is not
included in the string at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2E66696C656E616D65">.filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E67696C2D68656170-src-lib-memory-allocate-gil-fs"><a id="entry2E67696C2D68656170"></a>.gil-heap</h3>
<div class="listingblock">
<div class="content">
<pre>.gil-heap ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the map of the current memory <code><a href="#entry68656170">heap</a></code>, in the
implementation based on code written by Javier Gil, whose
words are defined in <code><a href="#entry67696C2D686561702D776F72646C697374">gil-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Occupied chunks are marked with a 'x'; free chunks are
marked with a '-'.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.gil.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E696E646578-src-lib-tool-list-blocks-fs"><a id="entry2E696E646578"></a>.index</h3>
<div class="listingblock">
<div class="content">
<pre>.index ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the first line of the block <em>u</em>, which conventionally
contains a comment with a title.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6C696E65-src-lib-tool-list-blocks-fs"><a id="entry2E6C696E65"></a>.line</h3>
<div class="listingblock">
<div class="content">
<pre>.line ( n1 n2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print line <em>n1</em> from block <em>n2</em>, without trailing spaces.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6C696E6523-src-lib-tool-list-blocks-fs"><a id="entry2E6C696E6523"></a>.line#</h3>
<div class="listingblock">
<div class="content">
<pre>.line# ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print line number <em>n</em> right-aligned in a field whose width
depends on the current radix (decimal, hex or binary).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6D656E75-src-lib-menu-sinclair-fs"><a id="entry2E6D656E75"></a>.menu</h3>
<div class="listingblock">
<div class="content">
<pre>.menu  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the current menu, which has been set by <code><a href="#entry7365742D6D656E75">set-menu</a></code>
and can be activated by <code><a href="#entry6D656E75">menu</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E65772D6D656E75">new-menu</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/menu.sinclair.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6E616D65-src-kernel-z80s"><a id="entry2E6E616D65"></a>.name</h3>
<div class="listingblock">
<div class="content">
<pre>.name ( nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E6F6B-src-kernel-z80s"><a id="entry2E6F6B"></a>.ok</h3>
<div class="listingblock">
<div class="content">
<pre>.ok ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print "ok". <code>.ok</code> is the default action of <code><a href="#entry6F6B">ok</a></code>, the word
called by <code><a href="#entry71756974">quit</a></code> after interpreting a command.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E72-src-kernel-z80s"><a id="entry2E72"></a>.r</h3>
<div class="listingblock">
<div class="content">
<pre>.r ( n1 n2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E7468726F77-src-kernel-z80s"><a id="entry2E7468726F77"></a>.throw</h3>
<div class="listingblock">
<div class="content">
<pre>.throw ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Deferred word that prints error message <em>n</em>. By default it
prints only the number.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E7468726F7723-src-kernel-z80s"><a id="entry2E7468726F7723"></a>.throw#</h3>
<div class="listingblock">
<div class="content">
<pre>.throw# ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the number of throw error <em>n</em>, as a decimal number,
prefixed with a '#' and followed by a space.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E7468726F772D6D657373616765-src-lib-exception-fs"><a id="entry2E7468726F772D6D657373616765"></a>.throw-message</h3>
<div class="listingblock">
<div class="content">
<pre>.throw-message ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Extended action of the deferred word <code><a href="#entry2E7468726F77">.throw</a></code>: Print the
text of throw error <em>n</em>.  The variable
<code><a href="#entry6572726F72732D626C6F636B">errors-block</a></code> holds the number of the first
block where messages are hold. If it contains zero, only
the error number is printed.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E756E75736564-src-kernel-z80s"><a id="entry2E756E75736564"></a>.unused</h3>
<div class="listingblock">
<div class="content">
<pre>.unused ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the total RAM in the system, and the amount of space
remaining in the regions addressed by <code><a href="#entry68657265">here</a></code> and <code><a href="#entry6E70">np</a></code>, in
address units.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E75736564">unused</a></code>, <code><a href="#entry666172756E75736564">farunused</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E76657273696F6E-src-kernel-z80s"><a id="entry2E76657273696F6E"></a>.version</h3>
<div class="listingblock">
<div class="content">
<pre>.version ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the Solo Forth version.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E776F7264-src-lib-tool-list-words-fs"><a id="entry2E776F7264"></a>.word</h3>
<div class="listingblock">
<div class="content">
<pre>.word ( nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word whose default action is <code><a href="#entry282E776F726429">(.word)</a></code>. This
word is used by <code><a href="#entry776F726473">words</a></code>, <code><a href="#entry776F7264732D6C696B65">words-like</a></code> and <code><a href="#entry776F72646C6973742D776F726473">wordlist-words</a></code>,
therefore their output can be changed by the user in
special cases, for example when more details are needed for
debugging.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E776F72646C697374-src-lib-tool-list-word_lists-fs"><a id="entry2E776F72646C697374"></a>.wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>.wordlist ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the word list identified by <em>wid</em> has an associated
name, display it; else display <em>wid</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C69737473">wordlists</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E776F72646E616D65-src-lib-tool-list-words-fs"><a id="entry2E776F72646E616D65"></a>.wordname</h3>
<div class="listingblock">
<div class="content">
<pre>.wordname ( nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>An alternative action for the deferred word <code><a href="#entry2E776F7264">.word</a></code>,
which is used by <code><a href="#entry776F726473">words</a></code>, <code><a href="#entry776F7264732D6C696B65">words-like</a></code> and
<code><a href="#entry776F72646C6973742D776F726473">wordlist-words</a></code>.  <code>.wordname</code> prints <em>nt</em> and its
correspondent name.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E776F726473-src-kernel-z80s"><a id="entry2E776F726473"></a>.words</h3>
<div class="listingblock">
<div class="content">
<pre>.words ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2E7873-src-lib-data-xstack-fs"><a id="entry2E7873"></a>.xs</h3>
<div class="listingblock">
<div class="content">
<pre>.xs ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the number of items on the current <code><a href="#entry78737461636B">xstack</a></code>, followed
by a list of the items, if any; TOS is the right-most item.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry786465707468">xdepth</a></code> ,<code><a href="#entry282E787329">(.xs)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F-src-kernel-z80s"><a id="entry2F"></a>/</h3>
<div class="listingblock">
<div class="content">
<pre>/ ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em>, giving the quotient <em>n3</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: / ( n1 n2 -- n3 ) /mod nip ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-94, Forth-2012.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F6D6F64">/mod</a></code>, <code><a href="#entry2F5F">/_</a></code>, <code><a href="#entry2F2D">/-</a></code>,</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F21-src-lib-memory-MISC-fs"><a id="entry2F21"></a>/!</h3>
<div class="listingblock">
<div class="content">
<pre>/! ( n a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n</em> by the single-cell number at <em>a</em> and store
the quotient in <em>a</em></p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry322F21">2/!</a></code>, <code><a href="#entry2A21">*!</a></code>, <code><a href="#entry2B21">+!</a></code>, <code><a href="#entry2D21">-!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F2D-src-lib-math-operators-1-cell-fs"><a id="entry2F2D"></a>/-</h3>
<div class="listingblock">
<div class="content">
<pre>/- ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em> (doing a symmetric division), giving the
symmetric quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F2D72656D">/-rem</a></code>, <code><a href="#entry2F">/</a></code>, <code><a href="#entry2F5F">/_</a></code>, <code><a href="#entry736D2F72656D">sm/rem</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F2D72656D-src-lib-math-operators-1-cell-fs"><a id="entry2F2D72656D"></a>/-rem</h3>
<div class="listingblock">
<div class="content">
<pre>/-rem ( n1 n2 -- n3 n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em> (doing a symmetric division), giving the
remainder <em>n3</em> and the symmetric quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F6D6F64">/mod</a></code>, <code><a href="#entry2F5F6D6F64">/_mod</a></code>, <code><a href="#entry736D2F72656D">sm/rem</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F5F-src-lib-math-operators-1-cell-fs"><a id="entry2F5F"></a>/_</h3>
<div class="listingblock">
<div class="content">
<pre>/_ ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em> (doing a floored division), giving the
floored quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F5F6D6F64">/_mod</a></code>, <code><a href="#entry2F">/</a></code>, <code><a href="#entry2F2D">/-</a></code>, <code><a href="#entry666D2F6D6F64">fm/mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F5F6D6F64-src-lib-math-operators-1-cell-fs"><a id="entry2F5F6D6F64"></a>/_mod</h3>
<div class="listingblock">
<div class="content">
<pre>/_mod ( n1 n2 -- n3 n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em> (doing a floored division), giving the
remainder <em>n3</em> and the floored quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F6D6F64">/mod</a></code>, <code><a href="#entry2F2D72656D">/-rem</a></code>, <code><a href="#entry666D2F6D6F64">fm/mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F5F6D6F64-src-lib-math-operators-1-cell-fs">/_mod</h3>
<div class="listingblock">
<div class="content">
<pre>/_mod ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em> (doing a floored division), giving the
remainder <em>n3</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F5F6D6F64">/_mod</a></code>, <code><a href="#entry2F">/</a></code>, <code><a href="#entry2D72656D">-rem</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F616363657074-src-lib-keyboard-MISC-fs"><a id="entry2F616363657074"></a>/accept</h3>
<div class="listingblock">
<div class="content">
<pre>/accept ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the buffer max length used by
the latest execution of <code><a href="#entry616363657074">accept</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F62616E6B-src-kernel-z80s"><a id="entry2F62616E6B"></a>/bank</h3>
<div class="listingblock">
<div class="content">
<pre>/bank ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the size in bytes of a memory bank: $4000.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62616E6B2D7374617274">bank-start</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F626173652D66696C656E616D65-src-lib-dos-plus3dos-fs"><a id="entry2F626173652D66696C656E616D65"></a>/base-filename</h3>
<div class="listingblock">
<div class="content">
<pre>/base-filename ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the maximum length of a +3DOS base filename, i.e.,
a filename without drive, user area and extension.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F66696C656E616D652D657874">/filename-ext</a></code>, <code><a href="#entry2F66696C656E616D65">/filename</a></code>, <code><a href="#entry3E66696C656E616D65">&gt;filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F6361742D656E747279-src-lib-dos-plus3dos-fs"><a id="entry2F6361742D656E747279"></a>/cat-entry</h3>
<div class="listingblock">
<div class="content">
<pre>/cat-entry ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return size <em>n</em>, in bytes, of every entry of the temporary
buffer used by <code><a href="#entry636174">cat</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6361742D656E7472696573">cat-entries</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F636F756E7465642D737472696E67-src-lib-environment-question-fs"><a id="entry2F636F756E7465642D737472696E67"></a>/counted-string</h3>
<div class="listingblock">
<div class="content">
<pre>/counted-string ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the maximum size of a counted string, in characters.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D63686172">max-char</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F66696C656E616D65-src-lib-dos-plus3dos-fs"><a id="entry2F66696C656E616D65"></a>/filename</h3>
<div class="listingblock">
<div class="content">
<pre>/filename ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the maximum length of a +3DOS filename, including
drive, user area and filename extension.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F626173652D66696C656E616D65">/base-filename</a></code>, <code><a href="#entry3E66696C656E616D65">&gt;filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F66696C656E616D652D657874-src-lib-dos-plus3dos-fs"><a id="entry2F66696C656E616D652D657874"></a>/filename-ext</h3>
<div class="listingblock">
<div class="content">
<pre>/filename-ext ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the maximum length of a +3DOS filename extension
excluding the dot.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F66696C656E616D65">/filename</a></code>, <code><a href="#entry2F626173652D66696C656E616D65">/base-filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry2F68656170"></a>/heap</h3>
<div class="listingblock">
<div class="content">
<pre>/heap  ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Size of the current <code><a href="#entry68656170">heap</a></code>, in address units.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D68656170">get-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F686F6C64-src-kernel-z80s"><a id="entry2F686F6C64"></a>/hold</h3>
<div class="listingblock">
<div class="content">
<pre>/hold ( -- len )</pre>
</div>
</div>
<div class="paragraph">
<p>A character constant that returns the length of the pictured
output string buffer, which is located right below <code><a href="#entry706164">pad</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686C64">hld</a></code>, <code><a href="#entry2F706164">/pad</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F6B6B-src-lib-keyboard-MISC-fs"><a id="entry2F6B6B"></a>/kk</h3>
<div class="listingblock">
<div class="content">
<pre>/kk ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that holds the bytes ocuppied by every key in
the <code><a href="#entry6B6B2D706F727473">kk-ports</a></code> table: 3 (smaller and slower table) or 4
(bigger and faster table).</p>
</div>
<div class="paragraph">
<p>There are two versions of <code><a href="#entry6B6B2C">kk,</a></code> and <code><a href="#entry6B6B40">kk@</a></code>. They depend on
the value of <code><a href="#entry2F6B6B">/kk</a></code>.</p>
</div>
<div class="paragraph">
<p>The application can define <code><a href="#entry2F6B6B">/kk</a></code> before loading this block;
else it will be defined as a cconstant with value 4.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F6C696E6523-src-lib-tool-list-blocks-fs"><a id="entry2F6C696E6523"></a>/line#</h3>
<div class="listingblock">
<div class="content">
<pre>/line# ( -- # )</pre>
</div>
</div>
<div class="paragraph">
<p>Maximum length of a line number in the current radix.
It works for decimal, hex and binary.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F6D6F64-src-kernel-z80s"><a id="entry2F6D6F64"></a>/mod</h3>
<div class="listingblock">
<div class="content">
<pre>/mod ( n1 n2 -- n3 n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em>, giving the remainder <em>n3</em> and the
quotient <em>n4</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-94, Forth-2012.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64752F6D6F64">du/mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F6E616D65-src-lib-strings-MISC-fs"><a id="entry2F6E616D65"></a>/name</h3>
<div class="listingblock">
<div class="content">
<pre>/name ( ca1 len1 -- ca2 len2 ca3 len3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Split string <em>ca1 len1</em> into <em>ca2 len2</em> (from the start of
the first name in <em>ca1 len1</em>) and <em>ca3 len3</em> (from the char
after the first name in _ca1 len1).  A name is a substring
separated by spaces.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66697273742D6E616D65">first-name</a></code>, <code><a href="#entry2F737472696E67">/string</a></code>, <code><a href="#entry2D707265666978">-prefix</a></code>, <code><a href="#entry2D737566666978">-suffix</a></code>,
<code><a href="#entry737472696E672F">string/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F6F6374617665-src-lib-sound-48-fs"><a id="entry2F6F6374617665"></a>/octave</h3>
<div class="listingblock">
<div class="content">
<pre>/octave ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the number of notes in one octave:
12.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D6964646C652D6F6374617665">middle-octave</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F706164-src-lib-environment-question-fs"><a id="entry2F706164"></a>/pad</h3>
<div class="listingblock">
<div class="content">
<pre>/pad ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the size of the scratch area pointed to by <code><a href="#entry706164">pad</a></code>, in
characters.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F686F6C64">/hold</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F7178-src-lib-tool-list-blocks-fs"><a id="entry2F7178"></a>/qx</h3>
<div class="listingblock">
<div class="content">
<pre>/qx ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the number of header lines shown on a quick index.
It depends on the rows and columns of the current screen
mode.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7178">qx</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F71782D636F6C756D6E-src-lib-tool-list-blocks-fs"><a id="entry2F71782D636F6C756D6E"></a>/qx-column</h3>
<div class="listingblock">
<div class="content">
<pre>/qx-column ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the width of a column of the quick index. It depends
on the columns (32, 42, 64&#8230;&#8203;) of the current screen mode.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7178">qx</a></code>, <code><a href="#entry71782D636F6C756D6E73">qx-columns</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F736F756E64-src-lib-sound-128-fs"><a id="entry2F736F756E64"></a>/sound</h3>
<div class="listingblock">
<div class="content">
<pre>/sound ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A character constant that returns 14, the number of
registers used by the 128K sounds.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry21736F756E64">!sound</a></code>, <code><a href="#entry40736F756E64">@sound</a></code>, <code><a href="#entry736F756E64">sound</a></code>, <code><a href="#entry706C6179">play</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F737472696E67-src-kernel-z80s"><a id="entry2F737472696E67"></a>/string</h3>
<div class="listingblock">
<div class="content">
<pre>/string ( ca1 len1 n -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Adjust the character string <em>ca1 len1</em> by <em>n</em> characters.  The
resulting character string <em>ca2 len2</em> begins at <em>ca1</em> plus <em>n</em>
characters and is <em>len1</em> minus <em>n</em> characters long.</p>
</div>
<div class="paragraph">
<p><code>/string</code> is written in Z80. Equivalent definitions in Forth
are the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: /string ( ca1 len1 n -- ca2 len2 ) rot over + -rot - ;</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>: /string ( ca1 len1 n -- ca2 len2 ) dup &gt;r - swap r&gt; + swap ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (STRING), Forth-2012 (STRING).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry312F737472696E67">1/string</a></code>, <code><a href="#entry2D707265666978">-prefix</a></code>, <code><a href="#entry737472696E672F">string/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F737472696E676572-src-kernel-z80s"><a id="entry2F737472696E676572"></a>/stringer</h3>
<div class="listingblock">
<div class="content">
<pre>/stringer ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that holds the maximum size of the <code><a href="#entry737472696E676572">stringer</a></code>, in
characters.</p>
</div>
<div class="paragraph">
<p>See in <code><a href="#entry737472696E676572">stringer</a></code> an example how to move and resize the
<code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B737472696E676572">+stringer</a></code>, <code><a href="#entry656D7074792D737472696E676572">empty-stringer</a></code>, `default-stringer'.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F746162756C617465-src-lib-display-control-fs"><a id="entry2F746162756C617465"></a>/tabulate</h3>
<div class="listingblock">
<div class="content">
<pre>/tabulate ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the number of spaces that <code><a href="#entry746162756C617465">tabulate</a></code>
counts for. Its default value is 8.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry746162756C617465">tabulate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F746170652D66696C656E616D65-src-lib-tape-fs"><a id="entry2F746170652D66696C656E616D65"></a>/tape-filename</h3>
<div class="listingblock">
<div class="content">
<pre>/tape-filename ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the maximum length of a tape filename, which is 10
characters.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746170652D66696C656E616D65">tape-filename</a></code>. <code><a href="#entry2F66696C656E616D65">/filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F746170652D686561646572-src-lib-tape-fs"><a id="entry2F746170652D686561646572"></a>/tape-header</h3>
<div class="listingblock">
<div class="content">
<pre>/tape-header ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the length of a <code><a href="#entry746170652D686561646572">tape-header</a></code>: 17 bytes.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F746962-src-kernel-z80s"><a id="entry2F746962"></a>/tib</h3>
<div class="listingblock">
<div class="content">
<pre>/tib ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Maximum size of the terminal input buffer,</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746962">tib</a></code>, <code><a href="#entry23746962">#tib</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F756467-src-lib-graphics-udg-fs"><a id="entry2F756467"></a>/udg</h3>
<div class="listingblock">
<div class="content">
<pre>/udg ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p><em>b</em> is the size of a UDG (User Defined Graphic), in bytes.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D7769647468">udg-width</a></code>, <code><a href="#entry75646721">udg!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F7564672A-src-lib-graphics-udg-fs"><a id="entry2F7564672A"></a>/udg*</h3>
<div class="listingblock">
<div class="content">
<pre>/udg* ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by the <code><a href="#entry2F756467">/udg</a></code>, resulting <em>n2</em>. Used by
<code><a href="#entry7564673E">udg&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p><code>/udg*</code> is an <code><a href="#entry616C696173">alias</a></code> of <code><a href="#entry382A">8*</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F75736572-src-kernel-z80s"><a id="entry2F75736572"></a>/user</h3>
<div class="listingblock">
<div class="content">
<pre>/user ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the length of the user area.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7570">up</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry2F77696E646F77-src-lib-display-window-fs"><a id="entry2F77696E646F77"></a>/window</h3>
<div class="listingblock">
<div class="content">
<pre>/window ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that holds the size in bytes <em>n</em> occupied by the
data of one window.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.window.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry30-src-kernel-z80s"><a id="entry30"></a>0</h3>
<div class="listingblock">
<div class="content">
<pre>0 ( -- 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>0</em>. <code>0</code> is not a constant, but a code word, which is
faster.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D31">-1</a></code>, <code><a href="#entry31">1</a></code>, <code><a href="#entry32">2</a></code>, <code><a href="#entry66616C7365">false</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry302E72-src-kernel-z80s"><a id="entry302E72"></a>0.r</h3>
<div class="listingblock">
<div class="content">
<pre>0.r ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print signed integer <em>n</em> according to current base,
without any trailing blank.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry303C-src-kernel-z80s"><a id="entry303C"></a>0&lt;</h3>
<div class="listingblock">
<div class="content">
<pre>0&lt; ( x -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n</em> is less than zero.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required Word
Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry303E">0&gt;</a></code>, <code><a href="#entry303C3D">0&lt;=</a></code>, <code><a href="#entry303D">0=</a></code>, <code><a href="#entry303C3E">0&lt;&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry303C3D-src-lib-math-operators-1-cell-fs"><a id="entry303C3D"></a>0&lt;=</h3>
<div class="listingblock">
<div class="content">
<pre>0&lt;= ( n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n</em> is less than or equal to
zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry303E3D">0&gt;=</a></code>, <code><a href="#entry3C3D">&lt;=</a></code>, <code><a href="#entry753C3D">u&lt;=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry303C3E-src-kernel-z80s"><a id="entry303C3E"></a>0&lt;&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>0&lt;&gt; ( x -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>x</em> is not equal to zero.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry303D">0=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry303D-src-kernel-z80s"><a id="entry303D"></a>0=</h3>
<div class="listingblock">
<div class="content">
<pre>0= ( x -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>x</em> is equal to zero.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry303C3E">0&lt;&gt;</a></code>, <code><a href="#entry303C">0&lt;</a></code>, <code><a href="#entry303E">0&gt;</a></code>, <code><a href="#entry6E6567617465">negate</a></code>, <code><a href="#entry696E76657274">invert</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry303E-src-kernel-z80s"><a id="entry303E"></a>0&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>0&gt; ( n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n</em> is greater than zero.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required Word
Set), Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry303C">0&lt;</a></code>, <code><a href="#entry303E3D">0&gt;=</a></code>, <code><a href="#entry303D">0=</a></code>, <code><a href="#entry303C3E">0&lt;&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry303E3D-src-lib-math-operators-1-cell-fs"><a id="entry303E3D"></a>0&gt;=</h3>
<div class="listingblock">
<div class="content">
<pre>0&gt;= ( n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n</em> is greater than or equal
to zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry303C3D">0&lt;=</a></code>, <code><a href="#entry3E3D">&gt;=</a></code>, <code><a href="#entry753E3D">u&gt;=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry306272616E6368-src-kernel-z80s"><a id="entry306272616E6368"></a>0branch</h3>
<div class="listingblock">
<div class="content">
<pre>0branch ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A run-time procedure to branch conditionally. If  <em>f</em>
is false (zero), the following in-line address is copied to IP
to branch forward or backward.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6272616E6368">branch</a></code>, <code><a href="#entry3F6272616E6368">?branch</a></code>, <code><a href="#entry2D6272616E6368">-branch</a></code>, <code><a href="#entry2B6272616E6368">+branch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry30642E72-src-kernel-z80s"><a id="entry30642E72"></a>0d.r</h3>
<div class="listingblock">
<div class="content">
<pre>0d.r ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print signed double integer <em>d</em> according to current base,
without any trailing blank.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry30647570-src-lib-data_stack-fs"><a id="entry30647570"></a>0dup</h3>
<div class="listingblock">
<div class="content">
<pre>0dup ( x -- x | 0 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate <em>x</em> if it&#8217;s zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry647570">dup</a></code>, <code><a href="#entry2D647570">-dup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3065786974-src-lib-flow-conditionals-zero-fs"><a id="entry3065786974"></a>0exit</h3>
<div class="listingblock">
<div class="content">
<pre>0exit ( f -- ) ( R: nest-sys | -- nest-sys | )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is zero, return control to the calling definition,
specified by <em>nest-sys</em>.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry3065786974">0exit</a></code> is not intended to be used within a do-loop. Use
<code>0= if unloop exit then</code> instead.</p>
</div>
<div class="paragraph">
<p>In Solo Forth <code><a href="#entry3065786974">0exit</a></code> can be used in interpretation mode to
stop the interpretation of a block.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.zero.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry306966-src-lib-flow-conditionals-zero-fs"><a id="entry306966"></a>0if</h3>
<div class="listingblock">
<div class="content">
<pre>0if ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0= if</code>.</p>
</div>
<div class="paragraph">
<p><code>0if</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.zero.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry306D6178-src-lib-math-operators-1-cell-fs"><a id="entry306D6178"></a>0max</h3>
<div class="listingblock">
<div class="content">
<pre>0max ( n -- n | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is negative, return 0; else return <em>n</em>.  This is a
faster alternative to the idiom <code>0 max</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D6178">max</a></code>, <code><a href="#entry6D696E">min</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry30756E74696C-src-lib-flow-conditionals-zero-fs"><a id="entry30756E74696C"></a>0until</h3>
<div class="listingblock">
<div class="content">
<pre>0until ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0= until</code>.</p>
</div>
<div class="paragraph">
<p><code>0until</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.zero.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry307768696C65-src-lib-flow-conditionals-zero-fs"><a id="entry307768696C65"></a>0while</h3>
<div class="listingblock">
<div class="content">
<pre>0while ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Faster and smaller alternative to the idiom <code>0= while</code>.</p>
</div>
<div class="paragraph">
<p><code>0while</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.conditionals.zero.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry31-src-kernel-z80s"><a id="entry31"></a>1</h3>
<div class="listingblock">
<div class="content">
<pre>1 ( -- 1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>1</em>. <code>1</code> is not a constant, but a code word, which is
faster.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D31">-1</a></code>, <code><a href="#entry30">0</a></code>, <code><a href="#entry32">2</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry312B-src-kernel-z80s"><a id="entry312B"></a>1+</h3>
<div class="listingblock">
<div class="content">
<pre>1+ ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry312B21-src-lib-memory-MISC-fs"><a id="entry312B21"></a>1+!</h3>
<div class="listingblock">
<div class="content">
<pre>1+! ( a - )</pre>
</div>
</div>
<div class="paragraph">
<p>Increment the single-cell number at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63312B21">c1+!</a></code>, <code><a href="#entry312D21">1-!</a></code>, <code><a href="#entry2B21">+!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry312D-src-kernel-z80s"><a id="entry312D"></a>1-</h3>
<div class="listingblock">
<div class="content">
<pre>1- ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry312D21-src-lib-memory-MISC-fs"><a id="entry312D21"></a>1-!</h3>
<div class="listingblock">
<div class="content">
<pre>1-! ( a - )</pre>
</div>
</div>
<div class="paragraph">
<p>Decrement the single-cell number at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry312B21">1+!</a></code>, <code><a href="#entry63312D21">c1-!</a></code>, <code><a href="#entry2D21">-!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry312F737472696E67-src-kernel-z80s"><a id="entry312F737472696E67"></a>1/string</h3>
<div class="listingblock">
<div class="content">
<pre>1/string ( ca1 len1 -- ca1+1 len1-1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Adjust the character string <em>ca1 len1</em> by 1 character.</p>
</div>
<div class="paragraph">
<p><code>1/string</code> is equivalent to the idiom <code>1 /string</code> but
faster (0.9 the execution time).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F737472696E67">/string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry313662696E2E-src-lib-display-numbers-fs"><a id="entry313662696E2E"></a>16bin.</h3>
<div class="listingblock">
<div class="content">
<pre>16bin. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>n</em> as an unsigned 16-bit binary number.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry313662696E2E">16bin.</a></code>, <code><a href="#entry333262696E2E">32bin.</a></code>, <code><a href="#entry3862696E2E">8bin.</a></code>, <code><a href="#entry62696E2E">bin.</a></code>, <code><a href="#entry62696E617279">binary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry31366865782E-src-lib-display-numbers-fs"><a id="entry31366865782E"></a>16hex.</h3>
<div class="listingblock">
<div class="content">
<pre>16hex. ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>d</em> as an unsigned 16-bit hexadecimal number.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry313662696E2E">16bin.</a></code>, <code><a href="#entry33326865782E">32hex.</a></code>, <code><a href="#entry386865782E">8hex.</a></code>, <code><a href="#entry6865782E">hex.</a></code>, <code><a href="#entry686578">hex</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry316172726179-src-lib-data-array-noble-fs"><a id="entry316172726179"></a>1array</h3>
<div class="listingblock">
<div class="content">
<pre>1array ( n1 n2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a 1-dimension array <em>name</em> with <em>n1</em> items of
<em>n2</em> address units each.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7D">}</a></code>, <code><a href="#entry61727261793E6974656D73">array&gt;items</a></code>, <code><a href="#entry326172726179">2array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.noble.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry316C696E65-src-lib-editor-specforth-fs"><a id="entry316C696E65"></a>1line</h3>
<div class="listingblock">
<div class="content">
<pre>1line ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Scan the cursor line for a match to <code><a href="#entry706164">pad</a></code> text. Return flag
and update the cursor <code><a href="#entry7223">r#</a></code> to the end of matching text, or
to the start of the next line if no match is found.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry316C69746572616C-src-kernel-z80s"><a id="entry316C69746572616C"></a>1literal</h3>
<div class="listingblock">
<div class="content">
<pre>1literal ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>x</em> is a byte, execute <code><a href="#entry636C69746572616C">cliteral</a></code>, else execute <code><a href="#entry6C69746572616C">literal</a></code>.</p>
</div>
<div class="paragraph">
<p><code>1literal</code> is used in <code><a href="#entry696E746572707265742D7461626C65">interpret-table</a></code> to compile the
single-cell literals. It is useful as an alternative to
<code><a href="#entry6C69746572616C">literal</a></code>, in order to optimize the code when <em>x</em> is unknown.</p>
</div>
<div class="paragraph">
<p><code>1literal</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: 1literal ( x -- )
  dup byte?
  if  postpone cliteral exit  then  postpone literal ;
  immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry326C69746572616C">2literal</a></code>, <code><a href="#entry5D316C">]1l</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32-src-kernel-z80s"><a id="entry32"></a>2</h3>
<div class="listingblock">
<div class="content">
<pre>2 ( -- 2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>2</em>. <code>2</code> is not a constant, but a code word, which is
faster.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D31">-1</a></code>, <code><a href="#entry30">0</a></code>, <code><a href="#entry31">1</a></code>, <code><a href="#entry63656C6C">cell</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3221-src-kernel-z80s"><a id="entry3221"></a>2!</h3>
<div class="listingblock">
<div class="content">
<pre>2! ( x1 x2 a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the cell pair <em>x1 x2</em> at <em>a</em>, with <em>x2</em> at <em>a</em> and <em>x1</em>
at the next consecutive cell. It is equivalent to the sequence
<code>swap over ! cell+ !</code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Double Number Word Set), Forth-83 (Double
Number Extension Word Set), Forth-94 (CORE), Forth-2012
(CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3240">2@</a></code>, <code><a href="#entry21">!</a></code>, <code><a href="#entry6321">c!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32213E-src-lib-data-store-to-fs"><a id="entry32213E"></a>2!&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>2!&gt;
  Interpretation: ( xd "name" -- )
  Compilation:    ( "name" -- )
  Run-time:       ( xd -- )
"two-store-to"</pre>
</div>
</div>
<div class="paragraph">
<p>A simpler and faster alternative to standard <code><a href="#entry746F">to</a></code> and
<code><a href="#entry3276616C7565">2value</a></code>.</p>
</div>
<div class="paragraph">
<p><code>2!&gt;</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Interpretation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is the name of a word created by
<code><a href="#entry32636F6E7374616E74">2constant</a></code> or <code><a href="#entry32636F6E7374">2const</a></code>, and make <em>xd</em> its value.</p>
</div>
<div class="paragraph">
<p>Compilation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is a word created by <code><a href="#entry32636F6E7374616E74">2constant</a></code> or
<code><a href="#entry32636F6E7374">2const</a></code>, and append the run-time semantics given below to
the current definition.</p>
</div>
<div class="paragraph">
<p>Run-time:</p>
</div>
<div class="paragraph">
<p>Make <em>xd</em> the current value of double-cell constant <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth&#8217;s <code>!&gt;</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry213E">!&gt;</a></code>, <code><a href="#entry63213E">c!&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.store-to.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry322A-src-kernel-z80s"><a id="entry322A"></a>2*</h3>
<div class="listingblock">
<div class="content">
<pre>2* ( x1 -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x2</em> is the result of shifting <em>x1</em> one bit toward the
most-significant bit, filling the vacated least-significant
bit with zero.</p>
</div>
<div class="paragraph">
<p><code>2*</code> is equivalent to <code>1 lshift</code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C7368696674">lshift</a></code>, <code><a href="#entry382A">8*</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry322A21-src-lib-memory-MISC-fs"><a id="entry322A21"></a>2*!</h3>
<div class="listingblock">
<div class="content">
<pre>2*! ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do a <code><a href="#entry322A">2*</a></code> shift to the single-cell number at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry322F21">2/!</a></code>, <code><a href="#entry322A">2*</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry322B-src-kernel-z80s"><a id="entry322B"></a>2+</h3>
<div class="listingblock">
<div class="content">
<pre>2+ ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry322C-src-kernel-z80s"><a id="entry322C"></a>2,</h3>
<div class="listingblock">
<div class="content">
<pre>2, ( x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry322D-src-kernel-z80s"><a id="entry322D"></a>2-</h3>
<div class="listingblock">
<div class="content">
<pre>2- ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry322F-src-lib-math-operators-1-cell-fs"><a id="entry322F"></a>2/</h3>
<div class="listingblock">
<div class="content">
<pre>2/ ( x1 -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x2</em> is the result of shifting <em>x1</em> one bit toward the
least-significant bit, leaving the most-significant bit
unchanged.</p>
</div>
<div class="paragraph">
<p>This is the same as <code>s&gt;d 2 fm/mod swap drop</code>. It is not
the same as <code>2 /</code>, nor is it the same as <code>1 rshift</code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry322F21-src-lib-memory-MISC-fs"><a id="entry322F21"></a>2/!</h3>
<div class="listingblock">
<div class="content">
<pre>2/! ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do a <code><a href="#entry322F">2/</a></code> shift to the single-cell number at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry322A21">2*!</a></code>, <code><a href="#entry322F">2/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry323E66616C7365-src-lib-data_stack-fs"><a id="entry323E66616C7365"></a>2&gt;false</h3>
<div class="listingblock">
<div class="content">
<pre>2&gt;false ( x1 x2 -- false )</pre>
</div>
</div>
<div class="paragraph">
<p>Replace <em>x1 x2</em> with <em>false</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry323E74727565">2&gt;true</a></code>, <code><a href="#entry3E66616C7365">&gt;false</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry323E72-src-kernel-z80s"><a id="entry323E72"></a>2&gt;r</h3>
<div class="listingblock">
<div class="content">
<pre>2&gt;r ( x1 x2 -- ) ( R: -- x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry32723E">2r&gt;</a></code>, <code><a href="#entry327240">2r@</a></code>, <code><a href="#entry3E72">&gt;r</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry323E74727565-src-lib-data_stack-fs"><a id="entry323E74727565"></a>2&gt;true</h3>
<div class="listingblock">
<div class="content">
<pre>2&gt;true ( x1 x2 -- true )</pre>
</div>
</div>
<div class="paragraph">
<p>Replace <em>x1 x2</em> with <em>true</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry323E66616C7365">2&gt;false</a></code>, <code><a href="#entry3E74727565">&gt;true</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry323E78-src-lib-data-xstack-fs"><a id="entry323E78"></a>2&gt;x</h3>
<div class="listingblock">
<div class="content">
<pre>2&gt;x ( x1 x2 -- ) ( X: -- x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Move the cell pair <em>x1 x2</em> from the data stack to the
current <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry32783E">2x&gt;</a></code>, <code><a href="#entry327840">2x@</a></code>, <code><a href="#entry3E78">&gt;x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3240-src-kernel-z80s"><a id="entry3240"></a>2@</h3>
<div class="listingblock">
<div class="content">
<pre>2@ ( a -- x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the cell pair <em>x1 x2</em> stored at <em>a</em>. <em>x2</em> is stored at
<em>a</em> and <em>x1</em> is stored at the next consecutive cell. It is
equivalent to the sequence <code>dup cell+ @ swap @</code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Double Number Word Set), Forth-83 (Double
Number Extension Word Set), Forth-94 (CORE), Forth-2012
(CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3221">2!</a></code>, <code><a href="#entry40">@</a></code>, <code><a href="#entry6340">c@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32402B-src-lib-memory-MISC-fs"><a id="entry32402B"></a>2@+</h3>
<div class="listingblock">
<div class="content">
<pre>2@+ ( a -- a' xd )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>xd</em> from <em>a</em>. Return <em>a'</em>, which is <em>a</em>
incremented by two cells.
This is handy for stepping through double-cell arrays.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3240">2@</a></code>, <code><a href="#entry402B">@+</a></code>, <code><a href="#entry63402B">c@+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326172726179-src-lib-data-array-noble-fs"><a id="entry326172726179"></a>2array</h3>
<div class="listingblock">
<div class="content">
<pre>2array ( n1 n2 n3 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a 2-dimension array <em>name</em> with <em>n1 x n2</em> items of
<em>n3</em> address units each.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7D7D">}}</a></code>, <code><a href="#entry316172726179">1array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.noble.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3261727261793E-src-lib-data-array-COMMON-fs"><a id="entry3261727261793E"></a>2array&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>2array&gt; ( n a1 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a2</em> of element <em>n</em> of a 1-dimension
single-cell array <em>a1</em>.  <code>2array&gt;</code> is a common factor of
<code><a href="#entry326176616C7565">2avalue</a></code> and <code><a href="#entry32617661726961626C65">2avariable</a></code>.</p>
</div>
<div class="paragraph">
<p><code>2array&gt;</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: 2array&gt; ( n a1 -- a2 ) swap [ 2 cells ] literal * + ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3261746F-src-lib-data-array-value-fs"><a id="entry3261746F"></a>2ato</h3>
<div class="listingblock">
<div class="content">
<pre>2ato ( xd n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>xd</em> into element <em>n</em> of 1-dimension double-cell
values array <em>name</em>.</p>
</div>
<div class="paragraph">
<p><code>2ato</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry326176616C7565">2avalue</a></code>, <code><a href="#entry283261746F29">(2ato)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326176616C7565-src-lib-data-array-value-fs"><a id="entry326176616C7565"></a>2avalue</h3>
<div class="listingblock">
<div class="content">
<pre>2avalue ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a 1-dimension double-cell values array <em>name</em>
with <em>n</em> elements and the execution semantics defined
below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;xd )</p>
</div>
<div class="paragraph">
<p>Return contents <em>xd</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3261746F">2ato</a></code>, <code><a href="#entry2B3261746F">+2ato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32617661726961626C65-src-lib-data-array-variable-fs"><a id="entry32617661726961626C65"></a>2avariable</h3>
<div class="listingblock">
<div class="content">
<pre>2avariable ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a 1-dimension double-cell variables array <em>name</em>
with <em>n</em> elements and the execution semantics defined
below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;a )</p>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617661726961626C65">avariable</a></code>, <code><a href="#entry63617661726961626C65">cavariable</a></code>, <code><a href="#entry66617232617661726961626C65">far2avariable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.variable.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32636F6E7374-src-lib-data-const-fs"><a id="entry32636F6E7374"></a>2const</h3>
<div class="listingblock">
<div class="content">
<pre>2const ( x1 x2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a double fast constant <em>name</em>, with value <em>x1 x2</em>.</p>
</div>
<div class="paragraph">
<p>A double fast constant works like an ordinary <code><a href="#entry32636F6E7374616E74">2constant</a></code>,
except its value is compiled as a literal.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth&#8217;s <code><a href="#entry636F6E7374">const</a></code>.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry5B32636F6E73745D">[2const]</a></code>, <code><a href="#entry636F6E7374">const</a></code>, <code><a href="#entry63636F6E7374">cconst</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.const.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32636F6E7374616E74-src-kernel-z80s"><a id="entry32636F6E7374616E74"></a>2constant</h3>
<div class="listingblock">
<div class="content">
<pre>2constant ( x1 x2 "name -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> with the executions semantics
defined below:</p>
</div>
<div class="paragraph">
<p><em>name</em> is referred to as a two-constant.</p>
</div>
<div class="paragraph">
<p>name Execution: (&#8201;&#8212;&#8201;x1 x2 )</p>
</div>
<div class="paragraph">
<p>Place cell pair <em>x1 x2</em> on the stack.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Double Number Word Set), Forth-83 (Double
Number Extension Word Set), Forth-94 (DOUBLE), Forth-2012
(DOUBLE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3264726F70-src-kernel-z80s"><a id="entry3264726F70"></a>2drop</h3>
<div class="listingblock">
<div class="content">
<pre>2drop ( x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32647570-src-kernel-z80s"><a id="entry32647570"></a>2dup</h3>
<div class="listingblock">
<div class="content">
<pre>2dup ( x1 x2 -- x1 x2 x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate cell pair <em>x1 x2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry647570">dup</a></code>, <code><a href="#entry326F766572">2over</a></code>, <code><a href="#entry3264726F70">2drop</a></code>, <code><a href="#entry33647570">3dup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32656E7472793A-src-lib-data-associative-list-fs"><a id="entry32656E7472793A"></a>2entry:</h3>
<div class="listingblock">
<div class="content">
<pre>2entry: ( dx wid "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a double-cell entry "name" in associative list
<em>wid</em>, with value <em>dx</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326669656C643A-src-lib-data-begin-structure-fs"><a id="entry326669656C643A"></a>2field:</h3>
<div class="listingblock">
<div class="content">
<pre>2field: ( n1 "name" -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  <em>offset</em>  is the first double-cell aligned
value greater than or equal to <em>n1</em>. <em>n2</em> = <em>offset</em> + 2
cells.</p>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> with the execution semantics
defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution: <code>( a1&#8201;&#8212;&#8201;a2 )</code></p>
</div>
<div class="paragraph">
<p>Add the <em>offset</em> calculated during the compile-time action
to <em>a1</em> giving the address <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626567696E2D737472756374757265">begin-structure</a></code>, <code><a href="#entry2B6669656C64">+field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326C6974-src-kernel-z80s"><a id="entry326C6974"></a>2lit</h3>
<div class="listingblock">
<div class="content">
<pre>2lit ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326C69746572616C-src-kernel-z80s"><a id="entry326C69746572616C"></a>2literal</h3>
<div class="listingblock">
<div class="content">
<pre>2literal ( dx -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <em>dx</em> in the current definition.</p>
</div>
<div class="paragraph">
<p><code>2literal</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: 2literal ( dx -- ) postpone 2lit 2, ; immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry326C6974">2lit</a></code>, <code><a href="#entry6C69746572616C">literal</a></code>, <code><a href="#entry636C69746572616C">cliteral</a></code>, <code><a href="#entry316C69746572616C">1literal</a></code>, <code><a href="#entry5D326C">]2l</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326E64726F70-src-lib-data_stack-fs"><a id="entry326E64726F70"></a>2ndrop</h3>
<div class="listingblock">
<div class="content">
<pre>2ndrop ( dx1..dxn n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Drop <em>n</em> double cell items from the stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E64726F70">ndrop</a></code>, <code><a href="#entry64726F70">drop</a></code>, <code><a href="#entry3264726F70">2drop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326E6970-src-lib-data_stack-fs"><a id="entry326E6970"></a>2nip</h3>
<div class="listingblock">
<div class="content">
<pre>2nip ( x1 x2 x3 x4 -- x3 x4 )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6970">nip</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry326F766572-src-kernel-z80s"><a id="entry326F766572"></a>2over</h3>
<div class="listingblock">
<div class="content">
<pre>2over ( x1 x2 x3 x4 -- x1 x2 x3 x4 x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32723E-src-kernel-z80s"><a id="entry32723E"></a>2r&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>2r&gt; ( -- x1 x2 ) ( R: x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry323E72">2&gt;r</a></code>, <code><a href="#entry327240">2r@</a></code>, <code><a href="#entry723E">r&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry327240-src-kernel-z80s"><a id="entry327240"></a>2r@</h3>
<div class="listingblock">
<div class="content">
<pre>2r@ ( -- x1 x2 ) ( R: x1 x2 -- x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry323E72">2&gt;r</a></code>, <code><a href="#entry32723E">2r&gt;</a></code>, <code><a href="#entry7240">r@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry327264726F70-src-lib-return_stack-fs"><a id="entry327264726F70"></a>2rdrop</h3>
<div class="listingblock">
<div class="content">
<pre>2rdrop ( R: x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/return_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32726F74-src-lib-data_stack-fs"><a id="entry32726F74"></a>2rot</h3>
<div class="listingblock">
<div class="content">
<pre>2rot ( x1 x2 x3 x4 x5 x6 -- x3 x4 x5 x6 x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3273746F726572-src-lib-data-storer-fs"><a id="entry3273746F726572"></a>2storer</h3>
<div class="listingblock">
<div class="content">
<pre>2storer ( xd a "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a word <em>name</em> which, when executed, will cause that
<em>xd</em> be stored at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: variant of the word <code><a href="#entry736574">set</a></code> found in Forth-79
(Reference Word Set) and Forth-83 (Appendix B.
Uncontrolled Reference Words).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.storer.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3273776170-src-kernel-z80s"><a id="entry3273776170"></a>2swap</h3>
<div class="listingblock">
<div class="content">
<pre>2swap ( x1 x2 x3 x4 -- x3 x4 x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32737769746368-src-lib-flow-switch-colon-fs"><a id="entry32737769746368"></a>2switch</h3>
<div class="listingblock">
<div class="content">
<pre>2switch ( xd switch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute the switch <em>switch</em> for the key <em>xd</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7377697463683A">switch:</a></code>, <code><a href="#entry3A32636C61757365">:2clause</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.switch-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32746F76616C-src-lib-data-val-fs"><a id="entry32746F76616C"></a>2toval</h3>
<div class="listingblock">
<div class="content">
<pre>2toval ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the default behaviour of words created by <code><a href="#entry3276616C">2val</a></code>:
make them store a new value instead of returning its actual
one.</p>
</div>
<div class="paragraph">
<p><code>2toval</code> and <code><a href="#entry3276616C">2val</a></code> are a non-parsing alternative to the
standard <code><a href="#entry746F">to</a></code> and <code><a href="#entry3276616C7565">2value</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746F76616C">toval</a></code>, <code><a href="#entry63746F76616C">ctoval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3275736572-src-lib-data-user-fs"><a id="entry3275736572"></a>2user</h3>
<div class="listingblock">
<div class="content">
<pre>2user ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a user double variable <em>name</em> in the first available
offset within the user area.  Execution of <em>name</em> leaves
its absolute user area storage address.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75736572">user</a></code>, <code><a href="#entry75637265617465">ucreate</a></code>, <code><a href="#entry75616C6C6F74">uallot</a></code>, <code><a href="#entry3F75736572">?user</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.user.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3276616C-src-lib-data-val-fs"><a id="entry3276616C"></a>2val</h3>
<div class="listingblock">
<div class="content">
<pre>2val ( x1 x2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> that will place <em>x1 x2</em> on
the stack (unless <code><a href="#entry32746F76616C">2toval</a></code> is used first) and then will
execute <code><a href="#entry696E69742D3276616C">init-2val</a></code>.</p>
</div>
<div class="paragraph">
<p><code>2val</code> is an alternative to the standard <code><a href="#entry3276616C7565">2value</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry76616C">val</a></code>, <code><a href="#entry6376616C">cval</a></code>, <code><a href="#entry327661726961626C65">2variable</a></code>, <code><a href="#entry32636F6E7374616E74">2constant</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3276616C7565-src-lib-data-value-fs"><a id="entry3276616C7565"></a>2value</h3>
<div class="listingblock">
<div class="content">
<pre>2value ( x1 x2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition <em>name</em> with the following execution
semantics: place <em>x1 x2</em> on the stack.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746F">to</a></code>, <code><a href="#entry6376616C7565">cvalue</a></code>, <code><a href="#entry76616C7565">value</a></code>, <code><a href="#entry32636F6E7374616E74">2constant</a></code>,
<code><a href="#entry327661726961626C65">2variable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry327661726961626C65-src-kernel-z80s"><a id="entry327661726961626C65"></a>2variable</h3>
<div class="listingblock">
<div class="content">
<pre>2variable ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  Create a definition for <em>name</em> with the
execution semantics defined below. Reserve two consecutive
cells of data space.</p>
</div>
<div class="paragraph">
<p><em>name</em> is referred to as a two-variable.</p>
</div>
<div class="paragraph">
<p>name Execution: (&#8201;&#8212;&#8201;a )</p>
</div>
<div class="paragraph">
<p><em>a</em> is the address of the first (lower address) cell of two
consecutive cells. A program is responsible for
initializing the contents.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Double Number Word Set), Forth-83 (Double
Number Extension Word Set), Forth-94 (DOUBLE), Forth-2012
(DOUBLE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry32783E-src-lib-data-xstack-fs"><a id="entry32783E"></a>2x&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>2x&gt; ( -- x1 x2 ) ( X: x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Move the cell pair <em>x1 x2</em> from the current <code><a href="#entry78737461636B">xstack</a></code> to
the data stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry323E78">2&gt;x</a></code>, <code><a href="#entry327840">2x@</a></code>, <code><a href="#entry783E">x&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry327840-src-lib-data-xstack-fs"><a id="entry327840"></a>2x@</h3>
<div class="listingblock">
<div class="content">
<pre>2x@ ( -- x1 x2 ) ( X: x1 x2 -- x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy the cell pair <em>x1 x2</em> from the current <code><a href="#entry78737461636B">xstack</a></code> to the
data stack.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry327864726F70-src-lib-data-xstack-fs"><a id="entry327864726F70"></a>2xdrop</h3>
<div class="listingblock">
<div class="content">
<pre>2xdrop ( X: x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove the cell pair <em>x1 x2</em> from the current <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7864726F70">xdrop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3278647570-src-lib-data-xstack-fs"><a id="entry3278647570"></a>2xdup</h3>
<div class="listingblock">
<div class="content">
<pre>2xdup ( X: x1 x2 -- x1 x2 x1 x2 ) xover xover ; ?)</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate the cell pair <em>x1 x2</em> in the current <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78647570">xdup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry333262696E2E-src-lib-display-numbers-fs"><a id="entry333262696E2E"></a>32bin.</h3>
<div class="listingblock">
<div class="content">
<pre>32bin. ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>d</em> as an unsigned 32-bit binary number.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry33326865782E">32hex.</a></code>, <code><a href="#entry313662696E2E">16bin.</a></code>, <code><a href="#entry3862696E2E">8bin.</a></code>, <code><a href="#entry62696E2E">bin.</a></code>, <code><a href="#entry62696E617279">binary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry33326865782E-src-lib-display-numbers-fs"><a id="entry33326865782E"></a>32hex.</h3>
<div class="listingblock">
<div class="content">
<pre>32hex. ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>d</em> as an unsigned 32-bit hexadecimal number.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry333262696E2E">32bin.</a></code>, <code><a href="#entry31366865782E">16hex.</a></code>, <code><a href="#entry386865782E">8hex.</a></code>, <code><a href="#entry6865782E">hex.</a></code>, <code><a href="#entry686578">hex</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3364726F70-src-lib-data_stack-fs"><a id="entry3364726F70"></a>3drop</h3>
<div class="listingblock">
<div class="content">
<pre>3drop ( x1 x2 x3 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64726F70">drop</a></code>, <code><a href="#entry3264726F70">2drop</a></code>, <code><a href="#entry3464726F70">4drop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry33647570-src-lib-data_stack-fs"><a id="entry33647570"></a>3dup</h3>
<div class="listingblock">
<div class="content">
<pre>3dup ( x1 x2 x3 -- x1 x2 x3 x1 x2 x3 )</pre>
</div>
</div>
<div class="paragraph">
<p><code>3dup</code> is written is Z80. An equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: 3dup ( x1 x2 x3 -- x1 x2 x3 x1 x2 x3 ) dup 2over rot ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry647570">dup</a></code>, <code><a href="#entry32647570">2dup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3464726F70-src-lib-data_stack-fs"><a id="entry3464726F70"></a>4drop</h3>
<div class="listingblock">
<div class="content">
<pre>4drop ( x1 x2 x3 x4 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64726F70">drop</a></code>, <code><a href="#entry3264726F70">2drop</a></code>, <code><a href="#entry3364726F70">3drop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry382A-src-lib-math-operators-1-cell-fs"><a id="entry382A"></a>8*</h3>
<div class="listingblock">
<div class="content">
<pre>8* ( x1 -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x2</em> is the result of shifting <em>x1</em> three bits toward the
most-significant bit, filling the vacated least-significant
bit with zero.</p>
</div>
<div class="paragraph">
<p>This is the same as <code>3 lshift</code> or <code>2* 2* 2*</code>, but
faster.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry322A">2*</a></code>, <code><a href="#entry6C7368696674">lshift</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3862696E2E-src-lib-display-numbers-fs"><a id="entry3862696E2E"></a>8bin.</h3>
<div class="listingblock">
<div class="content">
<pre>8bin. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>n</em> as an unsigned 8-bit binary number.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry386865782E">8hex.</a></code>, <code><a href="#entry333262696E2E">32bin.</a></code>, <code><a href="#entry313662696E2E">16bin.</a></code>, <code><a href="#entry62696E2E">bin.</a></code>, <code><a href="#entry62696E617279">binary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry386865782E-src-lib-display-numbers-fs"><a id="entry386865782E"></a>8hex.</h3>
<div class="listingblock">
<div class="content">
<pre>8hex. ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>d</em> as an unsigned 8-bit hexadecimal number.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3862696E2E">8bin.</a></code>, <code><a href="#entry31366865782E">16hex.</a></code>, <code><a href="#entry31366865782E">16hex.</a></code>, <code><a href="#entry6865782E">hex.</a></code>, <code><a href="#entry686578">hex</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3A-src-kernel-z80s"><a id="entry3A"></a>:</h3>
<div class="listingblock">
<div class="content">
<pre>: ( "name" -- -sys )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>. Create a definition for <em>name</em>, called a "colon
definition". Enter  compilation  <code><a href="#entry7374617465">state</a></code> and  start  the
current definition. Append  the initiation semantics given
below to the current definition.</p>
</div>
<div class="paragraph">
<p>Initiation: <code>( i*x&#8201;&#8212;&#8201;i*x ) ( R:&#8201;&#8212;&#8201;nest-sys )</code></p>
</div>
<div class="paragraph">
<p>Save implementation-dependent information  <em>nest-sys</em> about
the calling  definition. The  stack effects  <em>i*x</em> represent
arguments to <em>name</em>.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution: <code>( i*x&#8201;&#8212;&#8201;j*x )</code></p>
</div>
<div class="paragraph">
<p>Execute the definition name. The stack effects <em>i*x</em>  and
<em>j*x</em> represent arguments to and results from <em>name</em>,
respectively.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3B">;</a></code>, <code><a href="#entry646F65733E">does&gt;</a></code>, <code><a href="#entry686561646572">header</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3A32636C61757365-src-lib-flow-switch-colon-fs"><a id="entry3A32636C61757365"></a>:2clause</h3>
<div class="listingblock">
<div class="content">
<pre>:2clause ( xd switch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the definition of a switch clause <em>xd</em> for switch
<em>switch</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7377697463683A">switch:</a></code>, <code><a href="#entry32737769746368">2switch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.switch-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3A3A-src-lib-objects-mini-oof-fs"><a id="entry3A3A"></a>::</h3>
<div class="listingblock">
<div class="content">
<pre>:: ( class "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the method for the selector <em>name</em> of the class
<em>class</em> (not immediate!).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3A63636C61757365-src-lib-flow-switch-colon-fs"><a id="entry3A63636C61757365"></a>:cclause</h3>
<div class="listingblock">
<div class="content">
<pre>:cclause (  switch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the definition of a switch clause <em>c</em> for switch
<em>switch</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7377697463683A">switch:</a></code>, <code><a href="#entry63737769746368">cswitch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.switch-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3A636C61757365-src-lib-flow-switch-colon-fs"><a id="entry3A636C61757365"></a>:clause</h3>
<div class="listingblock">
<div class="content">
<pre>:clause ( x switch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the definition of a switch clause <em>x</em> for switch
<em>switch</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7377697463683A">switch:</a></code>, <code><a href="#entry737769746368">switch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.switch-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3A6E6F6E616D65-src-lib-define-MISC-fs"><a id="entry3A6E6F6E616D65"></a>:noname</h3>
<div class="listingblock">
<div class="content">
<pre>:noname ( -- xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Create an execution token <em>xt</em>. Enter compilation state and
start the current definition, which can be executed later
by using <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3A737769746368-src-lib-flow-bracket-switch-fs"><a id="entry3A737769746368"></a>:switch</h3>
<div class="listingblock">
<div class="content">
<pre>:switch ( xt "name" -- head )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a code switch whose default action is given by
<em>xt</em>. Leave the address of the <em>head</em> of its list on the
stack.</p>
</div>
<div class="paragraph">
<p>The <em>head</em> of the switch structure is the address of a
2-cell structure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>link (to the last clause of the switch)</p>
</li>
<li>
<p>default xt</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C737769746368">&lt;switch</a></code>, <code><a href="#entry5B737769746368">[switch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3B-src-kernel-z80s"><a id="entry3B"></a>;</h3>
<div class="listingblock">
<div class="content">
<pre>;
  Compilation: ( -- )
  Run-time:    ( -- ) ( R: nest-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: Append the run-time semantics below to the
current definition. End the current definition, allow it to be
found in the dictionary and enter interpretation state.</p>
</div>
<div class="paragraph">
<p>Run-time: Return to the calling definition specified by
<em>nest-sys</em>.</p>
</div>
<div class="paragraph">
<p><code>;</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ; ( -- ) postpone exit finish-code ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry65786974">exit</a></code>, <code><a href="#entry3A">:</a></code>, <code><a href="#entry66696E6973682D636F6465">finish-code</a></code>, <code><a href="#entry3B636F6465">;code</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3B5D-src-lib-flow-bracket-colon-fs"><a id="entry3B5D"></a>;]</h3>
<div class="listingblock">
<div class="content">
<pre>;]
  Compilation: ( orig xt1 -- )
  Run-time: ( -- xt2 )</pre>
</div>
</div>
<div class="paragraph">
<p>End a quotation started by <code><a href="#entry5B3A">[:</a></code>.</p>
</div>
<div class="paragraph">
<p><code>;]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Compilation: ( orig xt1&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>End the current nested definition, and resume compilation
to the previous (containing) current definition, identified
by <em>xt1</em>. Resolve the branch from <em>orig</em> left by <code><a href="#entry5B3A">[:</a></code>.
Append the following run-time to the (containing) current
definition:</p>
</div>
<div class="paragraph">
<p>Run-time: (&#8201;&#8212;&#8201;xt2 )</p>
</div>
<div class="paragraph">
<p><em>xt2</em> is the execution token of the nested definition.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3B636F6465-src-lib-define-MISC-fs"><a id="entry3B636F6465"></a>;code</h3>
<div class="listingblock">
<div class="content">
<pre>;code ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Stop compilation and terminate a new defining word by
compiling the run-time routine <code><a href="#entry283B636F646529">(;code)</a></code>.</p>
</div>
<div class="paragraph">
<p><code>;code</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Assembler Word Set), Forth-83
(Assembler Extension Word Set), Forth-94 (TOOLS EXT),
Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C-src-kernel-z80s"><a id="entry3C"></a>&lt;</h3>
<div class="listingblock">
<div class="content">
<pre>&lt; ( n1 n2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n1</em> is less than <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E">&gt;</a></code>, <code><a href="#entry753C">u&lt;</a></code>, <code><a href="#entry303C">0&lt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C23-src-kernel-z80s"><a id="entry3C23"></a>&lt;#</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;# ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Initialize the pictured numeric output process:
Set <code><a href="#entry686C64">hld</a></code> to its initial value, right below <code><a href="#entry706164">pad</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686C64">hld</a></code> <code><a href="#entry706164">pad</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C3D-src-lib-math-operators-1-cell-fs"><a id="entry3C3D"></a>&lt;=</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;= ( n1 n2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n1</em> is less than or
equal to <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E3D">&gt;=</a></code>, <code><a href="#entry753C3D">u&lt;=</a></code>, <code><a href="#entry303C3D">0&lt;=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C3D3E-src-lib-math-operators-1-cell-fs"><a id="entry3C3D3E"></a>&lt;=&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;=&gt; ( n1 n2 -- -1|0|1 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n1</em> equals <em>n2</em>, return zero.
If <em>n1</em> is less than <em>n2</em>, return negative one.
If <em>n1</em> is greater than <em>n2</em>, return positive one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706F6C6174697279">polatiry</a></code>, <code><a href="#entry3C">&lt;</a></code>, <code><a href="#entry3D">=</a></code>, <code><a href="#entry3E">&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C3E-src-kernel-z80s"><a id="entry3C3E"></a>&lt;&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;&gt; ( x1 x2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> only and only if <em>x1</em> is not bit-for-bit the
same as <em>x1</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Reference Word Set), Forth-83 (Uncontrolled
Reference Words), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3D">=</a></code>, <code><a href="#entry3E">&gt;</a></code>, <code><a href="#entry3C">&lt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C62696E-src-lib-display-numbers-fs"><a id="entry3C62696E"></a>&lt;bin</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;bin ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a code zone where binary radix is the default, by
saving the current value of <code><a href="#entry62617365">base</a></code> to <code><a href="#entry6261736527">base'</a></code> and executing
<code><a href="#entry62696E617279">binary</a></code>. The zone is finished by <code><a href="#entry62696E3E">bin&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C686578">&lt;hex</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C686578-src-lib-display-numbers-fs"><a id="entry3C686578"></a>&lt;hex</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;hex ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a code zone where hexadecimal radix is the default,
by save the current value of <code><a href="#entry62617365">base</a></code> to <code><a href="#entry6261736527">base'</a></code> and
executing <code><a href="#entry686578">hex</a></code>. The zone is finished by <code><a href="#entry6865783E">hex&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: lina.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C62696E">&lt;bin</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C6D61726B-src-kernel-z80s"><a id="entry3C6D61726B"></a>&lt;mark</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;mark ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the address of the current data-space pointer, as the
the destination of a backward branch.  <em>a</em> is typically
only used by <code><a href="#entry3C7265736F6C7665">&lt;resolve</a></code> to compile a branch address.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (System Extension Word Set).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C7265736F6C7665-src-kernel-z80s"><a id="entry3C7265736F6C7665"></a>&lt;resolve</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;resolve ( dest -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Resolve a backward branch.  Compile a branch address using
<em>dest</em>, the address left by <code><a href="#entry3C6D61726B">&lt;mark</a></code>,  as the destination
address.  Used at the source of a backward branch after either
<code><a href="#entry6272616E6368">branch</a></code> or <code><a href="#entry3F6272616E6368">?branch</a></code> or <code><a href="#entry306272616E6368">0branch</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (System Extension Word Set).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3C737769746368-src-lib-flow-bracket-switch-fs"><a id="entry3C737769746368"></a>&lt;switch</h3>
<div class="listingblock">
<div class="content">
<pre>&lt;switch ( head xt n -- head )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a new clause to execute <em>xt</em> when the key <em>n</em>
is matched.</p>
</div>
<div class="paragraph">
<p>The switch clauses are 3-cell structures:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>link (to the previous clause of the switch)</p>
</li>
<li>
<p>key</p>
</li>
<li>
<p>xt</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3A737769746368">:switch</a></code>, <code><a href="#entry5B737769746368">[switch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3D-src-kernel-z80s"><a id="entry3D"></a>=</h3>
<div class="listingblock">
<div class="content">
<pre>= ( x1 x2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> only and only if <em>x1</em> is bit-for-bit the same as
<em>x1</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C3E">&lt;&gt;</a></code>, <code><a href="#entry3E">&gt;</a></code>, <code><a href="#entry3C">&lt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E-src-kernel-z80s"><a id="entry3E"></a>&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>&gt; ( n1 n2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n1</em> is greater than <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C">&lt;</a></code>, <code><a href="#entry753E">u&gt;</a></code>, <code><a href="#entry303E">0&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E3262737472696E67-src-lib-strings-MISC-fs"><a id="entry3E3262737472696E67"></a>&gt;2bstring</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;2bstring ( xd -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>xd</em> to a 2-cell binary string in <code><a href="#entry706164">pad</a></code>.
<em>ca len</em> contains <em>xd</em> "as is", as stored in memory.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E62737472696E67">&gt;bstring</a></code>, <code><a href="#entry633E62737472696E67">c&gt;bstring</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E3D-src-lib-math-operators-1-cell-fs"><a id="entry3E3D"></a>&gt;=</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;= ( n1 n2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>n1</em> is greater than or
equal to <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C3D">&lt;=</a></code>, <code><a href="#entry753E3D">u&gt;=</a></code>, <code><a href="#entry303E3D">0&gt;=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E616363657074-src-lib-keyboard-MISC-fs"><a id="entry3E616363657074"></a>&gt;accept</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;accept ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the offset of the cursor in the
string being edited by <code><a href="#entry616363657074">accept</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E616374696F6E-src-kernel-z80s"><a id="entry3E616374696F6E"></a>&gt;action</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;action ( xt -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> that holds the execution token
currently associated to the deferred word <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6465666572">defer</a></code>, <code><a href="#entry616374696F6E2D6F66">action-of</a></code>, <code><a href="#entry646566657221">defer!</a></code>, <code><a href="#entry646566657240">defer@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E616D61726B-src-lib-assembler-fs"><a id="entry3E616D61726B"></a>&gt;amark</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;amark ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the address of an assembler absolute forward
reference.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E617265736F6C7665-src-lib-assembler-fs"><a id="entry3E617265736F6C7665"></a>&gt;aresolve</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;aresolve ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Resolve an assembler absolute forward reference.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E616D61726B">&gt;amark</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E626F6479-src-lib-compilation-fs"><a id="entry3E626F6479"></a>&gt;body</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;body  ( xt -- dfa )</pre>
</div>
</div>
<div class="paragraph">
<p><em>dfa</em> is the data-field address corresponding to <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>If <em>xt</em> is for a word defined by <code><a href="#entry637265617465">create</a></code>, <em>dfa</em> is the
address that <code><a href="#entry68657265">here</a></code> would have returned had it been
executed immediately after the execution of the <code><a href="#entry637265617465">create</a></code>
that defined <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>If <em>xt</em> is for a word defined by <code><a href="#entry7661726961626C65">variable</a></code>, <code><a href="#entry327661726961626C65">2variable</a></code>,
<code><a href="#entry637661726961626C65">cvariable</a></code>, <code><a href="#entry636F6E7374616E74">constant</a></code>, <code><a href="#entry32636F6E7374616E74">2constant</a></code> and <code><a href="#entry63636F6E7374616E74">cconstant</a></code>, <em>dfa</em>
is the address that holds their value.</p>
</div>
<div class="paragraph">
<p>If <em>xt</em> is for a word defined by <code><a href="#entry3A">:</a></code>, <em>dfa</em> is the address
of its compiled definition.</p>
</div>
<div class="paragraph">
<p>If <em>xt</em> is for a word defined by <code><a href="#entry636F6465">code</a></code>, <em>dfa</em> makes no
sense.</p>
</div>
<div class="paragraph">
<p><em>dfa</em> is always in data space.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626F64793E">body&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E62737472696E67-src-lib-strings-MISC-fs"><a id="entry3E62737472696E67"></a>&gt;bstring</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;bstring ( x -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>x</em> to a 1-cell binary string <em>ca len</em> in <code><a href="#entry706164">pad</a></code>.
<em>ca len</em> contains <em>x</em> "as is", as stored in memory.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry633E62737472696E67">c&gt;bstring</a></code>, <code><a href="#entry323E62737472696E67">2&gt;bstring</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E636174-src-lib-dos-plus3dos-fs"><a id="entry3E636174"></a>&gt;cat</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;cat ( ca len -- ca1 ca2 x )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert filename <em>ca len</em> (wildcards permitted) to the
parameters needed by <code><a href="#entry28636174">(cat</a></code>:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<em>ca1</em> 
</td>
<td class="hdlist2">
<p>address of $FF-terminated filename (wildcards permitted)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>ca2</em> 
</td>
<td class="hdlist2">
<p>address of buffer</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>x</em> (low byte) 
</td>
<td class="hdlist2">
<p>bit 0 set if system files are included</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>x</em> (high byte) 
</td>
<td class="hdlist2">
<p>size of the buffer in entries, plus one (&gt;=2)</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry77636174">wcat</a></code>, <code><a href="#entry636174">cat</a></code>, <code><a href="#entry616C6C6F636174652D6361742D627566666572">allocate-cat-buffer</a></code>,
<code><a href="#entry6361742D656E7472696573">cat-entries</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E6469676974-src-kernel-z80s"><a id="entry3E6469676974"></a>&gt;digit</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;digit ( n -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a number to its character digit: 0..9A..Z.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: &gt;digit ( n -- c )
  dup 9 &gt; [ 'A' '0' - 1+ ] literal and + '0' + ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E64726976652D626C6F636B-src-kernel-z80s"><a id="entry3E64726976652D626C6F636B"></a>&gt;drive-block</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;drive-block ( u1 -- u2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert block <em>u1</em> to its equivalent <em>u2</em> in its corresponding
disk drive, which is set the current drive.</p>
</div>
<div class="paragraph">
<p><code>&gt;drive-block</code> is a deferred word whose default action is
<code><a href="#entry6E6F6F70">noop</a></code>.  Its action is set to <code><a href="#entry283E64726976652D626C6F636B">(&gt;drive-block</a></code> when
<code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code> is loaded.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E6573632D6F72646572-src-lib-strings-escaped-fs"><a id="entry3E6573632D6F72646572"></a>&gt;esc-order</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;esc-order ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Push <em>wid</em> on the escaped strings search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>, <code><a href="#entry6765742D6573632D6F72646572">get-esc-order</a></code>,
<code><a href="#entry6573632D7374616E646172642D63686172732D776F72646C697374">esc-standard-chars-wordlist</a></code>,
<code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code>,
<code>esc-udg-chars-ẁordlist</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E66616C7365-src-lib-data_stack-fs"><a id="entry3E66616C7365"></a>&gt;false</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;false ( x -- false )</pre>
</div>
</div>
<div class="paragraph">
<p>Replace <em>x</em> with <em>false</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E74727565">&gt;true</a></code>, <code><a href="#entry323E66616C7365">2&gt;false</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E66696C656E616D65-src-lib-dos-plus3dos-fs"><a id="entry3E66696C656E616D65"></a>&gt;filename</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;filename ( ca1 len1 -- ca2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the filename <em>ca1 len1</em> to a $FF-terminated string
at <em>ca2</em> in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F66696C656E616D65">/filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E696E-src-kernel-z80s"><a id="entry3E696E"></a>&gt;in</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;in ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A user variable that contains the offset in characters from
the start of the input buffer to the start of the parse area.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E6D61726B-src-kernel-z80s"><a id="entry3E6D61726B"></a>&gt;mark</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;mark ( -- orig )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile space in the dictionary for a branch address which
will later be resolved by <code><a href="#entry3E7265736F6C7665">&gt;resolve</a></code>.</p>
</div>
<div class="paragraph">
<p>Used at the source of a forward branch.  Typically used after
either <code><a href="#entry6272616E6368">branch</a></code>, <code><a href="#entry306272616E6368">0branch</a></code> or <code><a href="#entry3F6272616E6368">?branch</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (System Extension Word Set).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E6E616D65-src-kernel-z80s"><a id="entry3E6E616D65"></a>&gt;name</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;name ( xt -- nt | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Try to find the name token <em>nt</em> of the word represented by
execution token <em>xt</em>. Return 0 if it fails.</p>
</div>
<div class="paragraph">
<p><code>&gt;name</code> searches all definition headers, from the oldest one
to the newest one, for the first one whose <em>xtp</em> (execution
token pointer) contains <em>xt</em>.  This way, when a word has
additional headers created by <code><a href="#entry616C696173">alias</a></code> or <code><a href="#entry73796E6F6E796D">synonym</a></code>, its
original name is found first.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E6E756D626572-src-kernel-z80s"><a id="entry3E6E756D626572"></a>&gt;number</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;number ( ud1 ca1 len1 -- ud2 ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>ud2</em> is the unsigned result of converting the characters
within the string specified by <em>ca1 len1</em> into digits, using
the number in <code><a href="#entry62617365">base</a></code>, and adding each into <em>ud1</em> after
multiplying <em>ud1</em> by the number in <code><a href="#entry62617365">base</a></code>. Conversion
continues left-to-right until a character that is not
convertible, including any "+" or "-", is encountered or the
string is entirely converted. <em>ca2</em> is the location of the
first unconverted character or the first character past the
end of the string if the string was entirely converted. <em>len2</em>
is the number of unconverted characters in the string.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: &gt;number ( d1 ca1 len1 -- d2 ca2 len2 )
  begin  dup  while
    over c@ base @ digit? while
       &gt;r 2swap r&gt; swap base @ um* drop rot base @
       um* d+ 2swap 1 /string
  repeat then ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E756D6265723F">number?</a></code>, <code><a href="#entry6E756D626572">number</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E6F72646572-src-kernel-z80s"><a id="entry3E6F72646572"></a>&gt;order</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;order ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Push word list identifier <em>wid</em> on the search order.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: &gt;order ( wid -- ) also context ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70726576696F7573">previous</a></code>, <code><a href="#entry616C736F">also</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>,  <code><a href="#entry636F6E74657874">context</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E7072696E7461626C652D61736369692D63686172-src-lib-chars-fs"><a id="entry3E7072696E7461626C652D61736369692D63686172"></a>&gt;printable-ascii-char</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;printable-ascii-char ( c1 -- c1 | c2 )</pre>
</div>
</div>
<div class="paragraph">
<p>If character <em>c1</em> is a printable ASCII character, return
it, else return the character returned by
<code><a href="#entry64656661756C742D7072696E7461626C652D61736369692D63686172">default-printable-ascii-char</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7072696E7461626C652D61736369692D636861723F">printable-ascii-char?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/chars.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E72-src-kernel-z80s"><a id="entry3E72"></a>&gt;r</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;r ( x -- ) ( R: -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry723E">r&gt;</a></code>, <code><a href="#entry7240">r@</a></code>, 2&gt;r`,</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E7265736F6C7665-src-kernel-z80s"><a id="entry3E7265736F6C7665"></a>&gt;resolve</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;resolve ( orig -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Resolve a forward branch by placing the address of the current
data-space pointer into the space compiled by <code><a href="#entry3E6D61726B">&gt;mark</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (System Extension Word Set).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E737472696E676572-src-kernel-z80s"><a id="entry3E737472696E676572"></a>&gt;stringer</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;stringer ( ca1 len1 -- ca2 len1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy string <em>ca1 len1</em> to the <code><a href="#entry737472696E676572">stringer</a></code> and return it as <em>ca2
len1</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: &gt;stringer ( ca1 len1 -- ca2 len1 )
  dup allocate-stringer swap 2dup 2&gt;r move 2r&gt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C6C6F636174652D737472696E676572">allocate-stringer</a></code>, <code><a href="#entry6661723E737472696E676572">far&gt;stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E746170652D66696C65-src-lib-tape-fs"><a id="entry3E746170652D66696C65"></a>&gt;tape-file</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;tape-file ( ca1 len1 ca2 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Write a memory region <em>ca1 len1</em> into a tape file <em>ca2
len2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746170652D66696C653E">tape-file&gt;</a></code>, <code><a href="#entry283E746170652D66696C6529">(&gt;tape-file)</a></code>, <code><a href="#entry3E66696C65">&gt;file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E74727565-src-lib-data_stack-fs"><a id="entry3E74727565"></a>&gt;true</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;true ( x -- true )</pre>
</div>
</div>
<div class="paragraph">
<p>Replace <em>x</em> with <em>true</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E66616C7365">&gt;false</a></code>, <code><a href="#entry323E74727565">2&gt;true</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3E78-src-lib-data-xstack-fs"><a id="entry3E78"></a>&gt;x</h3>
<div class="listingblock">
<div class="content">
<pre>&gt;x ( x -- ) ( X: -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Move <em>x</em> from the data stack to the <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry783E">x&gt;</a></code>, <code><a href="#entry7840">x@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F-src-kernel-z80s"><a id="entry3F"></a>?</h3>
<div class="listingblock">
<div class="content">
<pre>? ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F28-src-kernel-z80s"><a id="entry3F28"></a>?(</h3>
<div class="listingblock">
<div class="content">
<pre>?( ( f "ccc&lt;space&gt;&lt;question&gt;&lt;paren&gt;&lt;space&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is not zero, parse and discard until <code><a href="#entry3F29">?)</a></code> is found or
until the end of the parse area is reached.
<code>?(</code> is used for conditional compilation, as a simpler but
more compact alternative to the standard <code><a href="#entry5B69665D">[if]</a></code>.</p>
</div>
<div class="paragraph">
<p><code>?(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?( ( f "ccc&lt;space&gt;&lt;question&gt;&lt;paren&gt;&lt;space&gt;" -- )
  0= ?exit begin  parse-name dup
           while  s" ?)" str= ?exit repeat 2drop ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F5C">?]&gt;&gt;`, `&lt;&lt;entry28, pass:c[(</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F29-src-kernel-z80s"><a id="entry3F29"></a>?)</h3>
<div class="listingblock">
<div class="content">
<pre>?) ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do nothing. <code><a href="#entry3F28">?(</a></code> parses until <code>?)</code> is found.</p>
</div>
<div class="paragraph">
<p><code>?)</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F2D2D3E-src-lib-blocks-fs"><a id="entry3F2D2D3E"></a>?--&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>?--&gt; ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is not false, continue interpretation on the next
sequential block.  parse area. <code>?-&#8594;</code> is used for
conditional compilation.</p>
</div>
<div class="paragraph">
<p><code>?-&#8594;</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D2D3E">--&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F3F-src-lib-flow-MISC-fs"><a id="entry3F3F"></a>??</h3>
<div class="listingblock">
<div class="content">
<pre>??
  ( Compilation: "name" -- )
  ( Runtime: f -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>??</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Compilation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em> and search the current search order for it.
If not found, throw exception #-13. If found and it&#8217;s an
<code><a href="#entry696D6D656469617465">immediate</a></code> word, execute it, else compile it.</p>
</div>
<div class="paragraph">
<p>Runtime:</p>
</div>
<div class="paragraph">
<p>If <em>f</em> is not zero, execute <em>name</em>, which was compiled.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F5C-src-kernel-z80s"><a id="entry3F5C"></a>pass:c[?\]</h3>
<div class="listingblock">
<div class="content">
<pre>?\ ( f "ccc&lt;eol&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is not zero, execute <code><a href="#entry5C">pass:c[\]</a></code>, else do nothing.</p>
</div>
<div class="paragraph">
<p><code>?\</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p><code>?\</code> is a conditional version of <code><a href="#entry5C">]&gt;&gt;`, used for conditional
compilation, as a simpler but more compact alternative to the
standard `&lt;&lt;entry5B69665D, pass:c[[if]</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?\ ( "ccc&lt;eol&gt;" -- ) if postpone \ then ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F28">?(</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F626C6F636B2D647269766523-src-lib-dos-COMMON-fs"><a id="entry3F626C6F636B2D647269766523"></a>?block-drive#</h3>
<div class="listingblock">
<div class="content">
<pre>?block-drive# ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>u</em> is <code><a href="#entry6E6F742D626C6F636B2D6472697665">not-block-drive</a></code>, throw exception #-35 ("invalid
block number").</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry283E64726976652D626C6F636B">(&gt;drive-block</a></code>, <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code>, <code><a href="#entry3F647269766523">?drive#</a></code>,
<code><a href="#entry3F647269766573">?drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6272616E6368-src-kernel-z80s"><a id="entry3F6272616E6368"></a>?branch</h3>
<div class="listingblock">
<div class="content">
<pre>?branch ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A run-time procedure to branch conditionally. If  <em>f</em> is not
false (not zero), the following in-line address is copied to
IP to branch forward or backward.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This is not Forth-83&#8217;s <code>?branch</code>, which is equivalent
to fig-Forth&#8217;s <code>0branch</code>, which is a more logical name to
represent the action: branch if zero. Solo Forth borrows
<code><a href="#entry306272616E6368">0branch</a></code> from fig-Forth, and completes the branches after a
logical naming convention shared with optional control flow
words, e.g. <code><a href="#entry3F65786974">?exit</a></code>, <code><a href="#entry3065786974">0exit</a></code>, <code><a href="#entry2D65786974">-exit</a></code>&#8230;&#8203;
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6272616E6368">branch</a></code>, <code><a href="#entry2D6272616E6368">-branch</a></code>, <code><a href="#entry2B6272616E6368">+branch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6363617365-src-lib-flow-ccase-fs"><a id="entry3F6363617365"></a>?ccase</h3>
<div class="listingblock">
<div class="content">
<pre>?ccase Compilation: ( C: -- orig ) Run-time: ( c ca len --)</pre>
</div>
</div>
<div class="paragraph">
<p>Start a <code>?ccase</code>..<code><a href="#entry656E643F6363617365">end?ccase</a></code> structure. If <em>c</em> is in the
string <em>ca len</em>, execute the n-th word compiled after
<code>?ccase</code>, where <em>n</em> is the position of the first <em>c</em> in
the string (0..len-1), then continue after <code><a href="#entry656E643F6363617365">end?ccase</a></code>.  If
<em>c</em> is not in <em>ca len</em>, just continue after <code><a href="#entry656E643F6363617365">end?ccase</a></code>.</p>
</div>
<div class="paragraph">
<p><code>?ccase</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: .a   ( -- ) ." Letter A" ;
: .b   ( -- ) ." Letter B" ;
: .c   ( -- ) ." Letter C" ;

: letter ( c -- )
  s" abc" ?ccase  .a .b .c  end?ccase  ."  The End" cr ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6363617365">ccase</a></code>, <code><a href="#entry636361736530">ccase0</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F636F6D70696C696E67-src-lib-exception-fs"><a id="entry3F636F6D70696C696E67"></a>?compiling</h3>
<div class="listingblock">
<div class="content">
<pre>?compiling ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Throw exception #-14 if not compiling.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F637370-src-kernel-z80s"><a id="entry3F637370"></a>?csp</h3>
<div class="listingblock">
<div class="content">
<pre>?csp ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Throw error #-264 (definition not finished) if the current data stack
position does not match the value saved by <code><a href="#entry21637370">!csp</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F646566696E6564-src-kernel-z80s"><a id="entry3F646566696E6564"></a>?defined</h3>
<div class="listingblock">
<div class="content">
<pre>?defined ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is false, throw exception code #-13 (not found).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F64696374696F6E617279-src-kernel-z80s"><a id="entry3F64696374696F6E617279"></a>?dictionary</h3>
<div class="listingblock">
<div class="content">
<pre>?dictionary ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Issue an error message if the dictionary is out of bounds.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F646E6567617465-src-kernel-z80s"><a id="entry3F646E6567617465"></a>?dnegate</h3>
<div class="listingblock">
<div class="content">
<pre>?dnegate ( d1 n -- d1|d2 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is negative, negate <em>d1</em>, giving its arithmetic inverse
<em>d2</em>.</p>
</div>
<div class="paragraph">
<p><code>?dnegate</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?dnegate ( d1 n -- d1|d2 ) 0&lt; if dnegate then ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>d+-</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F6E6567617465">?negate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F646F-src-kernel-z80s"><a id="entry3F646F"></a>?do</h3>
<div class="listingblock">
<div class="content">
<pre>?do
  Compilation: ( -- do-sys )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <code><a href="#entry283F646F29">(?do)</a></code> and leave <em>do-sys</em> to be consumed by <code><a href="#entry6C6F6F70">loop</a></code> or
<code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p><code>?do</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?do ( -- do-sys )
  postpone (?do) &gt;mark  ;  immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F">do</a></code>, <code><a href="#entry2D646F">-do</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F647269766523-src-lib-dos-COMMON-fs"><a id="entry3F647269766523"></a>?drive#</h3>
<div class="listingblock">
<div class="content">
<pre>?drive# ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>u</em> is greater than the maximum number of disk drives,
throw exception #-35 ("invalid block number").</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry283E64726976652D626C6F636B">(&gt;drive-block</a></code>, <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code>, <code><a href="#entry3F626C6F636B2D6472697665">?block-drive</a></code>,
<code><a href="#entry3F647269766573">?drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F647269766573-src-lib-dos-COMMON-fs"><a id="entry3F647269766573"></a>?drives</h3>
<div class="listingblock">
<div class="content">
<pre>?drives ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is greater than the maximum number of disk drives,
throw exception #-287 ("wrong number of drives").</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code>.  <code><a href="#entry3F626C6F636B2D6472697665">?block-drive</a></code>, <code><a href="#entry3F647269766523">?drive#</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F647570-src-kernel-z80s"><a id="entry3F647570"></a>?dup</h3>
<div class="listingblock">
<div class="content">
<pre>?dup ( x -- 0 | x x )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6573632D6F72646572-src-lib-strings-escaped-fs"><a id="entry3F6573632D6F72646572"></a>?esc-order</h3>
<div class="listingblock">
<div class="content">
<pre>?esc-order ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Check if <em>n</em> is a valid size for the escaped strings search
order, else throw an exception.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry236573632D6F72646572">#esc-order</a></code>, <code><a href="#entry6573632D636F6E74657874">esc-context</a></code>, <code><a href="#entry3E6573632D6F72646572">&gt;esc-order</a></code>,
<code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>, <code><a href="#entry6765742D6573632D6F72646572">get-esc-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F657865637574696E67-src-lib-exception-fs"><a id="entry3F657865637574696E67"></a>?executing</h3>
<div class="listingblock">
<div class="content">
<pre>?executing ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Throw exception #-263 if not executing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F65786974-src-kernel-z80s"><a id="entry3F65786974"></a>?exit</h3>
<div class="listingblock">
<div class="content">
<pre>?exit ( f -- ) ( R: nest-sys | -- nest-sys | )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is zero, do nothing. Otherwise return control to the
calling definition, specified by <em>nest-sys</em>.</p>
</div>
<div class="paragraph">
<p><code>?exit</code> is the conditional version of <code><a href="#entry65786974">exit</a></code>.</p>
</div>
<div class="paragraph">
<p><code>?exit</code> can not be used within a <code><a href="#entry6C6F6F70">loop</a></code>. Use <code>if unloop
exit then</code> instead.</p>
</div>
<div class="paragraph">
<p>In Solo Forth <code>?exit</code> can be used in interpretation mode to
stop the interpretation of a block.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3065786974">0exit</a></code>, <code><a href="#entry2D65786974">-exit</a></code>, <code><a href="#entry2B65786974">+exit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6672616D6573-src-lib-time-fs"><a id="entry3F6672616D6573"></a>?frames</h3>
<div class="listingblock">
<div class="content">
<pre>?frames ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Stop execution during at least <em>u</em> frames of the TV (there
are 50 frames per second in in Europe and 60 frames per
second in USA), or until a key is pressed.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry6672616D6573">frames</a></code>, <code><a href="#entry7061757365">pause</a></code>, <code><a href="#entry6F732D6672616D6573">os-frames</a></code>, <code><a href="#entry3F7365636F6E6473">?seconds</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F696E6465782D626C6F636B-src-lib-blocks-indexer-fly-fs"><a id="entry3F696E6465782D626C6F636B"></a>?index-block</h3>
<div class="listingblock">
<div class="content">
<pre>?index-block ( block -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Index block <em>block</em>, if not done before.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.fly.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6C65617665-src-lib-flow-MISC-fs"><a id="entry3F6C65617665"></a>?leave</h3>
<div class="listingblock">
<div class="content">
<pre>?leave ( f -- ) ( R: loop-sys -- | loop-sys )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is non-zero, discard the loop-control parameters for
the current nesting level and continue execution
immediately following the innermost syntactically enclosing
<code><a href="#entry6C6F6F70">loop</a></code> or <code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C65617665">leave</a></code>, <code><a href="#entry756E6C6F6F70">unloop</a></code>, <code><a href="#entry646F">do</a></code>, <code><a href="#entry3F646F">?do</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6C6F6164-src-lib-blocks-fs"><a id="entry3F6C6F6164"></a>?load</h3>
<div class="listingblock">
<div class="content">
<pre>?load ( u f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load block <em>u</em> if flag <em>f</em> is true, else do nothing.</p>
</div>
<div class="paragraph">
<p>Origin: Pygmy Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6164">load</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6C6F6164696E67-src-kernel-z80s"><a id="entry3F6C6F6164696E67"></a>?loading</h3>
<div class="listingblock">
<div class="content">
<pre>?loading ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6C6F6361746564-src-lib-002-need-fs"><a id="entry3F6C6F6361746564"></a>?located</h3>
<div class="listingblock">
<div class="content">
<pre>?located ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is zero, throw an exception #-268 ("needed, but
not located").</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6E616D652D746F6F2D73686F7274-src-kernel-z80s"><a id="entry3F6E616D652D746F6F2D73686F7274"></a>?name-too-short</h3>
<div class="listingblock">
<div class="content">
<pre>?name-too-short ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If name <em>ca len</em> is empty, throw exception #-16.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686561646572">header</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6E6567617465-src-kernel-z80s"><a id="entry3F6E6567617465"></a>?negate</h3>
<div class="listingblock">
<div class="content">
<pre>?negate ( n1 n2 -- n1|n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n2</em> is negative, negate <em>n1</em>, giving its arithmetic
inverse <em>n3</em>.</p>
</div>
<div class="paragraph">
<p><code>?negate</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?negate ( n1 n2 -- n1|n3 ) 0&lt; if negate then ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>+-</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6567617465">negate</a></code>, <code><a href="#entry3F646E6567617465">?dnegate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6E6578742D62616E6B-src-kernel-z80s"><a id="entry3F6E6578742D62616E6B"></a>?next-bank</h3>
<div class="listingblock">
<div class="content">
<pre>?next-bank ( a -- a|a' )</pre>
</div>
</div>
<div class="paragraph">
<p>If the actual far-memory address <em>a</em> ($C000..$FFFF) has
increased to the next bank ($0000..$3FFF), convert it to the
corresponding actual address <em>a'</em> ($C000..$FFFF) in the next
bank and page in the next bank. Otherwise return <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F6E6578742D62616E6B5F">?next-bank_</a></code>, <code><a href="#entry3F70726576696F75732D62616E6B">?previous-bank</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6E6578742D62616E6B5F-src-lib-memory-far-fs"><a id="entry3F6E6578742D62616E6B5F"></a>?next-bank_</h3>
<div class="listingblock">
<div class="content">
<pre>?next-bank_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the <code><a href="#entry7175657374696F6E5F6E6578745F62616E6B">question_next_bank</a></code> routine of the kernel,
which does the following:</p>
</div>
<div class="paragraph">
<p>If the actual far-memory address ($C000..$FFFF) in the HL
register has increased to the next bank ($0000..$3FFF),
convert it to the correspondent actual address
($C000..$FFFF) in the next bank and page in the next bank,
else do nothing.</p>
</div>
<div class="paragraph">
<p>This is the routine called by <code><a href="#entry3F6E6578742D62616E6B">?next-bank</a></code>.
<code><a href="#entry3F6E6578742D62616E6B5F">?next-bank_</a></code> is used in code words.</p>
</div>
<div class="paragraph">
<p>Input:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = address in a paged bank ($C000..$FFFF) or higher
($0000..$BFFF).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output when HL is above the paged bank:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = correspondent address in the next bank, which is paged in</p>
</li>
<li>
<p>A corrupted</p>
</li>
<li>
<p>D = 0</p>
</li>
<li>
<p>E = bank</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output when HL is an address in a paged bank:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL preserved</p>
</li>
<li>
<p>A corrupted</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F6F72646572-src-kernel-z80s"><a id="entry3F6F72646572"></a>?order</h3>
<div class="listingblock">
<div class="content">
<pre>?order ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is not a valid size for the search order, throw an
exception.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?order ( n -- )
  dup 0&lt; #-50 ?throw  max-order &lt; ?exit  #-49 throw ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry236F72646572">#order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>, <code><a href="#entry6F72646572">order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F7061697273-src-lib-compilation-fs"><a id="entry3F7061697273"></a>?pairs</h3>
<div class="listingblock">
<div class="content">
<pre>?pairs ( x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>x1</em> not equals <em>x2</em> throw error #-22 (control structure
mismatch).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F70726576696F75732D62616E6B-src-kernel-z80s"><a id="entry3F70726576696F75732D62616E6B"></a>?previous-bank</h3>
<div class="listingblock">
<div class="content">
<pre>?previous-bank ( a -- a|a' )</pre>
</div>
</div>
<div class="paragraph">
<p>If the actual far-memory address <em>a</em> ($C000..$FFFF) has
decreased to the previous bank ($8000..$BFFF), convert it to
the corresponding actual address <em>a'</em> ($C000..$FFFF) in the
previous bank and page in the next bank. Otherwise return
<em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F70726576696F75732D62616E6B5F">?previous-bank_</a></code>, <code><a href="#entry3F6E6578742D62616E6B">?next-bank</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F70726576696F75732D62616E6B5F-src-lib-memory-far-fs"><a id="entry3F70726576696F75732D62616E6B5F"></a>?previous-bank_</h3>
<div class="listingblock">
<div class="content">
<pre>?previous-bank_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the <code><a href="#entry7175657374696F6E5F70726576696F75735F62616E6B">question_previous_bank</a></code> routine of the
kernel, which does the followig:</p>
</div>
<div class="paragraph">
<p>If the actual far-memory address ($C000..$FFFF) in the HL
register has decreased to the previous bank ($8000..$BFFF),
convert it to the correspondent actual address
($C000..$FFFF) in the previous bank and page in the next
bank, else do nothing.</p>
</div>
<div class="paragraph">
<p>This is the routine called by <code><a href="#entry3F70726576696F75732D62616E6B">?previous-bank</a></code>.
<code><a href="#entry3F70726576696F75732D62616E6B5F">?previous-bank_</a></code> is used in code words.</p>
</div>
<div class="paragraph">
<p>Input:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = address in a paged bank ($C000..$FFFF) or lower
($8000..$BFFF).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output when HL is below the paged bank:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = correspondent address in the previous bank, which is paged in</p>
</li>
<li>
<p>A corrupted</p>
</li>
<li>
<p>D = 0</p>
</li>
<li>
<p>E = bank</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output when HL is an address in a paged bank:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL preserved</p>
</li>
<li>
<p>A corrupted</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F72656C-src-lib-assembler-fs"><a id="entry3F72656C"></a>?rel</h3>
<div class="listingblock">
<div class="content">
<pre>?rel ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If assembler relative branch <em>n</em> is too long, throw
exception #-269 (relative jump too long).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F726570656174-src-lib-flow-MISC-fs"><a id="entry3F726570656174"></a>?repeat</h3>
<div class="listingblock">
<div class="content">
<pre>?repeat ( Compilation: dest -- dest )
         ( Execution:   f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>An alternative exit point for <code>begin until</code> loops.</p>
</div>
<div class="paragraph">
<p><code>?repeat</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: xx ( -- )
    begin
      ...
    flag ?repeat  \ Go back to `&lt;&lt;entry626567696E, pass:c[begin]&gt;&gt;` if flag is false
      ...
    flag ?repeat  \ Go back to `&lt;&lt;entry626567696E, pass:c[begin]&gt;&gt;` if flag is false
      ...
    flag until    \ Go back to `&lt;&lt;entry626567696E, pass:c[begin]&gt;&gt;` if flag is false
    ...
;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F7265747279-src-lib-flow-MISC-fs"><a id="entry3F7265747279"></a>?retry</h3>
<div class="listingblock">
<div class="content">
<pre>?retry ( Compilation: -- ) ( Run-time: f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do a conditional branch to the start of the word.</p>
</div>
<div class="paragraph">
<p><code>?retry</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7265747279">retry</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F72737461636B-src-kernel-z80s"><a id="entry3F72737461636B"></a>?rstack</h3>
<div class="listingblock">
<div class="content">
<pre>?rstack ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Issue an error message if the return stack is out of bounds.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>?stack</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F737461636B">?stack</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F7365636F6E6473-src-lib-time-fs"><a id="entry3F7365636F6E6473"></a>?seconds</h3>
<div class="listingblock">
<div class="content">
<pre>?seconds ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wait at least <em>u</em> seconds or until a key is pressed.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365636F6E6473">seconds</a></code>, <code><a href="#entry6D73">ms</a></code>, <code><a href="#entry3F6672616D6573">?frames</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F7365742D746170652D66696C656E616D65-src-lib-tape-fs"><a id="entry3F7365742D746170652D66696C656E616D65"></a>?set-tape-filename</h3>
<div class="listingblock">
<div class="content">
<pre>?set-tape-filename ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If filename <em>ca len</em> is not empty, store it into the tape
header by executing <code><a href="#entry7365742D746170652D66696C656E616D65">set-tape-filename</a></code>; else use a
wildcard instead, by executing <code><a href="#entry616E792D746170652D66696C656E616D65">any-tape-filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F7368696674-src-lib-math-operators-1-cell-fs"><a id="entry3F7368696674"></a>?shift</h3>
<div class="listingblock">
<div class="content">
<pre>?shift ( x1 n -- x1 | x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is zero, drop it and return <em>x1</em>.  If <em>n</em> is
negative, convert it to its absolute value and execute
<code><a href="#entry727368696674">rshift</a></code>, returning <em>x2</em>.  If <em>n</em> is positive execute
<code><a href="#entry6C7368696674">lshift</a></code>, returning <em>x2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F737461636B-src-kernel-z80s"><a id="entry3F737461636B"></a>?stack</h3>
<div class="listingblock">
<div class="content">
<pre>?stack ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Issue an error message if the data stack is out of bounds.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F72737461636B">?rstack</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F737472696E676572-src-kernel-z80s"><a id="entry3F737472696E676572"></a>?stringer</h3>
<div class="listingblock">
<div class="content">
<pre>?stringer ( len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make sure there&#8217;s room in the <code><a href="#entry737472696E676572">stringer</a></code> for <em>len</em> characters.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?stringer ( len -- )
  dup unused-stringer &gt; if empty-stringer then
      negate +stringer +! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E757365642D737472696E676572">unused-stringer</a></code>, <code><a href="#entry656D7074792D737472696E676572">empty-stringer</a></code>, <code><a href="#entry2B737472696E676572">+stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F7468726F77-src-kernel-z80s"><a id="entry3F7468726F77"></a>?throw</h3>
<div class="listingblock">
<div class="content">
<pre>?throw ( f n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is non-zero, <code><a href="#entry7468726F77">throw</a></code> exception <em>n</em></p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ?throw ( f n -- ) swap if throw else drop then ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F75736572-src-lib-data-user-fs"><a id="entry3F75736572"></a>?user</h3>
<div class="listingblock">
<div class="content">
<pre>?user ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Throw an exception if the user area pointer is out of
bounds.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75637265617465">ucreate</a></code>, <code><a href="#entry75616C6C6F74">uallot</a></code>, <code><a href="#entry75736572">user</a></code>, <code><a href="#entry3275736572">2user</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.user.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry3F7761726E-src-lib-compilation-fs"><a id="entry3F7761726E"></a>?warn</h3>
<div class="listingblock">
<div class="content">
<pre>?warn ( ca len -- ca len | ca len xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Check if a warning about the redefinition of the word name
<em>ca len</em> is needed.  If no warning is needed, unnest the
calling definition and return <em>ca len</em>. If a warning is
needed, return <em>ca len</em> and the <em>xt</em> of the word found in
the current compilation wordlist.</p>
</div>
<div class="paragraph">
<p><code>?warn</code> is factor of <code><a href="#entry7761726E2E7468726F77">warn.throw</a></code>, <code><a href="#entry7761726E2E6D657373616765">warn.message</a></code> and
<code><a href="#entry7761726E2D7468726F77">warn-throw</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6F2D7761726E696E67733F">no-warnings?</a></code>, <code><a href="#entry6E6F742D7265646566696E65643F">not-redefined?</a></code>, <code><a href="#entry7761726E2E6D657373616765">warn.message</a></code>,
<code><a href="#entry7761726E2E7468726F77">warn.throw</a></code>, <code><a href="#entry7761726E2D7468726F77">warn-throw</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry40-src-kernel-z80s"><a id="entry40"></a>@</h3>
<div class="listingblock">
<div class="content">
<pre>@ ( a -- x )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x</em> is the value stored at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry21">!</a></code>, <code><a href="#entry3240">2@</a></code>, <code><a href="#entry6340">c@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry402B-src-lib-memory-MISC-fs"><a id="entry402B"></a>@+</h3>
<div class="listingblock">
<div class="content">
<pre>@+ ( a -- a' x )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>x</em> from <em>a</em>. Return <em>a'</em>, which is <em>a</em>
incremented by one cell.
This is handy for stepping through cell arrays.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry40">@</a></code>, <code><a href="#entry32402B">2@+</a></code>, <code><a href="#entry63402B">c@+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry4061-src-lib-memory-address_register-fs"><a id="entry4061"></a>@a</h3>
<div class="listingblock">
<div class="content">
<pre>@a ( -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>x</em> at the address register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry2161">!a</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry40612B-src-lib-memory-address_register-fs"><a id="entry40612B"></a>@a+</h3>
<div class="listingblock">
<div class="content">
<pre>@a+ ( -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch cell at the address register and increment the
address register by one cell.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry21612B">!a+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry4062616E6B-src-lib-memory-far-fs"><a id="entry4062616E6B"></a>@bank</h3>
<div class="listingblock">
<div class="content">
<pre>@bank ( a n -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>x</em> from address <em>a</em> ($C000..$FFFF) of bank <em>n</em>
(0..7).</p>
</div>
<div class="paragraph">
<p><code>@bank</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: @bank ( a n -- x ) bank @ default-bank ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry40626974-src-lib-data-array-bit-fs"><a id="entry40626974"></a>@bit</h3>
<div class="listingblock">
<div class="content">
<pre>@bit ( b ca -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>f</em> from an element of a bit-array, represented by
address <em>ca</em> and bitmask <em>b</em>.</p>
</div>
<div class="paragraph">
<p><code>@bit</code> is an alias of <code><a href="#entry6340616E643F">c@and?</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry21626974">!bit</a></code>, <code><a href="#entry6269742D6172726179">bit-array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.bit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry4070-src-lib-memory-ports-fs"><a id="entry4070"></a>@p</h3>
<div class="listingblock">
<div class="content">
<pre>@p ( a -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Input byte <em>b</em> from port <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2170">!p</a></code>, <code><a href="#entry40">@</a></code>, <code><a href="#entry6340">c@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.ports.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry40736F756E64-src-lib-sound-128-fs"><a id="entry40736F756E64"></a>@sound</h3>
<div class="listingblock">
<div class="content">
<pre>@sound ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the contents <em>b2</em> of sound register <em>b1</em> (0&#8230;&#8203;13).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry21736F756E64">!sound</a></code>, <code><a href="#entry736F756E64">sound</a></code>, <code><a href="#entry706C6179">play</a></code>, <code><a href="#entry736F756E642D72656769737465722D706F7274">sound-register-port</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry40766F6C756D65-src-lib-sound-128-fs"><a id="entry40766F6C756D65"></a>@volume</h3>
<div class="listingblock">
<div class="content">
<pre>@volume ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>b2</em> from the volume register of channel <em>b1</em> (0..2,
equivalent to notation 'A'..'C').</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Registers 8..10 (Channels A..C Volume)</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bits 0-4
</td>
<td class="hdlist2">
<p>Channel volume level.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 5   
</td>
<td class="hdlist2">
<p>1=Use envelope defined by register 13 and ignore the volume setting.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bits 6-7
</td>
<td class="hdlist2">
<p>Not used.</p>
</td>
</tr>
</table>
</div>
</blockquote>
<div class="attribution">
&#8212; Disassembly of the ZX Spectrum 128k ROM0
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry21766F6C756D65">!volume</a></code>, <code><a href="#entry40736F756E64">@sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry40776F72646C69737473-src-lib-tool-marker-fs"><a id="entry40776F72646C69737473"></a>@wordlists</h3>
<div class="listingblock">
<div class="content">
<pre>@wordlists ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the latest definition of every word list from <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.marker.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry496E697469616C697A65-src-lib-multitask-muench-koh-fs"><a id="entry496E697469616C697A65"></a>Initialize</h3>
<div class="listingblock">
<div class="content">
<pre>Initialize and link new task into `pause` chain.</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry536C656570-src-lib-multitask-muench-koh-fs"><a id="entry536C656570"></a>Sleep</h3>
<div class="listingblock">
<div class="content">
<pre>Sleep another task.</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B-src-kernel-z80s"><a id="entry5B"></a>[</h3>
<div class="listingblock">
<div class="content">
<pre>[ ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>[</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B27275D-src-lib-compilation-fs"><a id="entry5B27275D"></a>['']</h3>
<div class="listingblock">
<div class="content">
<pre>[''] ( Compilation: "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>name</em> is found in the current search order, compile its
execution-token pointer as a literal, else throw an
exception.</p>
</div>
<div class="paragraph">
<p><code>['']</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C69746572616C">literal</a></code>, <code><a href="#entry2727">''</a></code>, <code><a href="#entry5B275D">[']</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B275D-src-kernel-z80s"><a id="entry5B275D"></a>[']</h3>
<div class="listingblock">
<div class="content">
<pre>['] ( Compilation: "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: If <em>name</em> is found in the current search order,
compile its execution token as a literal, else throw an
exception.</p>
</div>
<div class="paragraph">
<p><code>[']</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ['] ( Compilation: "name" -- )
  ' postpone literal  ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C69746572616C">literal</a></code>, <code><a href="#entry27">'</a></code>, <code><a href="#entry5B27275D">['']</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B2B737769746368-src-lib-flow-bracket-switch-fs"><a id="entry5B2B737769746368"></a>[+switch</h3>
<div class="listingblock">
<div class="content">
<pre>[+switch ( "name" -- head )</pre>
</div>
</div>
<div class="paragraph">
<p>Open the switch structure <em>name</em> to include additional
clauses.  The default behavior remains unchanged. The
additions, like the original clauses, are terminated by
<code><a href="#entry7377697463685D">switch]</a></code>.  Leave the <em>head</em> of the given switch <em>name</em>,
for clauses to append to.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B737769746368">[switch</a></code>, <code><a href="#entry72756E73">runs</a></code>, <code><a href="#entry72756E">run</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B31636F6E73745D-src-lib-compilation-fs"><a id="entry5B31636F6E73745D"></a>[1const]</h3>
<div class="listingblock">
<div class="content">
<pre>[1const] ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate <em>name</em>. Then compile the single-cell value left on
the stack, using <code><a href="#entry316C69746572616C">1literal</a></code>.</p>
</div>
<div class="paragraph">
<p><code>[1const]</code> is intented to compile constants as literals,
when it&#8217;s uncertain if the literal is a character or a
cell, in order to gain execution speed. <em>name</em> can be any
word, as long as its execution returns a single-cell value
on the stack.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>48 constant zx
: test ( -- ) [1const] zx . ;</pre>
</div>
</div>
<div class="paragraph">
<p><code>[1const]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B32636F6E73745D">[2const]</a></code>, <code><a href="#entry5B636F6E73745D">[const]</a></code>, <code><a href="#entry5B63636F6E73745D">[cconst]</a></code>, <code><a href="#entry6576616C">eval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B32636F6E73745D-src-lib-compilation-fs"><a id="entry5B32636F6E73745D"></a>[2const]</h3>
<div class="listingblock">
<div class="content">
<pre>[2const] ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate <em>name</em>. Then compile the double-cell value left on
the stack.</p>
</div>
<div class="paragraph">
<p><code>[2const]</code> is intented to compile double-cell constants
as literals, in order to gain execution speed.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>48. 2constant zx
: test ( -- ) [2const] zx d. ;</pre>
</div>
</div>
<div class="paragraph">
<p><code>[2const]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry32636F6E7374">2const</a></code>, <code><a href="#entry5B636F6E73745D">[const]</a></code>, <code><a href="#entry5B31636F6E73745D">[1const]</a></code>, <code><a href="#entry5B63636F6E73745D">[cconst]</a></code>, <code><a href="#entry6576616C">eval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B3A-src-lib-flow-bracket-colon-fs"><a id="entry5B3A"></a>[:</h3>
<div class="listingblock">
<div class="content">
<pre>[:
  Compilation: ( -- orig xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a quotation.</p>
</div>
<div class="paragraph">
<p>Suspend compiling to the current definition, start a new
nested definition and compilation continues with this
nested definition. Return <em>orig</em> and the execution token
<em>xt</em> of of the host definition, both to be consumed by
<code><a href="#entry3B5D">;]</a></code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Locals are not supported yet.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>[:</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B63636F6E73745D-src-lib-compilation-fs"><a id="entry5B63636F6E73745D"></a>[cconst]</h3>
<div class="listingblock">
<div class="content">
<pre>[cconst] ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate <em>name</em>. Then compile the char left on the stack.</p>
</div>
<div class="paragraph">
<p><code>[cconst]</code> is intented to compile char constants as
literals, in order to gain execution speed.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>48 cconstant zx
: test ( -- ) [cconst] zx emit ;</pre>
</div>
</div>
<div class="paragraph">
<p><code>[cconst]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63636F6E7374">cconst</a></code>, <code><a href="#entry5B32636F6E73745D">[2const]</a></code>, <code><a href="#entry5B636F6E73745D">[const]</a></code>, <code><a href="#entry5B31636F6E73745D">[1const]</a></code>, <code><a href="#entry6576616C">eval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B636861725D-src-lib-parsing-fs"><a id="entry5B636861725D"></a>[char]</h3>
<div class="listingblock">
<div class="content">
<pre>[char]</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: ( "name"&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>Parse "name" and append the run-time semantics given below
to the current definition.</p>
</div>
<div class="paragraph">
<p>Run-time: (&#8201;&#8212;&#8201;c )</p>
</div>
<div class="paragraph">
<p>Place <em>c</em>, the value of the first character of <em>name</em>, on
the stack.</p>
</div>
<div class="paragraph">
<p><code>[char]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Solo Forth recognizes the standard notation for
characters, so <code>[char]</code> is not needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: test ( -- ) 'x' emit ."  equals " [char] x emit ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63686172">char</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B636F6D70275D-src-lib-compilation-fs"><a id="entry5B636F6D70275D"></a>[comp']</h3>
<div class="listingblock">
<div class="content">
<pre>[comp'] ( Compilation: "name" -- ) ( Run-time: -- x xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation token <em>x xt</em> represents the compilation
semantics of <em>name</em>.</p>
</div>
<div class="paragraph">
<p><code>[comp']</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B636F6D70696C655D-src-lib-compilation-fs"><a id="entry5B636F6D70696C655D"></a>[compile]</h3>
<div class="listingblock">
<div class="content">
<pre>[compile] ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>. Find <em>name</em>. If <em>name</em> has other than default
compilation semantics, append them to the current
definition; otherwise append the execution semantics of of
<em>name</em>.</p>
</div>
<div class="paragraph">
<p>In other words: Force compilation of <em>name</em>. This allows
compilation of an <code><a href="#entry696D6D656469617465">immediate</a></code> word when it would otherwise
have been executed.</p>
</div>
<div class="paragraph">
<p><code>[compile]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p><code>[compile]</code> has been be superseded by <code><a href="#entry706F7374706F6E65">postpone</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE EXT), Forth-2012 (CORE
EXT, obsolescent).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6D70696C65">compile</a></code>, <code><a href="#entry636F6D70696C652C">compile,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B636F6E73745D-src-lib-compilation-fs"><a id="entry5B636F6E73745D"></a>[const]</h3>
<div class="listingblock">
<div class="content">
<pre>[const] ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Evaluate <em>name</em>. Then compile the single-cell value left on
the stack.</p>
</div>
<div class="paragraph">
<p><code>[const]</code> is intented to compile constants as literals,
in order to gain execution speed. <em>name</em> can be any word,
as long as its execution returns a single-cell value on the
stack.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>48 constant zx
: test ( -- ) [const] zx . ;</pre>
</div>
</div>
<div class="paragraph">
<p><code>[const]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6E7374">const</a></code>, <code><a href="#entry5B32636F6E73745D">[2const]</a></code>, <code><a href="#entry5B31636F6E73745D">[1const]</a></code>, <code><a href="#entry5B63636F6E73745D">[cconst]</a></code>, <code><a href="#entry6576616C">eval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B646566696E65645D-src-kernel-z80s"><a id="entry5B646566696E65645D"></a>[defined]</h3>
<div class="listingblock">
<div class="content">
<pre>[defined] ( "name" -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>. Return a true flag if <em>name</em> is the name of a
word that can be found in the current search order; else
return a false flag.</p>
</div>
<div class="paragraph">
<p><code>[defined]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: [defined] ( "name" -- f ) defined 0&lt;&gt; ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646566696E6564">defined</a></code>, <code><a href="#entry5B756E646566696E65645D">[undefined]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B656C73655D-src-lib-compilation-fs"><a id="entry5B656C73655D"></a>[else]</h3>
<div class="listingblock">
<div class="content">
<pre>[else] ( "ccc" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse and discard space-delimited words from the parse
area, including nested occurrences of <code>[if] &#8230;&#8203; [then]</code>,
and <code>[if] &#8230;&#8203; [else] &#8230;&#8203; [then]</code>, until either the word
<code>[else]</code> or the  word <code><a href="#entry5B7468656E5D">[then]</a></code> has  been parsed and
discarded. If the  parse area  becomes exhausted, it is
refilled as with <code><a href="#entry726566696C6C">refill</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (TOOLS EXT), Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B69665D">[if]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B66616C73655D-src-lib-compilation-fs"><a id="entry5B66616C73655D"></a>[false]</h3>
<div class="listingblock">
<div class="content">
<pre>[false]  ( -- false )</pre>
</div>
</div>
<div class="paragraph">
<p><code>[false]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B747275655D">[true]</a></code>, <code><a href="#entry66616C7365">false</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B69665D-src-lib-compilation-fs"><a id="entry5B69665D"></a>[if]</h3>
<div class="listingblock">
<div class="content">
<pre>[if] ( f "ccc" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>flag</em> is true, do nothing. Otherwise, parse and discard
space-delimited words from the parse area, including nested
occurrences of <code>[if] &#8230;&#8203; [then]</code>, and <code>[if] &#8230;&#8203; [else]
&#8230;&#8203; [then]</code>, until either the word <code><a href="#entry5B656C73655D">[else]</a></code> or the  word
<code><a href="#entry5B7468656E5D">[then]</a></code> has  been parsed and  discarded. If the  parse
area  becomes exhausted, it is refilled as with <code><a href="#entry726566696C6C">refill</a></code>.</p>
</div>
<div class="paragraph">
<p><code>[if]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (TOOLS EXT), Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F5C">?]&gt;&gt;`, `&lt;&lt;entry3F28, pass:c[?(</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B6E65656465645D-src-lib-002-need-fs"><a id="entry5B6E65656465645D"></a>[needed]</h3>
<div class="listingblock">
<div class="content">
<pre>[needed] ( "name" -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  If there&#8217;s no unresolved <code><a href="#entry6E656564">need</a></code>, <code><a href="#entry6E6565646564">needed</a></code>,
<code><a href="#entry72656E656564">reneed</a></code> or <code><a href="#entry72656E6565646564">reneeded</a></code>, return <em>true</em>.  Otherwise, if <em>name</em>
is the needed word specified by the last execution of
<code><a href="#entry6E656564">need</a></code> or <code><a href="#entry6E6565646564">needed</a></code>, return <em>true</em>, else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p><code>[needed]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B737769746368-src-lib-flow-bracket-switch-fs"><a id="entry5B737769746368"></a>[switch</h3>
<div class="listingblock">
<div class="content">
<pre>[switch ( "name1" "name2" -- head )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the definition of a switch structure <em>name1</em>
consisting of a linked list of single-precision numbers and
associated behaviors, with its default action <em>name2</em>.
The <em>head</em> of the switch is left on the stack for defining
clauses.  The switch definition will be terminated by
<code><a href="#entry7377697463685D">switch]</a></code>, and can be extended by <code><a href="#entry5B2B737769746368">[+switch</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72756E73">runs</a></code>, <code><a href="#entry72756E3A">run:</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B7468656E5D-src-lib-compilation-fs"><a id="entry5B7468656E5D"></a>[then]</h3>
<div class="listingblock">
<div class="content">
<pre>[then] ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do nothing. <code>[then]</code> is parsed and recognized by <code><a href="#entry5B69665D">[if]</a></code>.</p>
</div>
<div class="paragraph">
<p><code>[then]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (TOOLS EXT), Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B747275655D-src-lib-compilation-fs"><a id="entry5B747275655D"></a>[true]</h3>
<div class="listingblock">
<div class="content">
<pre>[true]  ( -- true )</pre>
</div>
</div>
<div class="paragraph">
<p><code>[true]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B66616C73655D">[false]</a></code>, <code><a href="#entry74727565">true</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B756E646566696E65645D-src-kernel-z80s"><a id="entry5B756E646566696E65645D"></a>[undefined]</h3>
<div class="listingblock">
<div class="content">
<pre>[undefined] ( "name" -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>. Return a false flag if <em>name</em> is the name of a
word that can be found in the current search order; else
return a true flag.</p>
</div>
<div class="paragraph">
<p><code>[undefined]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: [undefined] ( "name" -- f )
  postpone [defined] 0=  ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B646566696E65645D">[defined]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5B756E6E65656465645D-src-lib-002-need-fs"><a id="entry5B756E6E65656465645D"></a>[unneeded]</h3>
<div class="listingblock">
<div class="content">
<pre>[unneeded] ( "name" -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  If there&#8217;s no unresolved <code><a href="#entry6E656564">need</a></code>, <code><a href="#entry6E6565646564">needed</a></code>,
<code><a href="#entry72656E656564">reneed</a></code> or <code><a href="#entry72656E6565646564">reneeded</a></code>, return <em>false</em>.  Otherwise, if <em>name</em>
is the needed word specified by the last execution of
<code><a href="#entry6E656564">need</a></code> or <code><a href="#entry6E6565646564">needed</a></code>, return <em>false</em>, else return <em>true</em>.</p>
</div>
<div class="paragraph">
<p><code>[unneeded]</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5C-src-kernel-z80s"><a id="entry5C"></a>pass:c[\]</h3>
<div class="listingblock">
<div class="content">
<pre>\ ( "ccc&lt;eol&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <code><a href="#entry626C6B">blk</a></code> contains zero, parse and discard the remainder of the
parse area; otherwise parse and discard the portion of the
parse area corresponding to the remainder of the current line.</p>
</div>
<div class="paragraph">
<p><code>\</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (BLOCK EXT), Forth-2012 (BLOCK EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5D-src-kernel-z80s"><a id="entry5D"></a>]</h3>
<div class="listingblock">
<div class="content">
<pre>] ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5D316C-src-lib-compilation-fs"><a id="entry5D316C"></a>]1l</h3>
<div class="listingblock">
<div class="content">
<pre>]1l ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A short form of the idiom <code>] 1literal</code>.</p>
</div>
<div class="paragraph">
<p><code>]1l</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5D">]</a></code>, <code><a href="#entry316C69746572616C">1literal</a></code>, <code><a href="#entry5D326C">]2l</a></code>, <code><a href="#entry5D6C">]l</a></code>, <code><a href="#entry5D636C">]cl</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5D326C-src-lib-compilation-fs"><a id="entry5D326C"></a>]2l</h3>
<div class="listingblock">
<div class="content">
<pre>]2l ( xd -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A short form of the idiom <code>] 2literal</code>.</p>
</div>
<div class="paragraph">
<p><code>]2l</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5D">]</a></code>, <code><a href="#entry326C69746572616C">2literal</a></code>, <code><a href="#entry5D6C">]l</a></code>, <code><a href="#entry5D316C">]1l</a></code>, <code><a href="#entry5D636C">]cl</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5D636C-src-lib-compilation-fs"><a id="entry5D636C"></a>]cl</h3>
<div class="listingblock">
<div class="content">
<pre>]cl ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A short form of the idiom <code>] cliteral</code>.</p>
</div>
<div class="paragraph">
<p><code>]cl</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5D">]</a></code>, <code><a href="#entry636C69746572616C">cliteral</a></code>, <code><a href="#entry5D326C">]2l</a></code>, <code><a href="#entry5D6C">]l</a></code>, <code><a href="#entry5D316C">]1l</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5D6C-src-lib-compilation-fs"><a id="entry5D6C"></a>]l</h3>
<div class="listingblock">
<div class="content">
<pre>]l ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A short form of the idiom <code>] literal</code>.</p>
</div>
<div class="paragraph">
<p><code>]l</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5D">]</a></code>, <code><a href="#entry6C69746572616C">literal</a></code>, <code><a href="#entry5D326C">]2l</a></code>, <code><a href="#entry5D316C">]1l</a></code>, <code><a href="#entry5D636C">]cl</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry5D6F7074696F6E73-src-lib-flow-options-bracket-fs"><a id="entry5D6F7074696F6E73"></a>]options</h3>
<div class="listingblock">
<div class="content">
<pre>]options ( a1 a2 a3 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End a <code>options[ ]options</code> structure. Resolve the addresses
left by <code><a href="#entry6F7074696F6E735B">options[</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a1 = address of exit point</p>
</li>
<li>
<p>a2 = address of default option xt</p>
</li>
<li>
<p>a3 = address of number of options</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <code><a href="#entry6F7074696F6E735B">options[</a></code> for a usage example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.options-bracket.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61-src-lib-memory-address_register-fs"><a id="entry61"></a>a</h3>
<div class="listingblock">
<div class="content">
<pre>a ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the address register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6121">a!</a></code>, <code><a href="#entry6140">a@</a></code>, <code><a href="#entry2161">!a</a></code>, <code><a href="#entry4061">@a</a></code>, <code><a href="#entry632161">c!a</a></code>, <code><a href="#entry634061">c@a</a></code>, <code><a href="#entry21612B">!a+</a></code>,
<code><a href="#entry40612B">@a+</a></code>, <code><a href="#entry6321612B">c!a+</a></code>, <code><a href="#entry6340612B">c@a+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6121-src-lib-memory-address_register-fs"><a id="entry6121"></a>a!</h3>
<div class="listingblock">
<div class="content">
<pre>a! ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the address register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry6140">a@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6140-src-lib-memory-address_register-fs"><a id="entry6140"></a>a@</h3>
<div class="listingblock">
<div class="content">
<pre>a@ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the address register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry6121">a!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6162617365-src-kernel-z80s"><a id="entry6162617365"></a>abase</h3>
<div class="listingblock">
<div class="content">
<pre>abase ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable used by <code><a href="#entry61736D">asm</a></code> to save the current value of <code><a href="#entry62617365">base</a></code>
in assembler definitions.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61626F7274-src-kernel-z80s"><a id="entry61626F7274"></a>abort</h3>
<div class="listingblock">
<div class="content">
<pre>abort ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61626F72742D6D657373616765-src-kernel-z80s"><a id="entry61626F72742D6D657373616765"></a>abort-message</h3>
<div class="listingblock">
<div class="content">
<pre>abort-message ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61626F727465643F-src-lib-keyboard-MISC-fs"><a id="entry61626F727465643F"></a>aborted?</h3>
<div class="listingblock">
<div class="content">
<pre>aborted? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>If no key is pressed return <em>false</em>.  If a key is pressed,
discard it and wait for a second key. Then return <em>true</em> if
it&#8217;s <em>c</em>, else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p><code>aborted?</code> is a useful factor of <code><a href="#entry6E75663F">nuf?</a></code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: listing ( -- )
  begin  ." bla "  bl aborted?  until  ." Aborted" ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616273-src-kernel-z80s"><a id="entry616273"></a>abs</h3>
<div class="listingblock">
<div class="content">
<pre>abs ( n -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the absolute value <em>u</em> of a number <em>n</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: abs ( n -- u ) dup ?negate ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616363657074-src-kernel-z80s"><a id="entry616363657074"></a>accept</h3>
<div class="listingblock">
<div class="content">
<pre>accept ( ca1 len1 -- len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Receive a string of at most <em>len1</em> characters.  No characters
are received or transferred if <em>len1</em> is zero.  Display
graphic characters as they are received.</p>
</div>
<div class="paragraph">
<p>Input terminates when an implementation-defined line
terminator is received. When input terminates, nothing is
appended to the string or displayed on the screen.</p>
</div>
<div class="paragraph">
<p><em>len2</em> is the length of the string stored at <em>ca1</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>In Solo Forth <code><a href="#entry616363657074">accept</a></code> is a deferred word. Its default
action is <code><a href="#entry73696D706C652D616363657074">simple-accept</a></code>, which provides only the basic
editing options. Alternative definitions are provided in the
library.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6163636570742D627566666572-src-lib-keyboard-MISC-fs"><a id="entry6163636570742D627566666572"></a>accept-buffer</h3>
<div class="listingblock">
<div class="content">
<pre>accept-buffer ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the buffer address used by
the latest execution of <code><a href="#entry616363657074">accept</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6163636570742D7879-src-lib-keyboard-MISC-fs"><a id="entry6163636570742D7879"></a>accept-xy</h3>
<div class="listingblock">
<div class="content">
<pre>accept-xy ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double variable that holds the cursor position at the
start of the most recent <code><a href="#entry616363657074">accept</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616374696F6E2D6F66-src-lib-define-deferred-fs"><a id="entry616374696F6E2D6F66"></a>action-of</h3>
<div class="listingblock">
<div class="content">
<pre>action-of ( -- )
  Interpretation: ( "name" -- xt )
  Compilation:    ( "name" -- )
  Runtime:        ( -- xt )</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Interpretation</div>
<p>Parse <em>name</em>, which is a word defined by
<code><a href="#entry6465666572">defer</a></code>. Return <em>xt</em>, which is the execution token that
name is set to execute.</p>
</div>
<div class="paragraph">
<div class="title">Compilation</div>
<p>Parse <em>name</em>, which is a word defined by
<code><a href="#entry6465666572">defer</a></code>. Append the runtime semantics given below to the
current definition.</p>
</div>
<div class="paragraph">
<div class="title">Runtime</div>
<p>Return <em>xt</em>, which is the execution token that
name is set to execute.</p>
</div>
<div class="paragraph">
<p><code>action-of</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.deferred.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6163746976617465-src-lib-multitask-muench-koh-fs"><a id="entry6163746976617465"></a>activate</h3>
<div class="listingblock">
<div class="content">
<pre>activate ( tid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Activate the task identified by <em>tid</em>. <code><a href="#entry6163746976617465">activate</a></code> must be
used only in definition. The code following <code><a href="#entry6163746976617465">activate</a></code> must
not <code><a href="#entry65786974">exit</a></code>. In other words it must be an infinite loop like
<code><a href="#entry71756974">quit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616464726573732D756E69742D62697473-src-lib-environment-question-fs"><a id="entry616464726573732D756E69742D62697473"></a>address-unit-bits</h3>
<div class="listingblock">
<div class="content">
<pre>address-unit-bits ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the size of one address unit, in bits.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D63686172">max-char</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6164726177313736-src-lib-graphics-lines-fs"><a id="entry6164726177313736"></a>adraw176</h3>
<div class="listingblock">
<div class="content">
<pre>adraw176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Draw a line from the current coordinates to the given
absolute coordinates <em>gx gy</em>, using only the top 176 pixel
rows of the screen (the lower 16 pixel rows are not used).
<em>gx</em> is 0..255; <em>gy</em> is 0..175.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7264726177313736">rdraw176</a></code>, <code><a href="#entry726C696E65313736">rline176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616761696E-src-kernel-z80s"><a id="entry616761696E"></a>again</h3>
<div class="listingblock">
<div class="content">
<pre>again ( dest -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End of an infinite loop.  Compile an unconditional jump
instruction to branch backward to <em>dest</em>.</p>
</div>
<div class="paragraph">
<p><code>again</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6168656164-src-kernel-z80s"><a id="entry6168656164"></a>ahead</h3>
<div class="listingblock">
<div class="content">
<pre>ahead
  Compilation: ( C: -- orig )
  Run-time: ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>ahead</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (TOOLS EXT), Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C23-src-lib-assembler-labels-fs"><a id="entry616C23"></a>al#</h3>
<div class="listingblock">
<div class="content">
<pre>al#  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create an absolute reference to an assembler label defined
by <code><a href="#entry6C3A">l:</a></code>. The label number has been compiled in the last cell
of the latest Z80 instruction.  If the corresponding label
is already defined, its value is patched into the latest
Z80 instruction.  Otherwise it will be patched after the
label has been defined by <code><a href="#entry6C3A">l:</a></code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>code my-code ( -- )
  #2 call, al#  \ a call to label #2
  nop,
  #2 l:         \ definition of label #2
  ret,
end-code</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<code>al#</code> is used after the Z80 command, while its
counterpart <code><a href="#entry726C23">rl#</a></code> is used before the Z80 command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C2D6964-src-lib-assembler-labels-fs"><a id="entry616C2D6964"></a>al-id</h3>
<div class="listingblock">
<div class="content">
<pre>al-id ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Identifier of absolute references created by <code><a href="#entry616C23">al#</a></code>.
<code>rl-ad</code> is used as a bitmask added to the label number
stored in <code><a href="#entry6C2D72656673">l-refs</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726C2D6964">rl-id</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C696173-src-lib-define-alias-fs"><a id="entry616C696173"></a>alias</h3>
<div class="listingblock">
<div class="content">
<pre>alias ( xt "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create an alias <em>name</em> that will execute <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>Aliases have the execution token <em>xt</em> of the original word,
but, contrary to synonyms created by <code><a href="#entry73796E6F6E796D">synonym</a></code>, don&#8217;t
inherit its attributes (<code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code>).</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry7265616C696173">realias</a></code>, <code><a href="#entry616C69617321">alias!</a></code>, <code><a href="#entry73796E6F6E796D">synonym</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.alias.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C69617321-src-lib-define-alias-fs"><a id="entry616C69617321"></a>alias!</h3>
<div class="listingblock">
<div class="content">
<pre>alias! ( xt nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the alias <em>nt</em> to execute <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry616C696173">alias</a></code>, <code><a href="#entry7265616C696173">realias</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.alias.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C69676E-src-lib-memory-MISC-fs"><a id="entry616C69676E"></a>align</h3>
<div class="listingblock">
<div class="content">
<pre>align ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the data-space pointer is not aligned, reserve enough
space to align it.</p>
</div>
<div class="paragraph">
<p>In Solo Forth, <code>align</code> does nothing (it&#8217;s an <code><a href="#entry696D6D656469617465">immediate</a></code>
alias of <code><a href="#entry6E6F6F70">noop</a></code>), because the Z80 processor does not need
addresses be cell-aligned.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6470">dp</a></code>, <code><a href="#entry616C69676E6564">aligned</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C69676E6564-src-lib-memory-MISC-fs"><a id="entry616C69676E6564"></a>aligned</h3>
<div class="listingblock">
<div class="content">
<pre>aligned ( a1 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a2</em> is the first aligned address greater than or equal to
<em>a1</em>.</p>
</div>
<div class="paragraph">
<p>In Solo Forth, <code>aligned</code> does nothing (it&#8217;s an
<code><a href="#entry696D6D656469617465">immediate</a></code> alias of <code><a href="#entry6E6F6F70">noop</a></code>), because the Z80 processor
does not need addresses be cell-aligned.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C69676E">align</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C696E65313736-src-lib-graphics-lines-fs"><a id="entry616C696E65313736"></a>aline176</h3>
<div class="listingblock">
<div class="content">
<pre>aline176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Draw a line from the current coordinates to the given
absolute coordinates <em>gx gy</em>, using only the top 176 pixel
rows of the screen (the lower 16 pixel rows are not used)
and preserving the current attributes of the screen.  <em>gx</em>
is 0..255; <em>gy</em> is 0..175.</p>
</div>
<div class="paragraph">
<p><code>aline176</code> is faster than <code><a href="#entry6164726177313736">adraw176</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7264726177313736">rdraw176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F63617465-src-lib-memory-allocate-COMMON-fs"><a id="entry616C6C6F63617465"></a>allocate</h3>
<div class="listingblock">
<div class="content">
<pre>allocate ( u -- a ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Allocate <em>u</em> address units of contiguous data space. The
data-space pointer is unaffected by this operation. The
initial content of the allocated space is undefined.</p>
</div>
<div class="paragraph">
<p>If the allocation succeeds, <em>a</em> is the aligned starting
address of the allocated space and <em>ior</em> is zero.</p>
</div>
<div class="paragraph">
<p>If the operation fails, <em>a</em> does not represent a valid
address and <em>ior</em> is an exception code.</p>
</div>
<div class="paragraph">
<p><code>allocate</code> is a deferred word whose action can be
<code><a href="#entry636861726C746F6E2D616C6C6F63617465">charlton-allocate</a></code> or <code><a href="#entry67696C2D616C6C6F63617465">gil-allocate</a></code>, depending on the
<code><a href="#entry68656170">heap</a></code> implementation used by the application.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (MEMORY), Forth-2012 (MEMORY).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66726565">free</a></code>, <code><a href="#entry726573697A65">resize</a></code>, <code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F636174652D6361742D627566666572-src-lib-dos-plus3dos-fs"><a id="entry616C6C6F636174652D6361742D627566666572"></a>allocate-cat-buffer</h3>
<div class="listingblock">
<div class="content">
<pre>allocate-cat-buffer ( n -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Allocate space in the <code><a href="#entry737472696E676572">stringer</a></code> for <em>n</em> cat entries and
return its address <em>ca</em>`, which will be stored in
<code><a href="#entry6361742D627566666572">cat-buffer</a></code>.</p>
</div>
<div class="paragraph">
<p><code>allocate-cat-buffer</code> is a factor of <code><a href="#entry3E636174">&gt;cat</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F636174652D737472696E676572-src-kernel-z80s"><a id="entry616C6C6F636174652D737472696E676572"></a>allocate-stringer</h3>
<div class="listingblock">
<div class="content">
<pre>allocate-stringer ( len -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Allocate <em>len</em> characters in the circular string buffer and
return the address <em>ca</em> of the allocated space.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: allocate-stringer ( len -- ca )
  ?stringer stringer unused-stringer + ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E737472696E676572">&gt;stringer</a></code>, <code><a href="#entry737472696E676572">stringer</a></code>, <code><a href="#entry3F737472696E676572">?stringer</a></code>,
<code><a href="#entry756E757365642D737472696E676572">unused-stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F636174652D78737461636B-src-lib-data-xstack-fs"><a id="entry616C6C6F636174652D78737461636B"></a>allocate-xstack</h3>
<div class="listingblock">
<div class="content">
<pre>allocate-xstack ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Create an <code><a href="#entry78737461636B">xstack</a></code> in the heap. <em>n</em> is the size in
cells.  Return its address <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7866726565">xfree</a></code>, <code><a href="#entry616C6C6F636174652D78737461636B">allocate-xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F74-src-kernel-z80s"><a id="entry616C6C6F74"></a>allot</h3>
<div class="listingblock">
<div class="content">
<pre>allot ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is greater than zero, reserve <em>n</em> address units of
data space. If <em>n</em> is less than zero, release <em>n</em> address
units of data space. If <em>n</em> is zero, leave the data-space
pointer unchanged.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: allot ( n -- ) dp +! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-83 (Required Word Set),
Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F742D68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry616C6C6F742D68656170"></a>allot-heap</h3>
<div class="listingblock">
<div class="content">
<pre>allot-heap ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a <code><a href="#entry68656170">heap</a></code> of <em>n</em> address units in the data space.
Return its address <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry62616E6B2D68656170">bank-heap</a></code>, <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>,
<code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F742D78737461636B-src-lib-data-xstack-fs"><a id="entry616C6C6F742D78737461636B"></a>allot-xstack</h3>
<div class="listingblock">
<div class="content">
<pre>allot-xstack ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Create an <code><a href="#entry78737461636B">xstack</a></code> in data space. <em>n</em> is the size in
cells.  Return its address <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C6C6F636174652D78737461636B">allocate-xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C6C6F74746564-src-lib-memory-MISC-fs"><a id="entry616C6C6F74746564"></a>allotted</h3>
<div class="listingblock">
<div class="content">
<pre>allotted ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Reserve <em>n</em> address units of data space and return its
address <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616C736F-src-kernel-z80s"><a id="entry616C736F"></a>also</h3>
<div class="listingblock">
<div class="content">
<pre>also ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate the word list at the top of the search order.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: also ( -- ) get-order over swap 1+ set-order ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Experimental proposals), Forth-94 (SEARCH
EXT), Forth-2012 (SEARCH-EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70726576696F7573">previous</a></code>, <code><a href="#entry6765742D6F72646572">get-order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry6F6E6C79">only</a></code>,
<code><a href="#entry6F72646572">order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616D62756C616E6365-src-lib-sound-48-fs"><a id="entry616D62756C616E6365"></a>ambulance</h3>
<div class="listingblock">
<div class="content">
<pre>ambulance ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Ambulance sound for ZX Spectrum 48K. Make it <em>n</em> times.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616E64-src-kernel-z80s"><a id="entry616E64"></a>and</h3>
<div class="listingblock">
<div class="content">
<pre>and ( x1 x2 -- x3 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x3</em> is the bit-by-bit logical "and" of <em>x1</em> with <em>x2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F72">or</a></code>, <code><a href="#entry786F72">xor</a></code>, <code><a href="#entry6E6567617465">negate</a></code>, <code><a href="#entry303D">0=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616E6F6E-src-lib-locals-anon-fs"><a id="entry616E6F6E"></a>anon</h3>
<div class="listingblock">
<div class="content">
<pre>anon
  Compilation:  ( n -- )
  Run-time: ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: Compile a reference to cell <em>n</em> (0 index) of
the buffer pointed by <code><a href="#entry616E6F6E3E">anon&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Run-time: Return address <em>a</em> of cell <em>n</em> (0 index) of the
buffer that was pointed by <code><a href="#entry616E6F6E3E">anon&gt;</a></code> during the compilation.</p>
</div>
<div class="paragraph">
<p><code>anon</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617267756D656E7473">arguments</a></code>, <code><a href="#entry6C6F63616C">local</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.anon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616E6F6E3E-src-lib-locals-anon-fs"><a id="entry616E6F6E3E"></a>anon&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>anon&gt;  ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> contains the address of the buffer used by
local variables defined by <code><a href="#entry7365742D616E6F6E">set-anon</a></code> and accessed by
<code><a href="#entry616E6F6E">anon</a></code>.</p>
</div>
<div class="paragraph">
<p><code>anon&gt;</code> must be set by the application before compiling a
word that uses <code><a href="#entry7365742D616E6F6E">set-anon</a></code> and <code><a href="#entry616E6F6E">anon</a></code>.  One single buffer
pointed by <code>anon&gt;</code> can be shared by several words,
provided they dont&#8217;t need to use it at the same time, e.g.
because of nesting.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.anon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616E792D6F66-src-lib-flow-case-fs"><a id="entry616E792D6F66"></a>any-of</h3>
<div class="listingblock">
<div class="content">
<pre>any-of
  Compilation: ( C: -- of-sys )
  Run-time: ( x0 x1..xn n -- | x0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation:</p>
</div>
<div class="paragraph">
<p>Put <em>of-sys</em> onto the control flow stack. Append the
run-time semantics given below to to the current
definition. The semantics are incomplete until resolved by
a consumer of <em>of-sys</em>, such as <code><a href="#entry656E646F66">endof</a></code>.</p>
</div>
<div class="paragraph">
<p>Run-time:</p>
</div>
<div class="paragraph">
<p>A variant of <code><a href="#entry6F66">of</a></code>. If <em>x0</em> equals any of <em>x1..xn</em>, discard
<em>x1..xn n</em> and continue execution at the location specified
by the consumer of <em>of-sys</em>, e.g., following the next
<code><a href="#entry656E646F66">endof</a></code>. Otherwise, consume also <em>x0</em> and continue
execution in line.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: test ( n -- )
  case
    1 of            ." one"               endof
    2 7 10 3 any-of ." two, seven or ten" endof
    6 of            ." six"               endof
  endcase ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63617365">case</a></code>, <code><a href="#entry656E6463617365">endcase</a></code>, <code><a href="#entry28616E792D6F6629">(any-of)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616E792D746170652D66696C656E616D65-src-lib-tape-fs"><a id="entry616E792D746170652D66696C656E616D65"></a>any-tape-filename</h3>
<div class="listingblock">
<div class="content">
<pre>any-tape-filename ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Configure <code><a href="#entry746170652D686561646572">tape-header</a></code> to load any filename, by replacing
the first char of <code><a href="#entry746170652D66696C656E616D65">tape-filename</a></code> with 255, which will be
recognized as a wild card.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry616E793F-src-lib-math-operators-1-cell-fs"><a id="entry616E793F"></a>any?</h3>
<div class="listingblock">
<div class="content">
<pre>any? ( x[0] x[1]..x[n] n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is any <em>x[1]..x[n]</em> equal to <em>x[0]</em>?</p>
</div>
<div class="paragraph">
<p>Origin: John A. Peters' tools for CP/M F83 2.1.1, 1984.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656974686572">either</a></code>, <code><a href="#entry6E656974686572">neither</a></code>, <code><a href="#entry6966656C7365">ifelse</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6172672D616374696F6E-src-lib-locals-arguments-fs"><a id="entry6172672D616374696F6E"></a>arg-action</h3>
<div class="listingblock">
<div class="content">
<pre>arg-action ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> holds the execution token of the action
performed by the locals defined by <code><a href="#entry617267756D656E7473">arguments</a></code>.  Its
default value is stored in <code><a href="#entry6172672D64656661756C742D616374696F6E">arg-default-action</a></code>.  The
content of <code>arg-default-action</code> is copied to <code><a href="#entry6172672D616374696F6E">arg-action</a></code>
by <code><a href="#entry617267756D656E7473">arguments</a></code>, and also every time a local variable is
used.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.arguments.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6172672D64656661756C742D616374696F6E-src-lib-locals-arguments-fs"><a id="entry6172672D64656661756C742D616374696F6E"></a>arg-default-action</h3>
<div class="listingblock">
<div class="content">
<pre>arg-default-action ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> holds the execution token of the default
action performed by the locals defined by <code><a href="#entry617267756D656E7473">arguments</a></code>.  Its
default value is zero, which means "no action" (<code><a href="#entry6E6F6F70">noop</a></code> can
be used too, but <code>arg-default-action off</code> is simpler than
<code>' noop arg-defaul-action !</code>).</p>
</div>
<div class="paragraph">
<p><code><a href="#entry746F617267">toarg</a></code> and <code><a href="#entry2B746F617267">+toarg</a></code> change the content of
<code>arg-default-action</code>.</p>
</div>
<div class="paragraph">
<p>The content of <code>arg-default-action</code> is copied to
<code><a href="#entry6172672D616374696F6E">arg-action</a></code> by <code><a href="#entry617267756D656E7473">arguments</a></code>, and also every time a local
variable is used.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6172672D616374696F6E">arg-action</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.arguments.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617267756D656E7473-src-lib-locals-arguments-fs"><a id="entry617267756D656E7473"></a>arguments</h3>
<div class="listingblock">
<div class="content">
<pre>arguments ( i*x +n -- j*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Define the number <em>+n</em> of arguments to take from the stack
and assign them to the first local variables from <code>l0</code> to
<code>l9</code>. By default, local variables are manipulated with
<code><a href="#entry40">@</a></code>, <code><a href="#entry21">!</a></code> and <code><a href="#entry2B21">+!</a></code>, like ordinary variables.  They are
returned  with <code><a href="#entry726573756C7473">results</a></code>.</p>
</div>
<div class="paragraph">
<p>Example: The phrase <code>3 arguments</code> assigns the names of
local variables <code>l0</code> through <code>l9</code> to ten stack
positions, with <code>l0</code>, <code>l1</code> and <code>l2</code> returning the
address of the top 3 stack values that were there before <code>3
arguments</code> was executed. <code>l3</code> through <code>l9</code> are
zero-filled and the stack pointer is set to just below
<code>l9</code>.  After all calculating is done, the phrase <code>3
results</code> leaves that many results on the stack relative to
the stack position when <code>arguments</code> was executed. All
intermediate stack values are lost, which is good because
you can leave the stack "dirty" and it doesn&#8217;t matter.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: test ( length width height -- length' volume surface )
  3 arguments
  l0 @ l1 @ * l5 !       \ surface
  l5 @ l2 @ * l4 !       \ volume
  $2000 l0 +!            \ length+$2000
  l4 @ l1 !              \ volume
  l5 @ l2 !              \ surface
  3 results ;</pre>
</div>
</div>
<div class="paragraph">
<p>When <code><a href="#entry746F617267">toarg</a></code> or <code><a href="#entry2B746F617267">+toarg</a></code> are loaded, they change the
default behaviour of locals: Then <code>l0</code> through <code>l9</code>
return their contents, not their addresses.  To write them
you precede them with the word <code><a href="#entry746F617267">toarg</a></code>. For example <code>5
toarg l4</code> writes a 5 into <code>l4</code>. Execution of <code>l4</code>
returns 5 to the stack. To add a number to a local
variable, you precede it with the word <code><a href="#entry2B746F617267">+toarg</a></code>. For
example, <code>5 +toarg l4</code> adds 5 to the current content of
<code>l4</code>.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>need toarg  need +toarg

: test ( length width height -- length' volume surface )
  3 arguments
  l0 l1 * toarg l5       \ surface
  l5 l2 * toarg l4       \ volume
  $2000 +toarg l0        \ add $2000 to length
  l4 toarg l1            \ volume
  l5 toarg l2            \ surface
  3 results ;</pre>
</div>
</div>
<div class="paragraph">
<p>The default action of local variables (either return its
address or its value) is hold in <code><a href="#entry6172672D64656661756C742D616374696F6E">arg-default-action</a></code>, as
an execution token.</p>
</div>
<div class="paragraph">
<p><code>arguments</code> is a <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F63616C">local</a></code>, <code><a href="#entry616E6F6E">anon</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.arguments.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61727261793E-src-lib-data-array-COMMON-fs"><a id="entry61727261793E"></a>array&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>array&gt; ( n a1 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a2</em> of element <em>n</em> of a 1-dimension
single-cell array <em>a1</em>. <code>array&gt;</code> is a common factor of
<code><a href="#entry6176616C7565">avalue</a></code> and <code><a href="#entry617661726961626C65">avariable</a></code>.</p>
</div>
<div class="paragraph">
<p><code>array&gt;</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: array&gt; ( n a1 -- a2 ) swap cells + ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61727261793E6974656D73-src-lib-data-array-noble-fs"><a id="entry61727261793E6974656D73"></a>array&gt;items</h3>
<div class="listingblock">
<div class="content">
<pre>array&gt;items ( a -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert address of array <em>a</em> to its number of items <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry316172726179">1array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.noble.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61736369692D636861723F-src-lib-chars-fs"><a id="entry61736369692D636861723F"></a>ascii-char?</h3>
<div class="listingblock">
<div class="content">
<pre>ascii-char? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is character <em>c</em> an ASCII character, i.e. in the range
0..126?</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/chars.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61736369692D6F6372-src-lib-graphics-ocr-fs"><a id="entry61736369692D6F6372"></a>ascii-ocr</h3>
<div class="listingblock">
<div class="content">
<pre>ascii-ocr ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <code><a href="#entry6F6372">ocr</a></code> to work with the current ASCII charset, pointed
by <code><a href="#entry6F732D6368617273">os-chars</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D6F6372">udg-ocr</a></code>, <code><a href="#entry7365742D666F6E74">set-font</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.ocr.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61736D-src-kernel-z80s"><a id="entry61736D"></a>asm</h3>
<div class="listingblock">
<div class="content">
<pre>asm ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Enter the assembler mode.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E642D61736D">end-asm</a></code>, <code><a href="#entry636F6465">code</a></code>, <code><a href="#entry696E69742D61736D">init-asm</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617373656D626C6572-src-lib-assembler-fs"><a id="entry617373656D626C6572"></a>assembler</h3>
<div class="listingblock">
<div class="content">
<pre>assembler ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Replace the first word list in the search order with
<code><a href="#entry617373656D626C65722D776F72646C697374">assembler-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Assembler Word Set), Forth-83 (Assembler
Extension Word Set), Forth-94 (TOOLS EXT), Forth-2012
(TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617373656D626C65722D776F72646C697374-src-kernel-z80s"><a id="entry617373656D626C65722D776F72646C697374"></a>assembler-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>assembler-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>wid</em>, the identifier of the word list that includes
the words defined as part of the assembler.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617373656D626C6572">assembler</a></code>, <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry666F7274682D776F72646C697374">forth-wordlist</a></code>,
<code><a href="#entry726F6F742D776F72646C697374">root-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61737365727428-src-lib-tool-debug-assert-fs"><a id="entry61737365727428"></a>assert(</h3>
<div class="listingblock">
<div class="content">
<pre>assert( ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a normal assertion.  Normal assertion are turned on
by default. <code>assert(</code> is equivalent to <code><a href="#entry6173736572743128">assert1(</a></code>.</p>
</div>
<div class="paragraph">
<p><code>assert(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6173736572742D6C6576656C">assert-level</a></code>, <code><a href="#entry6173736572743028">assert0(</a></code>, <code><a href="#entry6173736572743128">assert1(</a></code>,
<code><a href="#entry6173736572743228">assert2(</a></code>, assert3(<code>, `<a href="#entry29">)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736572742D6C6576656C-src-lib-tool-debug-assert-fs"><a id="entry6173736572742D6C6576656C"></a>assert-level</h3>
<div class="listingblock">
<div class="content">
<pre>assert-level ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Variable that holds the highest assertions that are turned
on (0..3).  Its default value is 1: all assertions above 1
are turned off.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61737365727428">assert(</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736572743028-src-lib-tool-debug-assert-fs"><a id="entry6173736572743028"></a>assert0(</h3>
<div class="listingblock">
<div class="content">
<pre>assert0( ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start an important assertion.  Important assertions should
always be turned on.</p>
</div>
<div class="paragraph">
<p><code>assert0(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6173736572742D6C6576656C">assert-level</a></code>, <code><a href="#entry61737365727428">assert(</a></code>, <code><a href="#entry6173736572743128">assert1(</a></code>, <code><a href="#entry6173736572743228">assert2(</a></code>,
assert3(<code>, `<a href="#entry29">)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736572743128-src-lib-tool-debug-assert-fs"><a id="entry6173736572743128"></a>assert1(</h3>
<div class="listingblock">
<div class="content">
<pre>assert1( ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a normal assertion.  Normal assertions are turned on
by default.</p>
</div>
<div class="paragraph">
<p><code>assert1(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6173736572742D6C6576656C">assert-level</a></code>, <code><a href="#entry61737365727428">assert(</a></code>, <code><a href="#entry6173736572743028">assert0(</a></code>, <code><a href="#entry6173736572743228">assert2(</a></code>,
assert3(<code>, `<a href="#entry29">)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736572743228-src-lib-tool-debug-assert-fs"><a id="entry6173736572743228"></a>assert2(</h3>
<div class="listingblock">
<div class="content">
<pre>assert2( ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a debugging assertion.</p>
</div>
<div class="paragraph">
<p><code>assert2(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6173736572742D6C6576656C">assert-level</a></code>, <code><a href="#entry61737365727428">assert(</a></code>, <code><a href="#entry6173736572743028">assert0(</a></code>, <code><a href="#entry6173736572743128">assert1(</a></code>,
assert3(<code>, `<a href="#entry29">)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736572743328-src-lib-tool-debug-assert-fs"><a id="entry6173736572743328"></a>assert3(</h3>
<div class="listingblock">
<div class="content">
<pre>assert3( ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a slow assertion.  Slow assertions are those you may
not want to turn on in normal debugging; you would turn
them on mainly for thorough checking.</p>
</div>
<div class="paragraph">
<p><code>assert3(</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6173736572742D6C6576656C">assert-level</a></code>, <code><a href="#entry61737365727428">assert(</a></code>, <code><a href="#entry6173736572743028">assert0(</a></code>, <code><a href="#entry6173736572743128">assert1(</a></code>,
<code><a href="#entry6173736572743228">assert2(</a></code>, <code><a href="#entry29">)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736572746E-src-lib-tool-debug-assert-fs"><a id="entry6173736572746E"></a>assertn</h3>
<div class="listingblock">
<div class="content">
<pre>assertn ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the contents of <code><a href="#entry6173736572742D6C6576656C">assert-level</a></code> is greater than <em>n</em>, then
parse and discard the input stream to the next right paren
(the end of the assertion); else do nothing.  <code>assertn</code>
is the common factor of <code><a href="#entry6173736572743028">assert0(</a></code>, <code><a href="#entry6173736572743128">assert1(</a></code>, <code><a href="#entry6173736572743228">assert2(</a></code>,
and <code><a href="#entry6173736572743328">assert3(</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61737365727428">assert(</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.assert.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736F636961746976652D636173653A-src-lib-flow-associative-case-colon-fs"><a id="entry6173736F636961746976652D636173653A"></a>associative-case:</h3>
<div class="listingblock">
<div class="content">
<pre>associative-case: ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create an associative case definition "name":
<code>name ( i*x n&#8201;&#8212;&#8201;j*x )</code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: red       ." red" ;
: blue      ." blue" ;
: orange    ." orange" ;
: pink      ." pink" ;
: black     ." black" ;

associative-case: color ( n -- )
  7 red  12 blue  472 orange  15 pink  0 black ;

7 color cr  472 color cr  3000 color cr</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> for default must be 0 and the default pair must be
last.  Numbers can be in any order except 0 must be last.
An actual zero or a no match causes the default to be
executed.  Numbers can&#8217;t be constants.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.associative-case-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736F636961746976652D6C697374-src-lib-data-associative-list-fs"><a id="entry6173736F636961746976652D6C697374"></a>associative-list</h3>
<div class="listingblock">
<div class="content">
<pre>associative-list ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a new associative list "name".</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6173736F636961746976653A-src-lib-data-associative-colon-fs"><a id="entry6173736F636961746976653A"></a>associative:</h3>
<div class="listingblock">
<div class="content">
<pre>associative: ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a table lookup "name" with <em>n</em> entries.</p>
</div>
<div class="paragraph">
<p>An associative memory word.  It must be followed by a set
of values to be looked up.  At runtime, the values stored
in the parameter field are searched for a match.  If one if
found, the index to that value is returned.  If no match is
made, then the number of entries, ie max index + 1 is
returned.  This is the inverse of an array.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1000 constant zx1
200 constant zx2
30 constant zx3

3 associative: unzx ( value -- n ) zx1 , zx2 , zx3 ,

1000 unzx .  \ prints 0
200 unzx .   \ prints 1
30 unzx .    \ prints 2</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61742D616363657074-src-lib-keyboard-MISC-fs"><a id="entry61742D616363657074"></a>at-accept</h3>
<div class="listingblock">
<div class="content">
<pre>at-accept ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the cursor position at the start of the most recent
<code><a href="#entry616363657074">accept</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61742D78-src-lib-display-cursor-fs"><a id="entry61742D78"></a>at-x</h3>
<div class="listingblock">
<div class="content">
<pre>at-x ( col -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the cursor at the given column (x coordinate) <em>col</em> and
the current row (y coordinate).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61742D79">at-y</a></code>, <code><a href="#entry61742D7879">at-xy</a></code>, <code><a href="#entry726F77">row</a></code>, <code><a href="#entry636F6C756D6E">column</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61742D7879-src-kernel-z80s"><a id="entry61742D7879"></a>at-xy</h3>
<div class="listingblock">
<div class="content">
<pre>at-xy ( col row -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the cursor coordinates to column <em>col</em> and row <em>row</em>.  The
upper left corner is column zero, row zero.</p>
</div>
<div class="paragraph">
<p><code>at-xy</code> is a deferred word whose default action is
<code><a href="#entry6D6F64652D33322D61742D7879">mode-32-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FACILITY), Forth-2012 (FACILITY).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686F6D65">home</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61742D78792D646973706C61792D756467-src-lib-graphics-udg-fs"><a id="entry61742D78792D646973706C61792D756467"></a>at-xy-display-udg</h3>
<div class="listingblock">
<div class="content">
<pre>at-xy-display-udg ( c x y -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display UDG <em>c</em> at cursor coordinates <em>x y</em>. This is much
faster than using <code><a href="#entry61742D7879">at-xy</a></code> and <code><a href="#entry656D69742D756467">emit-udg</a></code>, because no ROM
routine is used, the cursor coordinates are not updated and
the screen attributtes are not changed (only the character
bitmap is displayed).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D61742D78792D646973706C6179">udg-at-xy-display</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61742D79-src-lib-display-cursor-fs"><a id="entry61742D79"></a>at-y</h3>
<div class="listingblock">
<div class="content">
<pre>at-y ( row -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the cursor at the current column (x coordinate) and the
given row (y coordinate) <em>row</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61742D78">at-x</a></code>, <code><a href="#entry61742D7879">at-xy</a></code>, <code><a href="#entry726F77">row</a></code>, <code><a href="#entry636F6C756D6E">column</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry61746F-src-lib-data-array-value-fs"><a id="entry61746F"></a>ato</h3>
<div class="listingblock">
<div class="content">
<pre>ato ( x n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x</em> into element <em>n</em> of 1-dimension single-cell
values array <em>name</em>.</p>
</div>
<div class="paragraph">
<p><code>ato</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6172726179">array</a></code>, <code><a href="#entry2861746F29">(ato)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6174747221-src-lib-display-attributes-fs"><a id="entry6174747221"></a>attr!</h3>
<div class="listingblock">
<div class="content">
<pre>attr! ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>b</em> as the current attribute.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6174747240">attr@</a></code>, <code><a href="#entry7065726D2D6174747221">perm-attr!</a></code>, <code><a href="#entry7365742D7061706572">set-paper</a></code>, <code><a href="#entry7365742D696E6B">set-ink</a></code>,
<code><a href="#entry7365742D666C617368">set-flash</a></code>, <code><a href="#entry7365742D627269676874">set-bright</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617474722D636C73-src-kernel-z80s"><a id="entry617474722D636C73"></a>attr-cls</h3>
<div class="listingblock">
<div class="content">
<pre>attr-cls ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear the screen with the attribute <em>b</em>, reset the graphic
coordinates at the lower left corner (x 0, y 0) and reset the
cursor position at the top left corner (column 0, row 0).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C73">cls</a></code>, <code><a href="#entry70616765">page</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617474722D6D61736B21-src-lib-display-attributes-fs"><a id="entry617474722D6D61736B21"></a>attr-mask!</h3>
<div class="listingblock">
<div class="content">
<pre>attr-mask! ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>b</em> as the current attribute mask.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617474722D6D61736B40">attr-mask@</a></code>, <code><a href="#entry7065726D2D617474722D6D61736B21">perm-attr-mask!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617474722D6D61736B40-src-lib-display-attributes-fs"><a id="entry617474722D6D61736B40"></a>attr-mask@</h3>
<div class="listingblock">
<div class="content">
<pre>attr-mask@ ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the current attribute mask <em>b</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617474722D6D61736B21">attr-mask!</a></code>, <code><a href="#entry7065726D2D617474722D6D61736B40">perm-attr-mask@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617474722D736574746572-src-lib-display-attributes-fs"><a id="entry617474722D736574746572"></a>attr-setter</h3>
<div class="listingblock">
<div class="content">
<pre>attr-setter ( b "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition <em>name</em> that, when executed, will
set <em>b</em> as the current attribute.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61736B2B617474722D736574746572">mask+attr-setter</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617474723E696E6B-src-lib-display-attributes-fs"><a id="entry617474723E696E6B"></a>attr&gt;ink</h3>
<div class="listingblock">
<div class="content">
<pre>attr&gt;ink ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert attribute <em>b1</em> to its ink color number <em>b2</em>.</p>
</div>
<div class="paragraph">
<p><code>attr&gt;ink</code> is written in Z80. The equivalent code in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: attr&gt;ink ( b1 -- b2 ) ink-mask and ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617474723E7061706572">attr&gt;paper</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617474723E7061706572-src-lib-display-attributes-fs"><a id="entry617474723E7061706572"></a>attr&gt;paper</h3>
<div class="listingblock">
<div class="content">
<pre>attr&gt;paper ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert attribute <em>b1</em> to its paper color number <em>b2</em>.</p>
</div>
<div class="paragraph">
<p><code>attr&gt;paper</code> is written in Z80. The equivalent code in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: attr&gt;paper ( b1 -- b2 ) paper-mask and 3 rshift ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617474723E696E6B">attr&gt;ink</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6174747240-src-lib-display-attributes-fs"><a id="entry6174747240"></a>attr@</h3>
<div class="listingblock">
<div class="content">
<pre>attr@ ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the current attribute <em>b</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry7065726D2D6174747240">perm-attr@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6176616C7565-src-lib-data-array-value-fs"><a id="entry6176616C7565"></a>avalue</h3>
<div class="listingblock">
<div class="content">
<pre>avalue ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a 1-dimension single-cell values array <em>name</em>
with <em>n</em> elements and the execution semantics defined
below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;x )</p>
</div>
<div class="paragraph">
<p>Return contents <em>x</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61746F">ato</a></code>, <code><a href="#entry2B61746F">+ato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry617661726961626C65-src-lib-data-array-variable-fs"><a id="entry617661726961626C65"></a>avariable</h3>
<div class="listingblock">
<div class="content">
<pre>avariable ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a 1-dimension single-cell variables array <em>name</em>
with <em>n</em> elements and the execution semantics defined
below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;a )</p>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry32617661726961626C65">2avariable</a></code>, <code><a href="#entry63617661726961626C65">cavariable</a></code>, <code><a href="#entry666172617661726961626C65">faravariable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.variable.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6177616B65-src-lib-multitask-muench-koh-fs"><a id="entry6177616B65"></a>awake</h3>
<div class="listingblock">
<div class="content">
<pre>awake ( tid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wake another task.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62-src-lib-editor-specforth-fs"><a id="entry62"></a>b</h3>
<div class="listingblock">
<div class="content">
<pre>b ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Used after <code><a href="#entry66">f</a></code> to backup the cursor by the length of the
most recent text.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry622F627566-src-kernel-z80s"><a id="entry622F627566"></a>b/buf</h3>
<div class="listingblock">
<div class="content">
<pre>b/buf ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry622F736563746F72-src-kernel-z80s"><a id="entry622F736563746F72"></a>b/sector</h3>
<div class="listingblock">
<div class="content">
<pre>b/sector ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Bytes per disk sector.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736563746F72732F626C6F636B">sectors/block</a></code>, <code><a href="#entry736563746F72732F747261636B">sectors/track</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6261636B7370616365-src-lib-display-control-fs"><a id="entry6261636B7370616365"></a>backspace</h3>
<div class="listingblock">
<div class="content">
<pre>backspace ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Emit a backspace character (character code 8).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry27627327">'bs'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6261636B737061636573-src-lib-display-control-fs"><a id="entry6261636B737061636573"></a>backspaces</h3>
<div class="listingblock">
<div class="content">
<pre>backspaces ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Emit <em>n</em> number of backspace characters (character code 8).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6261636B7370616365">backspace</a></code>, <code><a href="#entry27627327">'bs'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626164656E2D73717274-src-lib-math-operators-1-cell-fs"><a id="entry626164656E2D73717274"></a>baden-sqrt</h3>
<div class="listingblock">
<div class="content">
<pre>baden-sqrt ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Integer square root <em>n2</em> of radicand <em>n1</em>.  Original code
by Wil Baden, published on Forth Dimensions (volume 18,
number 5, page 27, 1997-01).  This method is 7..8 times
faster than <code><a href="#entry6E6577746F6E2D73717274">newton-sqrt</a></code>.</p>
</div>
<div class="paragraph">
<p>Loading <code>baden-sqrt</code> makes it the action of <code><a href="#entry73717274">sqrt</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry28626164656E2D73717274">(baden-sqrt</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62616E6B-src-kernel-z80s"><a id="entry62616E6B"></a>bank</h3>
<div class="listingblock">
<div class="content">
<pre>bank ( +n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Page in the 16-KiB memory bank <em>+n</em> at $C000..$FFFF.</p>
</div>
<div class="paragraph">
<p>The range of <em>n</em> depends on the computer:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Computer</th>
<th class="tableblock halign-left valign-top">Memory banks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum 128</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +2</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +3e</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 128</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scorpion ZS 256</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..15</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 512</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..31</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 1024</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0..63</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See also: <code><a href="#entry62616E6B73">banks</a></code>, <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62616E6B2D68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry62616E6B2D68656170"></a>bank-heap</h3>
<div class="listingblock">
<div class="content">
<pre>bank-heap ( n b a -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a <code><a href="#entry68656170">heap</a></code> of <em>n</em> address units at address <em>a</em> of bank
<em>b</em>.  <em>a</em> is the actual address ($C000..$FFFF) when bank
<em>b</em> is paged in, which is stored in <code><a href="#entry686561702D62616E6B">heap-bank</a></code>.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry616C6C6F63617465">allocate</a></code>, <code><a href="#entry726573697A65">resize</a></code> and <code><a href="#entry66726565">free</a></code> page in bank <em>b</em> at the
start and restore the default bank at the end.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686561702D696E">heap-in</a></code>, <code><a href="#entry686561702D6F7574">heap-out</a></code>, <code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>,
<code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>, <code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62616E6B2D696E646578-src-kernel-z80s"><a id="entry62616E6B2D696E646578"></a>bank-index</h3>
<div class="listingblock">
<div class="content">
<pre>bank-index ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A byte variable that holds the bank index (0..3) calculated by
the latest execution of <code><a href="#entry666172">far</a></code></p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>, <code><a href="#entry62616E6B">bank</a></code>, <code><a href="#entry62616E6B73">banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62616E6B2D7374617274-src-kernel-z80s"><a id="entry62616E6B2D7374617274"></a>bank-start</h3>
<div class="listingblock">
<div class="content">
<pre>bank-start ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the memory address where banks are paged in: $C000.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F62616E6B">/bank</a></code>, <code><a href="#entry62616E6B">bank</a></code>, <code><a href="#entry62616E6B73">banks</a></code>, <code><a href="#entry6661722D62616E6B73">far-banks</a></code>,
<code><a href="#entry64656661756C742D62616E6B">default-bank</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62616E6B73-src-kernel-z80s"><a id="entry62616E6B73"></a>banks</h3>
<div class="listingblock">
<div class="content">
<pre>banks ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number of 16-KiB RAM memory banks:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Computer</th>
<th class="tableblock halign-left valign-top">Banks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum 128</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +2</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX Spectrum +3e</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 128</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scorpion ZS 256</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">16</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 512</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">32</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pentagon 1024</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">64</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See also: <code><a href="#entry62616E6B">bank</a></code>, <code><a href="#entry6661722D62616E6B73">far-banks</a></code>, <code><a href="#entry64656661756C742D62616E6B">default-bank</a></code>, <code><a href="#entry72616D">ram</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62617365-src-kernel-z80s"><a id="entry62617365"></a>base</h3>
<div class="listingblock">
<div class="content">
<pre>base ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds XXX TODO</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6261736527-src-lib-display-numbers-fs"><a id="entry6261736527"></a>base'</h3>
<div class="listingblock">
<div class="content">
<pre>base' ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A temporary variable used by <code><a href="#entry3C686578">&lt;hex</a></code>, <code><a href="#entry6865783E">hex&gt;</a></code>, <code><a href="#entry3C62696E">&lt;bin</a></code> and
<code><a href="#entry62696E3E">bin&gt;</a></code>.  to store the current value of <code><a href="#entry62617365">base</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626173652D65786563757465-src-lib-flow-MISC-fs"><a id="entry626173652D65786563757465"></a>base-execute</h3>
<div class="listingblock">
<div class="content">
<pre>base-execute ( xt n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute <em>xt</em> with the content of <code><a href="#entry62617365">base</a></code> being <em>n</em>
and restoring the original <code><a href="#entry62617365">base</a></code> afterwards.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626173653E-src-lib-display-numbers-fs"><a id="entry626173653E"></a>base&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>base&gt; ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Restore the previous value of <code><a href="#entry62617365">base</a></code> from <code><a href="#entry6261736527">base'</a></code>. This is
the word executed by <code><a href="#entry62696E3E">bin&gt;</a></code> and <code><a href="#entry6865783E">hex&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62656570-src-lib-sound-48-fs"><a id="entry62656570"></a>beep</h3>
<div class="listingblock">
<div class="content">
<pre>beep ( duration pitch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Produce a tone in the internal beeper, with parameters that
are equivalent to those of the homonymous Sinclar BASIC
command:</p>
</div>
<div class="paragraph">
<p><em>duration</em> is in miliseconds (instead of seconds used by
BASIC).</p>
</div>
<div class="paragraph">
<p><em>pitch</em> is identical to the BASIC parameter: number of
semitones from middle C (positive number for notes above,
negative number for notes below).</p>
</div>
<div class="paragraph">
<p>Here is a diagram to show the pitch values of all the notes
in one octave on the piano (extracted from the manual of
the ZX Spectrum +3 transcripted by Russell et al.):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  |   | | | C#| D#| | | F#| G#| A#| | |   |   |
  |   | | | Db| Eb| | | Gb| Ab| Bb| | |   |   |
  |-2 | | | 1 | 3 | | | 6 | 8 |10 | | |13 |15 |
__|___| | |___|___| | |___|___|___| | |___|___|
    |   |   |   |   |   |   |   |   |   |   |
 -3 |-1 | 0 | 2 | 4 | 5 | 7 | 9 |11 |12 |14 |16
____|___|___|___|___|___|___|___|___|___|___|____
          C   D   E   F   G   A   B   C</pre>
</div>
</div>
<div class="paragraph">
<p>Hence, to play the A above middle C for half a second, you
would use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>500 9 beep</pre>
</div>
</div>
<div class="paragraph">
<p>And to play a scale (for example, C major) a complete
(albeit short) program is needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>create scale
0 c, 2 c, 4 c, 5 c, 7 c, 9 c, 11 c, 12 c,

8 constant /scale

: play-scale ( -- )
  /scale 0 ?do  500 scale i + c@ beep  loop ;

play-scale</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626565703E626C656570">beep&gt;bleep</a></code>, <code><a href="#entry626C656570">bleep</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626565703E626C656570-src-lib-sound-48-fs"><a id="entry626565703E626C656570"></a>beep&gt;bleep</h3>
<div class="listingblock">
<div class="content">
<pre>beep&gt;bleep ( duration1 pitch1 -- pitch2 duration2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>duration1</em> and <em>pitch1</em>, which are equivalent to
the parameters used by Sinclar BASIC&#8217;s BEEP command, to
<em>pitch2</em> and <em>duration2</em>, which are the parameters required
by <code><a href="#entry626C656570">bleep</a></code>.</p>
</div>
<div class="paragraph">
<p><em>duration1</em> is in miliseconds (instead of seconds used by
Sinclair BASIC).</p>
</div>
<div class="paragraph">
<p><em>pitch1</em> is identical to the Sinclair BASIC parameter:
number of semitones from middle C (positive number for
notes above, negative number for notes below).</p>
</div>
<div class="paragraph">
<p>Here is a diagram to show the pitch values of all the notes
in one octave on the piano (extracted from the manual of
the ZX Spectrum +3 transcripted by Russell et al.):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>  |   | | | C#| D#| | | F#| G#| A#| | |   |   |
  |   | | | Db| Eb| | | Gb| Ab| Bb| | |   |   |
  |-2 | | | 1 | 3 | | | 6 | 8 |10 | | |13 |15 |
__|___| | |___|___| | |___|___|___| | |___|___|
    |   |   |   |   |   |   |   |   |   |   |
 -3 |-1 | 0 | 2 | 4 | 5 | 7 | 9 |11 |12 |14 |16
____|___|___|___|___|___|___|___|___|___|___|____
          C   D   E   F   G   A   B   C</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626565703E64687A">beep&gt;dhz</a></code>, <code><a href="#entry626565703E6E6F7465">beep&gt;note</a></code>, <code><a href="#entry64687A3E626C656570">dhz&gt;bleep</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626565703E64687A-src-lib-sound-48-fs"><a id="entry626565703E64687A"></a>beep&gt;dhz</h3>
<div class="listingblock">
<div class="content">
<pre>beep&gt;dhz ( n -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a Sinclair BASIC BEEP&#8217;s pitch <em>n</em> to its
corresponding frequency in dHz (tenths of hertzs) <em>u</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626565703E6E6F7465">beep&gt;note</a></code>, <code><a href="#entry626565703E626C656570">beep&gt;bleep</a></code>, <code><a href="#entry62656570">beep</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626565703E6E6F7465-src-lib-sound-48-fs"><a id="entry626565703E6E6F7465"></a>beep&gt;note</h3>
<div class="listingblock">
<div class="content">
<pre>beep&gt;note ( n1 -- n2 +n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a Sinclair BASIC BEEP&#8217;s pitch <em>n1</em> to its
corresponding note <em>+n3</em> (0..11) in octave <em>n2</em>, being zero
the middle octave.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D626565703E6E6F7465">-beep&gt;note</a></code>, <code><a href="#entry2B626565703E6E6F7465">+beep&gt;note</a></code>, <code><a href="#entry626565703E64687A">beep&gt;dhz</a></code>, <code><a href="#entry626565703E626C656570">beep&gt;bleep</a></code>,
<code><a href="#entry62656570">beep</a></code>, <code><a href="#entry2F6F6374617665">/octave</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626567696E-src-kernel-z80s"><a id="entry626567696E"></a>begin</h3>
<div class="listingblock">
<div class="content">
<pre>begin ( -- dest )</pre>
</div>
</div>
<div class="paragraph">
<p><code>begin</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626567696E2D737472756374757265-src-lib-data-begin-structure-fs"><a id="entry626567696E2D737472756374757265"></a>begin-structure</h3>
<div class="listingblock">
<div class="content">
<pre>begin-structure ( "name" -- struct-sys 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  Create  a definition  for <em>name</em> with  the
execution semantics defined below. Return a <em>struct-sys</em>
that will be used by <code><a href="#entry656E642D737472756374757265">end-structure</a></code> and an initial offset
of 0.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution: <code>(&#8201;&#8212;&#8201;+n )</code></p>
</div>
<div class="paragraph">
<p><em>+n</em> is the size in memory expressed in address units of
the data structure.</p>
</div>
<div class="paragraph">
<p>Example usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>begin-structure /record
  field:  ~year
  cfield: ~month
  cfield: ~day
end-structure

10 #records
create records #records /record * allot

: record&gt; ( n -- a ) /record * records + ;
  \ Address _a_ of record _n_.

1887  0 record&gt; ~year !    \ store a year into record 0
      9 record&gt; ~month c@  \ fetch the month from record 9</pre>
</div>
</div>
<div class="paragraph">
<p>Note: <code>begin-structure</code> and <code><a href="#entry656E642D737472756374757265">end-structure</a></code> are not
necessary to create a structure. Only the initial offset 0
is needed at the start, and saving the structure size at
the end, e.g. using a <code><a href="#entry636F6E7374616E74">constant</a></code> or a <code><a href="#entry76616C7565">value</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0
  field:  ~the-cell
  cfield: ~the-char
constant /record</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (FACILITY EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E642D737472756374757265">end-structure</a></code>, <code><a href="#entry6669656C643A">field:</a></code>, <code><a href="#entry636669656C643A">cfield:</a></code>, <code><a href="#entry326669656C643A">2field:</a></code>,
<code><a href="#entry2B6669656C64">+field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62656E63682E-src-lib-time-fs"><a id="entry62656E63682E"></a>bench.</h3>
<div class="listingblock">
<div class="content">
<pre>bench. ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the timing result <em>d</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62656E63687B">bench{</a></code>, <code><a href="#entry7D62656E6368">}bench</a></code>, <code><a href="#entry7D62656E63682E">}bench.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62656E63686564-src-lib-time-fs"><a id="entry62656E63686564"></a>benched</h3>
<div class="listingblock">
<div class="content">
<pre>benched ( xt n -- d )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute <em>n</em> times the benchmark <em>xt</em> and return the timer
result <em>d</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62656E63687B">bench{</a></code>, <code><a href="#entry7D62656E6368">}bench</a></code>, <code><a href="#entry62656E636865642E">benched.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62656E636865642E-src-lib-time-fs"><a id="entry62656E636865642E"></a>benched.</h3>
<div class="listingblock">
<div class="content">
<pre>benched. ( xt n -- d )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute <em>n</em> times the benchmark <em>xt</em> and print the
result.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62656E63687B">bench{</a></code>, <code><a href="#entry7D62656E63682E">}bench.</a></code>, <code><a href="#entry62656E63686564">benched</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62656E63687B-src-lib-time-fs"><a id="entry62656E63687B"></a>bench{</h3>
<div class="listingblock">
<div class="content">
<pre>bench{ ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start timing, setting the system frames counter to zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7D62656E6368">}bench</a></code>, <code><a href="#entry72657365742D6672616D6573">reset-frames</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6265747765656E-src-lib-math-operators-1-cell-fs"><a id="entry6265747765656E"></a>between</h3>
<div class="listingblock">
<div class="content">
<pre>between ( n1|u1 n2|u2 n3|u3 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Perform a comparison of a test value <em>n1|u1</em> with a lower
limit <em>n2|u2</em> and an upper limit <em>n3|u3</em>, returning <em>true</em>
if either (<em>n2|u2</em> &#8656; <em>n3|u3</em> and (<em>n2|u2</em> &#8656; <em>n1|u1</em> and
<em>n1|u1</em> &#8656; <em>n3|u3</em>)) or (<em>n2|u2</em> &gt; <em>n3|u3</em> and (<em>n2|u2</em> &lt;
<em>n1|u1</em> or <em>n1|u1</em> &lt; <em>n3|u3</em>)) is true, returning <em>false</em>
otherwise.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry77697468696E">within</a></code>, <code><a href="#entry706F6C6172697479">polarity</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6265747765656E2D6F66-src-lib-flow-case-fs"><a id="entry6265747765656E2D6F66"></a>between-of</h3>
<div class="listingblock">
<div class="content">
<pre>between-of
  Compilation: ( -- of-sys )
  Run-time: ( x1 x2 x3 -- | x1 )</pre>
</div>
</div>
<div class="paragraph">
<p><code>between-of</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: test ( n -- )
  case
    1 of  ." one"  endof
    2 5 between-of  ." between two and five"  endof
    6 of  ." six"  endof
  endcase ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62696E2E-src-lib-display-numbers-fs"><a id="entry62696E2E"></a>bin.</h3>
<div class="listingblock">
<div class="content">
<pre>bin. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>n</em> as an unsigned binary number, followed by
one space.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6465632E">dec.</a></code>, <code><a href="#entry6865782E">hex.</a></code>, <code><a href="#entry752E">u.</a></code>, <code><a href="#entry2E">.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62696E3E-src-lib-display-numbers-fs"><a id="entry62696E3E"></a>bin&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>bin&gt; ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End a code zone where binary radix is the default, by
restoring the value of <code><a href="#entry62617365">base</a></code> from <code><a href="#entry6261736527">base'</a></code>.  The zone was
started by <code><a href="#entry3C62696E">&lt;bin</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62696E617279-src-lib-display-numbers-fs"><a id="entry62696E617279"></a>binary</h3>
<div class="listingblock">
<div class="content">
<pre>binary ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set contents of <code><a href="#entry62617365">base</a></code> to two.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646563696D616C">decimal</a></code>, <code><a href="#entry686578">hex</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6269742D6172726179-src-lib-data-array-bit-fs"><a id="entry6269742D6172726179"></a>bit-array</h3>
<div class="listingblock">
<div class="content">
<pre>bit-array ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a bit-array <em>name</em> to hold <em>n</em> bits, with the
execution semantics defined below. The bits are stored in
order: array bit 0 is bit 7 of the first byte of the array;
array bit 7 is bit 0 of the first byte of the array; array
bit 8 is bit 7 of the second byte of the array; array bit
15 is bit 0 of the second byte of the array, etc.</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;b ca )</p>
</div>
<div class="paragraph">
<p>Return bitmak <em>b</em> and address <em>ca</em> of bit <em>n</em> of the array.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry40626974">@bit</a></code>, <code><a href="#entry21626974">!bit</a></code>, <code><a href="#entry626974733E6279746573">bits&gt;bytes</a></code>, <code><a href="#entry6269746D61736B73">bitmasks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.bit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6269743E6D61736B-src-lib-memory-MISC-fs"><a id="entry6269743E6D61736B"></a>bit&gt;mask</h3>
<div class="listingblock">
<div class="content">
<pre>bit&gt;mask ( n -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert bit number <em>n</em> to a bitmask <em>b</em> with bit <em>n</em> set.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6269743F">bit?</a></code>, <code><a href="#entry7365742D626974">set-bit</a></code>, <code><a href="#entry72657365742D626974">reset-bit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6269743F-src-lib-memory-MISC-fs"><a id="entry6269743F"></a>bit?</h3>
<div class="listingblock">
<div class="content">
<pre>bit? ( b n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is bit <em>n</em> of <em>b</em> set?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6269743F">bit?</a></code>, <code><a href="#entry7365742D626974">set-bit</a></code>, <code><a href="#entry6269743E6D61736B">bit&gt;mask</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6269746D61736B73-src-lib-data-array-bit-fs"><a id="entry6269746D61736B73"></a>bitmasks</h3>
<div class="listingblock">
<div class="content">
<pre>bitmasks ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a table that holds the bitmasks for bits 0..7
as used by <code><a href="#entry6269742D6172726179">bit-array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.bit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62697473-src-lib-math-operators-1-cell-fs"><a id="entry62697473"></a>bits</h3>
<div class="listingblock">
<div class="content">
<pre>bits ( ca len -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Count the number <em>u</em> of bits that are set in memory zone
<em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706978656C73">pixels</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626974733E6279746573-src-lib-data-array-bit-fs"><a id="entry626974733E6279746573"></a>bits&gt;bytes</h3>
<div class="listingblock">
<div class="content">
<pre>bits&gt;bytes ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number of bytes <em>n2</em> needed to hold <em>n1</em> bits.
Used by <code><a href="#entry6269742D6172726179">bit-array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.bit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C-src-kernel-z80s"><a id="entry626C"></a>bl</h3>
<div class="listingblock">
<div class="content">
<pre>bl ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C61636B-src-lib-display-attributes-fs"><a id="entry626C61636B"></a>black</h3>
<div class="listingblock">
<div class="content">
<pre>black ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 0, the value that represents the
black color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry726564">red</a></code>, <code><a href="#entry6D6167656E7461">magenta</a></code>, <code><a href="#entry677265656E">green</a></code>,
<code><a href="#entry6379616E">cyan</a></code>, <code><a href="#entry79656C6C6F77">yellow</a></code>, <code><a href="#entry7768697465">white</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C61636B6F7574-src-lib-graphics-display-fs"><a id="entry626C61636B6F7574"></a>blackout</h3>
<div class="listingblock">
<div class="content">
<pre>blackout ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Erase the screen (bitmap and the attributes) with zeros.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666164652D646973706C6179">fade-display</a></code>, <code><a href="#entry636C73">cls</a></code>, <code><a href="#entry617474722D636C73">attr-cls</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.display.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C616E6B-src-kernel-z80s"><a id="entry626C616E6B"></a>blank</h3>
<div class="listingblock">
<div class="content">
<pre>blank ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, store the character value for
space in <em>len</em> consecutive character positions of memory
beginning at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (STRING), Forth-2012 (STRING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C656570-src-lib-sound-48-fs"><a id="entry626C656570"></a>bleep</h3>
<div class="listingblock">
<div class="content">
<pre>bleep ( duration pitch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Produce a tone in the internal beeper.</p>
</div>
<div class="paragraph">
<p><code>bleep</code> calls the
BEEPER ROM routine with <em>pitch</em> in the HL register and
<em>duration</em> in the DE register.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>(&#8230;&#8203;) but while there is greater flexibility than is
directly available in BASIC the system is more difficult to
use.  Precalculation is necessary to obtain musical scales,
on the following basis:</p>
</div>
<div class="paragraph">
<p>To generate a frequency of F Hz, <em>pitch</em> must be set to:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>pitch = (437500/F)-30</pre>
</div>
</div>
<div class="paragraph">
<p>Looking in the opposite direction:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>F = 437500/(pitch+30)</pre>
</div>
</div>
<div class="paragraph">
<p>The duration of the note is determined as a number of
cycles, so <em>duration</em> must be set to <code>F x T</code>, where <em>T</em> is
the duration in seconds.</p>
</div>
<div class="paragraph">
<p>A point to note is that if a very low frequency is
selected, with a high duration, the system may appear to
hang up, because the BEEPER ROM routine goes on and on&#8230;&#8203;;
whithout the user being able to use BREAK.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Don Thomasson&#44; Spectrum Advanced Forth (Melbourne House&#44; 1984)&#44; page 26
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Output a square wave of given duration and frequency
to the loudspeaker.</p>
</div>
<div class="paragraph">
<p>Enter with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DE = #cycles - 1</p>
</li>
<li>
<p>HL = tone period as described next</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The tone period is measured in T states and consists of
three parts: a coarse part (H register), a medium part
(bits 7..2 of L) and a fine part (bits 1..0 of L) which
contribute to the waveform timing as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>                         coarse    medium       fine
duration of low  = 118 + 1024*H + 16*(L&gt;&gt;2) + 4*(L&amp;$3)
duration of hi   = 118 + 1024*H + 16*(L&gt;&gt;2) + 4*(L&amp;$3)
Tp = tone period = 236 + 2048*H + 32*(L&gt;&gt;2) + 8*(L&amp;$3)
                 = 236 + 2048*H + 8*L = 236 + 8*HL</pre>
</div>
</div>
<div class="paragraph">
<p>As an example, to output five seconds of middle C (261.624
Hz):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Tone period = 1/261.624 = 3.822ms</p>
</li>
<li>
<p>Tone period in T-States = 3.822ms*fCPU = 13378
(where fCPU = clock frequency of the CPU = 3.5MHz)</p>
</li>
<li>
<p>Find H and L for desired tone period:
HL = (Tp - 236) / 8 = (13378 - 236) / 8 = 1643 =
$066B</p>
</li>
<li>
<p>Tone duration in cycles = 5s/3.822ms = 1308 cycles</p>
</li>
<li>
<p>DE = 1308 - 1 = $051B</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The resulting waveform has a duty ratio of exactly 50%.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Dr. Ian Logan&#44; Dr.  Frank O'Hara et al.<br>
<cite>ZX Spectrum disassembly</cite>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry687A3E626C656570">hz&gt;bleep</a></code>, <code><a href="#entry647A683E626C656570">dzh&gt;bleep</a></code>, <code><a href="#entry62656570">beep</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6B-src-kernel-z80s"><a id="entry626C6B"></a>blk</h3>
<div class="listingblock">
<div class="content">
<pre>blk ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the number of the disk block being
interpreted. A disk block holds 1024 bytes. One source screen
consists of one disk block.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B-src-kernel-z80s"><a id="entry626C6F636B"></a>block</h3>
<div class="listingblock">
<div class="content">
<pre>block ( u -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>If the block <em>u</em> is already in memory, leave the address <em>a</em>
of the first cell in the disk buffer for data storage.</p>
</div>
<div class="paragraph">
<p>If the block <em>u</em> is not already in memory, transfer it from
disk to the buffer.  If the block occupying that buffer has
been marked as updated, rewrite it to disk before block <em>u</em> is
read into the buffer.  Finally leave the address <em>a</em> of the
first cell in the disk buffer for data storage.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: block ( u -- a )
  dup buffer-block =
  if    drop
  else  save-buffers dup read-block disk-buffer !
  then  buffer-data ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry627566666572">buffer</a></code>, <code><a href="#entry6275666665722D626C6F636B">buffer-block</a></code>, <code><a href="#entry736176652D62756666657273">save-buffers</a></code>,
<code><a href="#entry726561642D626C6F636B">read-block</a></code>, <code><a href="#entry6469736B2D627566666572">disk-buffer</a></code>, <code><a href="#entry6275666665722D64617461">buffer-data</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B2D6368617273-src-lib-graphics-udg-fs"><a id="entry626C6F636B2D6368617273"></a>block-chars</h3>
<div class="listingblock">
<div class="content">
<pre>block-chars ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A phoney word used only to do <code>need block-chars</code>.  The
loading of the correspondent source block will define
characters 128..143 as block characters, with the shape
they have in Sinclair BASIC.  The current value of <code><a href="#entry6F732D756467">os-udg</a></code>
is used.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D626C6F636B2D6368617273">make-block-chars</a></code>, <code><a href="#entry7365742D756467">set-udg</a></code>, <code><a href="#entry75646721">udg!</a></code>,
<code><a href="#entry64656661756C742D7564672D6368617273">default-udg-chars</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B2D647269766521-src-lib-dos-COMMON-fs"><a id="entry626C6F636B2D647269766521"></a>block-drive!</h3>
<div class="listingblock">
<div class="content">
<pre>block-drive! ( c n -- ) &gt;block-drive c@ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Set drive <em>c</em> (DOS dependent) as block drive number <em>n</em> (0
index).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C6F636B2D647269766540">block-drive@</a></code>, <code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B2D647269766540-src-lib-dos-COMMON-fs"><a id="entry626C6F636B2D647269766540"></a>block-drive@</h3>
<div class="listingblock">
<div class="content">
<pre>block-drive@ ( n -- c ) &gt;block-drive c@ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Get drive <em>c</em> (DOS dependent) currently used as block drive
number <em>n</em> (0 index).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C6F636B2D647269766521">block-drive!</a></code>, <code><a href="#entry6765742D626C6F636B2D647269766573">get-block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B2D647269766573-src-lib-dos-COMMON-fs"><a id="entry626C6F636B2D647269766573"></a>block-drives</h3>
<div class="listingblock">
<div class="content">
<pre>block-drives ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p><em>ca</em> is the address of a character table that holds the
disk drives used as block drives. This table can be
configured manually or using <code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>The length of the table is <code><a href="#entry6D61782D647269766573">max-drives</a></code>.  The first element
of the table (offset 0) is the disk drive used for blocks
from number 0 to number <code>blocks/disk 1-</code>; the second element
of the table (offset 1) the disk drive used for blocks from
number <code><a href="#entry626C6F636B732F6469736B">blocks/disk</a></code> to number <code>blocks/disk 2 * 1-</code>; and so on.</p>
</div>
<div class="paragraph">
<p>The number of used block drives is hold in <code><a href="#entry23626C6F636B2D647269766573">#block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>The block ranges not associated to disk drives are marked
with $FF (the <code><a href="#entry6E6F742D626C6F636B2D6472697665">not-block-drive</a></code> optional constant is
provided for convenience), and all of them should be at the
end of the table.  In theory it&#8217;s possible to define gaps
in the whole range of blocks associated to disk drives, but
this would cause trouble with <code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code> and
<code><a href="#entry6765742D626C6F636B2D647269766573">get-block-drives</a></code>, which use <code><a href="#entry23626C6F636B2D647269766573">#block-drives</a></code> as the drives
count from the start of <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>The default configuration of <code>block-drives</code> is: use only
the first disk drive for blocks.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B2D696E6465786564-src-lib-blocks-indexer-fly-fs"><a id="entry626C6F636B2D696E6465786564"></a>block-indexed</h3>
<div class="listingblock">
<div class="content">
<pre>block-indexed ( block -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark block <em>block</em> as indexed.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.fly.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B2D736563746F72233E646F73-src-kernel-plus3dos-z80s"><a id="entry626C6F636B2D736563746F72233E646F73"></a>block-sector#&gt;dos</h3>
<div class="listingblock">
<div class="content">
<pre>block-sector#&gt;dos ( n -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the sequential disk sector <em>n</em> (0 index) of a block
disk to the disk sector id <em>x</em>, in the format required by
+3DOS: The high byte of <em>x</em> is the logical track (0 index);
its low byte is the logical sector (0 index).</p>
</div>
<div class="paragraph">
<p>In +3DOS the first sector of a block disk can not be used for
blocks.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: block-sector#&gt;dos ( n -- x ) 1+ sector#&gt;dos ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736563746F72732F747261636B">sectors/track</a></code>, <code><a href="#entry736563746F72233E646F73">sector#&gt;dos</a></code>, <code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B3E736F75726365-src-kernel-z80s"><a id="entry626C6F636B3E736F75726365"></a>block&gt;source</h3>
<div class="listingblock">
<div class="content">
<pre>block&gt;source ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set block <em>u</em> as the current source.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: block&gt;source ( u -- ) blk ! &gt;in off ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7465726D696E616C3E736F75726365">terminal&gt;source</a></code>, <code><a href="#entry626C6B">blk</a></code>, <code><a href="#entry3E696E">&gt;in</a></code>, <code><a href="#entry7365742D736F75726365">set-source</a></code>,
<code><a href="#entry6C696E65626C6F636B3E736F75726365">lineblock&gt;source</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B3F-src-kernel-z80s"><a id="entry626C6F636B3F"></a>block?</h3>
<div class="listingblock">
<div class="content">
<pre>block? ( u -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>u</em> a valid block number?</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C6F636B732F6469736B-src-kernel-z80s"><a id="entry626C6F636B732F6469736B"></a>blocks/disk</h3>
<div class="listingblock">
<div class="content">
<pre>blocks/disk ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant. Number of blocks per disk.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736563746F72732F626C6F636B">sectors/block</a></code>, <code><a href="#entry736563746F72732F747261636B">sectors/track</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626C7565-src-lib-display-attributes-fs"><a id="entry626C7565"></a>blue</h3>
<div class="listingblock">
<div class="content">
<pre>blue ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 1, the value that represents the
blue color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry726564">red</a></code>, <code><a href="#entry6D6167656E7461">magenta</a></code>, <code><a href="#entry677265656E">green</a></code>, <code><a href="#entry6379616E">cyan</a></code>,
<code><a href="#entry79656C6C6F77">yellow</a></code>, <code><a href="#entry7768697465">white</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626F64793E-src-lib-compilation-fs"><a id="entry626F64793E"></a>body&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>body&gt;  ( dfa -- xt )</pre>
</div>
</div>
<div class="paragraph">
<p><em>xt</em> is the execution token corresponding to the data-field
address <em>dfa</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E626F6479">&gt;body</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626F64793E6E616D65-src-lib-compilation-fs"><a id="entry626F64793E6E616D65"></a>body&gt;name</h3>
<div class="listingblock">
<div class="content">
<pre>body&gt;name ( pfa -- nt )</pre>
</div>
</div>
<div class="paragraph">
<p>Get <em>nt</em> from its <em>pfa</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E616D653E626F6479">name&gt;body</a></code>, <code><a href="#entry6C696E6B3E6E616D65">link&gt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626F6F74-src-kernel-z80s"><a id="entry626F6F74"></a>boot</h3>
<div class="listingblock">
<div class="content">
<pre>boot ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word executed by <code><a href="#entry61626F7274">abort</a></code>. By default it does
nothing. It is changed by <code><a href="#entry7475726E6B6579">turnkey</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6C64">cold</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626F72646572-src-kernel-z80s"><a id="entry626F72646572"></a>border</h3>
<div class="listingblock">
<div class="content">
<pre>border ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the border of the screen to color to <em>n</em>.  Only the 3
lower bits of <em>n</em> are used (for colors 0..7).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry626F756E6473-src-kernel-z80s"><a id="entry626F756E6473"></a>bounds</h3>
<div class="listingblock">
<div class="content">
<pre>bounds ( ca len -- ca2 ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the string identifier <em>ca len</em> to <em>ca2 ca</em>, being
<em>ca2</em> the address after the last character of the string.
<em>ca2 ca</em> are the parameters needed by <code><a href="#entry646F">do</a></code> or <code><a href="#entry3F646F">?do</a></code> to
traverse the string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p><code>bounds</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: bounds ( ca len -- ca2 ca ) over + swap ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F756E74">count</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6272616E6368-src-kernel-z80s"><a id="entry6272616E6368"></a>branch</h3>
<div class="listingblock">
<div class="content">
<pre>branch ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>The run-time procedure to branch unconditionally. The
following in-line address is copied to IP to branch forward or
backward.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (System Extension Word Set).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F6272616E6368">?branch</a></code>, <code><a href="#entry306272616E6368">0branch</a></code>, <code><a href="#entry2D6272616E6368">-branch</a></code>, <code><a href="#entry2B6272616E6368">+branch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry627265616B2D6B65793F-src-kernel-z80s"><a id="entry627265616B2D6B65793F"></a>break-key?</h3>
<div class="listingblock">
<div class="content">
<pre>break-key? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the break key pressed? <code>break-key?</code> is a deferred word
whose default action is <code><a href="#entry64656661756C742D627265616B2D6B65793F">default-break-key?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6272696768742D6D61736B-src-lib-display-attributes-fs"><a id="entry6272696768742D6D61736B"></a>bright-mask</h3>
<div class="listingblock">
<div class="content">
<pre>bright-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant. <em>b</em> is the bitmask of the bit used to indicate
the bright status in an attribute byte.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6272696768742D6D61736B">bright-mask</a></code>, <code><a href="#entry62726967687479">brighty</a></code>, <code><a href="#entry7365742D627269676874">set-bright</a></code>, <code><a href="#entry6174747221">attr!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6272696768742E-src-lib-display-attributes-fs"><a id="entry6272696768742E"></a>bright.</h3>
<div class="listingblock">
<div class="content">
<pre>bright. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set bright <em>n</em> by printing the corresponding control
characters.  If <em>n</em> is zero, turn bright off; if <em>n</em> is one,
turn bright on; if <em>n</em> is eight, set transparent bright. Other
values of <em>n</em> are converted as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>2, 4 and 6 are converted to 0.</p>
</li>
<li>
<p>3, 5 and 7 are converted to 1.</p>
</li>
<li>
<p>Values greater than 8 or less than 0 are converted to 8.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>bright.</code> is much slower than <code><a href="#entry7365742D627269676874">set-bright</a></code> or <code><a href="#entry6174747221">attr!</a></code>,
but it can handle pseudo-color 8 (transparent), setting the
corresponding system variables accordingly.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666C6173682E">flash.</a></code>, <code><a href="#entry28302D312D382D636F6C6F722E">(0-1-8-color.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry62726967687479-src-lib-display-attributes-fs"><a id="entry62726967687479"></a>brighty</h3>
<div class="listingblock">
<div class="content">
<pre>brighty ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert attribute <em>b1</em> to its brighty equivalent <em>b2</em>.</p>
</div>
<div class="paragraph">
<p><code>brighty</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: brighty ( b1 -- b2 ) bright-mask or ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706170657279">papery</a></code>, <code><a href="#entry666C61736879">flashy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry627566666572-src-kernel-z80s"><a id="entry627566666572"></a>buffer</h3>
<div class="listingblock">
<div class="content">
<pre>buffer ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Assign the block buffer to block <em>n</em>.   If the contents of the
buffer were marked as updated, it is written to the disk.  The
block <em>n</em> is not read from the disk.  The address <em>a</em> left on
stack is the first cell in the buffer for data storage.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: buffer ( n -- a )
  dup buffer-block =
  if drop else free-buffer then buffer-data ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C6F636B">block</a></code>, <code><a href="#entry6275666665722D626C6F636B">buffer-block</a></code>, <code><a href="#entry667265652D627566666572">free-buffer</a></code>,
<code><a href="#entry6275666665722D64617461">buffer-data</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6275666665722D626C6F636B-src-kernel-z80s"><a id="entry6275666665722D626C6F636B"></a>buffer-block</h3>
<div class="listingblock">
<div class="content">
<pre>buffer-block ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the block <em>n</em> associated with the disk buffer.</p>
</div>
<hr>
<div class="paragraph">
<p>: buffer-block (&#8201;&#8212;&#8201;n )
  buffer-id $7FFF literal and ;
---</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6275666665722D6964">buffer-id</a></code>, <code><a href="#entry627566666572">buffer</a></code>, <code><a href="#entry626C6F636B">block</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6275666665722D64617461-src-kernel-z80s"><a id="entry6275666665722D64617461"></a>buffer-data</h3>
<div class="listingblock">
<div class="content">
<pre>buffer-data ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the disk buffer contents.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6275666665722D6964-src-kernel-z80s"><a id="entry6275666665722D6964"></a>buffer-id</h3>
<div class="listingblock">
<div class="content">
<pre>buffer-id ( -- x )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x</em> is the identifier of the disk buffer.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6469736B2D627566666572">disk-buffer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6275666665723A-src-lib-data-MISC-fs"><a id="entry6275666665723A"></a>buffer:</h3>
<div class="listingblock">
<div class="content">
<pre>buffer: ( u "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a  definition for <em>name</em>, with  the execution
semantics defined below. Reserve  <em>u</em> address units of data
space at an aligned address.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry6275666665723A">buffer:</a></code> provides a means of defining an uninitialized
buffer.</p>
</div>
<div class="paragraph">
<p>Execution of <em>name</em>:</p>
</div>
<div class="paragraph">
<p>name (&#8201;&#8212;&#8201;a )</p>
</div>
<div class="paragraph">
<p><em>a</em> is the address of the  space reserved by <code><a href="#entry6275666665723A">buffer:</a></code> when
it  defined <em>name</em>. The program is responsible  for
initializing the contents.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry637265617465">create</a></code>, <code><a href="#entry616C6C6F74">allot</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry627965-src-kernel-z80s"><a id="entry627965"></a>bye</h3>
<div class="listingblock">
<div class="content">
<pre>bye ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry627974653F-src-kernel-z80s"><a id="entry627974653F"></a>byte?</h3>
<div class="listingblock">
<div class="content">
<pre>byte? ( x -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>x</em> an 8-bit number?</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63-src-lib-editor-specforth-fs"><a id="entry63"></a>c</h3>
<div class="listingblock">
<div class="content">
<pre>c ( "ccc&lt;eol&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy in "ccc" to the cursor line at the cursor position.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6321-src-kernel-z80s"><a id="entry6321"></a>c!</h3>
<div class="listingblock">
<div class="content">
<pre>c! ( c ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c</em> at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry21">!</a></code>, <code><a href="#entry3221">2!</a></code>, <code><a href="#entry6340">c@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63213E-src-lib-data-store-to-fs"><a id="entry63213E"></a>c!&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>c!&gt;
  Interpretation: ( c "name" -- )
  Compilation:    ( "name" -- )
  Run-time:       ( c -- )
"c-store-to"</pre>
</div>
</div>
<div class="paragraph">
<p>A simpler and faster alternative to standard <code><a href="#entry746F">to</a></code> and
<code><a href="#entry76616C7565">value</a></code>.</p>
</div>
<div class="paragraph">
<p><code>c!&gt;</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Interpretation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is the name of a word created by
<code><a href="#entry63636F6E7374616E74">cconstant</a></code> or <code><a href="#entry63636F6E7374">cconst</a></code>, and make <em>c</em> its value.</p>
</div>
<div class="paragraph">
<p>Compilation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is a word created by <code><a href="#entry63636F6E7374616E74">cconstant</a></code> or
<code><a href="#entry63636F6E7374">cconst</a></code>, and append the run-time semantics given below to
the current definition.</p>
</div>
<div class="paragraph">
<p>Run-time:</p>
</div>
<div class="paragraph">
<p>Make <em>c</em> the current value of the character constant
<em>name</em>.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth&#8217;s <code>!&gt;</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry213E">!&gt;</a></code>, <code><a href="#entry32213E">2!&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.store-to.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry632161-src-lib-memory-address_register-fs"><a id="entry632161"></a>c!a</h3>
<div class="listingblock">
<div class="content">
<pre>c!a ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c</em> at the address register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry634061">c@a</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6321612B-src-lib-memory-address_register-fs"><a id="entry6321612B"></a>c!a+</h3>
<div class="listingblock">
<div class="content">
<pre>c!a+ ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c</em> at the address register and increment the address
register by one address unit.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry6340612B">c@a+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry632162616E6B-src-lib-memory-far-fs"><a id="entry632162616E6B"></a>c!bank</h3>
<div class="listingblock">
<div class="content">
<pre>c!bank ( c ca n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c</em> into address <em>ca</em> ($C000..$FFFF) of bank <em>n</em>
(0..7).</p>
</div>
<div class="paragraph">
<p><code>c!bank</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: c!bank ( c ca n -- ) bank c! default-bank ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry632165786368616E6765-src-lib-memory-MISC-fs"><a id="entry632165786368616E6765"></a>c!exchange</h3>
<div class="listingblock">
<div class="content">
<pre>c!exchange ( c1 ca -- c2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c1</em> into <em>ca</em> and return its previous contents <em>c2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2165786368616E6765">!exchange</a></code>, <code><a href="#entry6365786368616E6765">cexchange</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6322-src-lib-strings-c-quote-fs"><a id="entry6322"></a>c"</h3>
<div class="listingblock">
<div class="content">
<pre>c" ( Compilation: "ccc&lt;quote&gt;" -- ) ( Run-time: -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse a string delimited by double quotes and
compile it into the current definition.
At run-time the string will be returned as a
counted string <em>ca</em>.</p>
</div>
<div class="paragraph">
<p><code>c"</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63736C69746572616C">csliteral</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.c-quote.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6323-src-lib-math-number-prefix-fs"><a id="entry6323"></a>c#</h3>
<div class="listingblock">
<div class="content">
<pre>c# ( "name" -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em> and return the code <em>c</em> of the its first
character.</p>
</div>
<div class="paragraph">
<p>This is a short and state-smart alternative to the standard
words <code><a href="#entry63686172">char</a></code> and <code><a href="#entry5B636861725D">[char]</a></code>.</p>
</div>
<div class="paragraph">
<p><code>c#</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.number.prefix.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry632B21-src-lib-memory-MISC-fs"><a id="entry632B21"></a>c+!</h3>
<div class="listingblock">
<div class="content">
<pre>c+! ( c ca - )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>c</em> to the char at <em>ca</em></p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry632D21">c-!</a></code>, <code><a href="#entry63312B21">c1+!</a></code>, <code><a href="#entry2B21">+!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry632C-src-kernel-z80s"><a id="entry632C"></a>c,</h3>
<div class="listingblock">
<div class="content">
<pre>c, ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry632D21-src-lib-memory-MISC-fs"><a id="entry632D21"></a>c-!</h3>
<div class="listingblock">
<div class="content">
<pre>c-! ( c ca - )</pre>
</div>
</div>
<div class="paragraph">
<p>Subtract <em>c</em> from the char at <em>ca</em></p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry632B21">c+!</a></code>, <code><a href="#entry63312D21">c1-!</a></code>, <code><a href="#entry2D21">-!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry632F6C-src-kernel-z80s"><a id="entry632F6C"></a>c/l</h3>
<div class="listingblock">
<div class="content">
<pre>c/l ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63312B21-src-lib-memory-MISC-fs"><a id="entry63312B21"></a>c1+!</h3>
<div class="listingblock">
<div class="content">
<pre>c1+! ( ca - )</pre>
</div>
</div>
<div class="paragraph">
<p>Increment the char at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63312D21">c1-!</a></code>, <code><a href="#entry632B21">c+!</a></code>, <code><a href="#entry312B21">1+!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63312D21-src-lib-memory-MISC-fs"><a id="entry63312D21"></a>c1-!</h3>
<div class="listingblock">
<div class="content">
<pre>c1-! ( ca - )</pre>
</div>
</div>
<div class="paragraph">
<p>Decrement the char at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63312B21">c1+!</a></code>, <code><a href="#entry632D21">c-!</a></code>, <code><a href="#entry312D21">1-!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry633E62737472696E67-src-lib-strings-MISC-fs"><a id="entry633E62737472696E67"></a>c&gt;bstring</h3>
<div class="listingblock">
<div class="content">
<pre>c&gt;bstring ( c -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>c</em> to a 1-char binary string <em>ca len</em> in <code><a href="#entry706164">pad</a></code>,
<em>ca len</em> contains <em>c</em> "as is", as stored in memory.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E62737472696E67">&gt;bstring</a></code>, <code><a href="#entry323E62737472696E67">2&gt;bstring</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry633F-src-lib-assembler-fs"><a id="entry633F"></a>c?</h3>
<div class="listingblock">
<div class="content">
<pre>c? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7A3F">z?</a></code>, <code><a href="#entry6E7A3F">nz?</a></code>, <code><a href="#entry6E633F">nc?</a></code>, <code><a href="#entry706F3F">po?</a></code>, <code><a href="#entry70653F">pe?</a></code>, <code><a href="#entry703F">p?</a></code>, <code><a href="#entry6D3F">m?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6340-src-kernel-z80s"><a id="entry6340"></a>c@</h3>
<div class="listingblock">
<div class="content">
<pre>c@ ( ca -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the character <em>c</em> stored at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry40">@</a></code>, <code><a href="#entry3240">2@</a></code>, <code><a href="#entry6321">c!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63402B-src-lib-memory-MISC-fs"><a id="entry63402B"></a>c@+</h3>
<div class="listingblock">
<div class="content">
<pre>c@+ ( ca -- ca' c )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the character <em>c</em> at <em>ca</em>. Return <em>ca'</em>, which is
<em>ca</em> incremented by one character.  This is handy for
stepping through character arrays.</p>
</div>
<div class="paragraph">
<p>This word is an <code><a href="#entry616C696173">alias</a></code> of <code><a href="#entry636F756E74">count</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6340">c@</a></code>, <code><a href="#entry32402B">2@+</a></code>, <code><a href="#entry402B">@+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry634061-src-lib-memory-address_register-fs"><a id="entry634061"></a>c@a</h3>
<div class="listingblock">
<div class="content">
<pre>c@a ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>c</em> at the address register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry632161">c!a</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6340612B-src-lib-memory-address_register-fs"><a id="entry6340612B"></a>c@a+</h3>
<div class="listingblock">
<div class="content">
<pre>c@a+ ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>c</em> at the address register and increment the address
register by one address unit.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61">a</a></code>, <code><a href="#entry6321612B">c!a+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.address_register.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6340616E64-src-lib-memory-MISC-fs"><a id="entry6340616E64"></a>c@and</h3>
<div class="listingblock">
<div class="content">
<pre>c@and ( b1 ca -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the caracter at <em>ca</em> and do a bit-by-bit logical
<code><a href="#entry616E64">and</a></code> of it with <em>b1</em>, returning the result <em>b2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6340616E643F">c@and?</a></code>, <code><a href="#entry63746F67676C65">ctoggle</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6340616E643F-src-kernel-z80s"><a id="entry6340616E643F"></a>c@and?</h3>
<div class="listingblock">
<div class="content">
<pre>c@and? ( b ca -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the caracter at <em>ca</em> and do a bit-by-bit logical "and"
of it with <em>b</em>. Return <em>false</em> if the result is zero, else
<em>true</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6340616E64">c@and</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry634062616E6B-src-lib-memory-far-fs"><a id="entry634062616E6B"></a>c@bank</h3>
<div class="listingblock">
<div class="content">
<pre>c@bank ( ca n -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>c</em> from address <em>ca</em> ($C000..$FFFF) of bank <em>n</em> (0..7).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: c@bank ( ca n -- c )
  bank c@ default-bank ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63616C63756C61746F722D636F6D6D616E64-src-lib-math-floating_point-rom-fs"><a id="entry63616C63756C61746F722D636F6D6D616E64"></a>calculator-command</h3>
<div class="listingblock">
<div class="content">
<pre>calculator-command ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the assembler instructions needed to execute the
<em>b</em> command of the ROM calculator.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63616C63756C61746F722D636F6D6D616E643E666C6167-src-lib-math-floating_point-rom-fs"><a id="entry63616C63756C61746F722D636F6D6D616E643E666C6167"></a>calculator-command&gt;flag</h3>
<div class="listingblock">
<div class="content">
<pre>calculator-command&gt;flag ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the assembler instructions needed to execute the
<em>b</em> command of the ROM calculator and to return the
floating-point result as a flag on the data stack.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63616C6C-src-lib-flow-MISC-fs"><a id="entry63616C6C"></a>call</h3>
<div class="listingblock">
<div class="content">
<pre>call ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Call a machine code subroutine at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63616C6C2C-src-kernel-z80s"><a id="entry63616C6C2C"></a>call,</h3>
<div class="listingblock">
<div class="content">
<pre>call, ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the Z80 opcode to call <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: call, ( a -- ) $CD c, , ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6A702C">jp,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63616C6C2D78742C-src-lib-assembler-fs"><a id="entry63616C6C2D78742C"></a>call-xt,</h3>
<div class="listingblock">
<div class="content">
<pre>call-xt, ( xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile a Z80 call to <em>xt</em>, by compiling the Z80
instruction that loads the HL register with <em>xt</em>, and then
executing <code><a href="#entry657865637574652D686C2C">execute-hl,</a></code> to compile the rest of the
necessary code.</p>
</div>
<div class="paragraph">
<p><code>call-xt,</code> is the low-level equivalent of <code><a href="#entry65786563757465">execute</a></code>: it&#8217;s
used to call a colon word from a code word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636170736C6F636B-src-lib-keyboard-caps_lock-fs"><a id="entry636170736C6F636B"></a>capslock</h3>
<div class="listingblock">
<div class="content">
<pre>capslock ( -- b ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>ca</em> of system variable FLAGS2 and bitmask
<em>b</em> of the bit that controls the status of capslock.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D636170736C6F636B">set-capslock</a></code>, <code><a href="#entry756E7365742D636170736C6F636B">unset-capslock</a></code>, <code><a href="#entry636170736C6F636B3F">capslock?</a></code>,
<code><a href="#entry6F732D666C61677332">os-flags2</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.caps_lock.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636170736C6F636B3F-src-lib-keyboard-caps_lock-fs"><a id="entry636170736C6F636B3F"></a>capslock?</h3>
<div class="listingblock">
<div class="content">
<pre>capslock? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is capslock set?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D636170736C6F636B">set-capslock</a></code>, <code><a href="#entry756E7365742D636170736C6F636B">unset-capslock</a></code>, <code><a href="#entry746F67676C652D636170736C6F636B">toggle-capslock</a></code>,
<code><a href="#entry636170736C6F636B">capslock</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.caps_lock.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63617365-src-lib-flow-case-fs"><a id="entry63617365"></a>case</h3>
<div class="listingblock">
<div class="content">
<pre>case  ( -- 0 )</pre>
</div>
</div>
<div class="paragraph">
<p><code>case</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636173652D73656E736974697665-src-kernel-z80s"><a id="entry636173652D73656E736974697665"></a>case-sensitive</h3>
<div class="listingblock">
<div class="content">
<pre>case-sensitive ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds a flag that turns case-sensitive mode on and
off.</p>
</div>
<div class="paragraph">
<p>When the contents of <code><a href="#entry636173652D73656E736974697665">case-sensitive</a></code> are zero, case-sensitive mode
is off (this is the default): the name of new words defined will be
stored in lowercase into the dictionary; and any name
searched for in the dictionary will be converted to lowercase first
(the conversion is done at low level, not affecting the name string
passed as parameter).</p>
</div>
<div class="paragraph">
<p>When the contents of <code><a href="#entry636173652D73656E736974697665">case-sensitive</a></code> are non-zero, case-sensitive
mode is on: the name of new words defined will be stored as they are
parsed from the input stream, without modification; and any name
searched for in the dictionary will not be modified, therefore it
will be found only if it&#8217;s identical to the name stored in the
definition header.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Words that are defined when case-sensitive mode is on, and
that have uppercase characters in their names, will not be found
when case-sensitive mode is off.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636173652D73656E7369746976652D6573632D6368617273-src-lib-strings-escaped-fs"><a id="entry636173652D73656E7369746976652D6573632D6368617273"></a>case-sensitive-esc-chars</h3>
<div class="listingblock">
<div class="content">
<pre>case-sensitive-esc-chars ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds a flag that turns case-sensitive mode
on and off only during the parsing of escaped strings, e.g.
<code><a href="#entry735C22">s\"</a></code> and <code><a href="#entry2E5C22">.\"</a></code>.  The contents of this variable are
temporarily stored into <code><a href="#entry636173652D73656E736974697665">case-sensitive</a></code> by
<code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code>. The current contents of
<code><a href="#entry636173652D73656E736974697665">case-sensitive</a></code> are preserved and restored at the end.</p>
</div>
<div class="paragraph">
<p>When the contents of <code><a href="#entry636173652D73656E736974697665">case-sensitive</a></code> are non-zero, escaped
characters case-sensitive mode is on (this is the default):
any escaped character searched for in the configured word
list will not be modified, therefore it will be found only
if it&#8217;s identical to the name stored in the definition
header.</p>
</div>
<div class="paragraph">
<p>When the contents of <code><a href="#entry636173652D73656E7369746976652D6573632D6368617273">case-sensitive-esc-chars</a></code> are zero,
escaped characters case-sensitive mode is off: any escaped
character searched for in the correspondent word list will
be converted to lowercase first (the conversion is done at
low level, not affecting the name string passed as
parameter).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In order to create upper-case case-sensitive escaped
chars, their correspondent words must be created when
<code><a href="#entry636173652D73656E736974697665">case-sensitive</a></code> is on.
See the words defined in <code><a href="#entry6573632D7564672D63686172732D776F72646C697374">esc-udg-chars-wordlist</a></code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636173653E-src-lib-flow-cases-colon-fs"><a id="entry636173653E"></a>case&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>case&gt; ( orig counter selector "name" -- orig counter' )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile an option into a <code><a href="#entry63617365733A">cases:</a></code> structure. The given
<em>selector</em> will cause the word "name" to be executed.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry63617365733A">cases:</a></code> for an usage example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.cases-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63617365733A-src-lib-flow-cases-colon-fs"><a id="entry63617365733A"></a>cases:</h3>
<div class="listingblock">
<div class="content">
<pre>cases: ( "name" -- orig 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a <code><a href="#entry63617365733A">cases:</a></code> structure "name", built as an array of
pairs (value and associated vector).</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: say10      ." dek" ;
: say100     ." cent" ;
: say1000    ." mil" ;
: say-other  ." alia" ;

cases: say ( n -- )
    10 case&gt;      say10
   100 case&gt;      say100
  1000 case&gt;      say1000
       othercase&gt; say-other

10 say  100 say  1000 say  1001 say</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.cases-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6361742D656E7472696573-src-lib-dos-plus3dos-fs"><a id="entry6361742D656E7472696573"></a>cat-entries</h3>
<div class="listingblock">
<div class="content">
<pre>cat-entries ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the number of entries of
the buffer used by <code><a href="#entry636174">cat</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F6361742D656E747279">/cat-entry</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6361746368-src-lib-exception-fs"><a id="entry6361746368"></a>catch</h3>
<div class="listingblock">
<div class="content">
<pre>catch ( xt -- 0 | err# )</pre>
</div>
</div>
<div class="paragraph">
<p>Push an exception frame on the exception stack and then
execute <em>xt</em> (as with <code><a href="#entry65786563757465">execute</a></code>) in such a way that control
can be transferred to a point just after <code><a href="#entry6361746368">catch</a></code> if <code><a href="#entry7468726F77">throw</a></code>
is executed during the execution of <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>If the execution of <em>xt</em> completes normally (i.e., the
exception frame pushed by this <code><a href="#entry6361746368">catch</a></code> is not popped by an
execution of <code><a href="#entry7468726F77">throw</a></code>) pop the exception frame and return
zero on top of the data stack, above whatever stack items
would have been returned by the execution of <em>xt</em>.
Otherwise, the remainder of the execution semantics are
given by <code><a href="#entry7468726F77">throw</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (EXCEPTION), Forth-2012 (EXCEPTION).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63617463686572-src-kernel-z80s"><a id="entry63617463686572"></a>catcher</h3>
<div class="listingblock">
<div class="content">
<pre>catcher ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A user variable that holds the return stack pointer for error
handling. Used by <code><a href="#entry7468726F77">throw</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6361746F-src-lib-data-array-value-fs"><a id="entry6361746F"></a>cato</h3>
<div class="listingblock">
<div class="content">
<pre>cato ( c n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c</em> into element <em>n</em> of 1-dimension character
values array <em>name</em>.</p>
</div>
<div class="paragraph">
<p><code>cato</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636176616C7565">cavalue</a></code>, <code><a href="#entry286361746F29">(cato)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636176616C7565-src-lib-data-array-value-fs"><a id="entry636176616C7565"></a>cavalue</h3>
<div class="listingblock">
<div class="content">
<pre>cavalue ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a 1-dimension character values array <em>name</em> with
<em>n</em> elements and the execution semantics defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;c )</p>
</div>
<div class="paragraph">
<p>Return contents <em>c</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6361746F">cato</a></code>, <code><a href="#entry2B6361746F">+cato</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63617661726961626C65-src-lib-data-array-variable-fs"><a id="entry63617661726961626C65"></a>cavariable</h3>
<div class="listingblock">
<div class="content">
<pre>cavariable ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a 1-dimension character variables array <em>name</em> with
<em>n</em> elements and the execution semantics defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;ca )</p>
</div>
<div class="paragraph">
<p>Return address <em>ca</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617661726961626C65">avariable</a></code>, <code><a href="#entry32617661726961626C65">2avariable</a></code>, <code><a href="#entry66617263617661726961626C65">farcavariable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.variable.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6363617365-src-lib-flow-ccase-fs"><a id="entry6363617365"></a>ccase</h3>
<div class="listingblock">
<div class="content">
<pre>ccase
  Compilation: ( C: -- orig1 orig2 )
  Run-time: ( c ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a <code>ccase</code>..<code><a href="#entry656E646363617365">endccase</a></code> structure. If <em>c</em> is in the
string <em>ca len</em>, execute the n-th word compiled after
<code>ccase</code>, where <em>n</em> is the position of the first <em>c</em> in the
string (0..len-1) plus 1, then continue after <code><a href="#entry656E646363617365">endccase</a></code>.
If <em>c</em> is not in <em>ca len</em>, execute the word compiled right
after <code><a href="#entry6363617365">ccase</a></code>, then continue after <code><a href="#entry656E646363617365">endccase</a></code>.</p>
</div>
<div class="paragraph">
<p><code>ccase</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: .a    ( -- ) ." Letter A" ;
: .b    ( -- ) ." Letter B" ;
: .c    ( -- ) ." Letter C" ;
: .nope ( -- ) ." Nope!" ;

: letter ( c -- )
  s" abc" ccase  .a .b .c .nope  endccase
  ."  The End" cr ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636361736530">ccase0</a></code>, <code><a href="#entry3F6363617365">?ccase</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636361736530-src-lib-flow-ccase-fs"><a id="entry636361736530"></a>ccase0</h3>
<div class="listingblock">
<div class="content">
<pre>ccase0 Compilation: ( C: -- orig ) Run-time: ( c ca len --
)</pre>
</div>
</div>
<div class="paragraph">
<p>Start a <code>ccase0</code>..<code><a href="#entry656E646363617365">endccase</a></code> structure. If <em>c</em> is in the
string <em>ca len</em>, execute the n-th word compiled after
<code>ccase0</code>, where <em>n</em> is the position of the first <em>c</em> in
the string (0..len-1) plus 1, then continue after
<code>endccase0</code>.  If <em>c</em> is not in <em>ca len</em>, execute the word
compiled right after <code>ccase0</code>, then continue after
<code><a href="#entry656E64636361736530">endccase0</a></code>.</p>
</div>
<div class="paragraph">
<p><code>ccase0</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: .a    ( -- ) ." Letter A" ;
: .b    ( -- ) ." Letter B" ;
: .c    ( -- ) ." Letter C" ;
: .nope ( -- ) ." Nope!" ;

: letter ( c -- )
  s" abc" ccase0  .nope .a .b .c  endccase0
  ."  The End" cr ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6363617365">ccase</a></code> <code><a href="#entry3F6363617365">?ccase</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63636F6E7374-src-lib-data-const-fs"><a id="entry63636F6E7374"></a>cconst</h3>
<div class="listingblock">
<div class="content">
<pre>cconst ( c "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a character fast constant <em>name</em>, with value <em>c</em>.</p>
</div>
<div class="paragraph">
<p>A character fast constant works like an ordinary
<code><a href="#entry63636F6E7374616E74">cconstant</a></code>, except its value is compiled as a literal.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth&#8217;s <code><a href="#entry636F6E7374">const</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B63636F6E73745D">[cconst]</a></code>, <code><a href="#entry636F6E7374">const</a></code>, <code><a href="#entry32636F6E7374">2const</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.const.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63636F6E7374616E74-src-kernel-z80s"><a id="entry63636F6E7374616E74"></a>cconstant</h3>
<div class="listingblock">
<div class="content">
<pre>cconstant ( b "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656C6C-src-kernel-z80s"><a id="entry63656C6C"></a>cell</h3>
<div class="listingblock">
<div class="content">
<pre>cell ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the size in address units of one cell. <code>cell</code> returns
2 in Solo Forth.</p>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63656C6C73">cells</a></code>, <code><a href="#entry63656C6C2B">cell+</a></code>, <code><a href="#entry63656C6C2D">cell-</a></code>, <code><a href="#entry63656C6C2F">cell/</a></code>, <code><a href="#entry63656C6C2D62697473">cell-bits</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656C6C2B-src-kernel-z80s"><a id="entry63656C6C2B"></a>cell+</h3>
<div class="listingblock">
<div class="content">
<pre>cell+ ( a1 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Add the size in address units of a cell to <em>a1</em>, giving <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63656C6C">cell</a></code>, <code><a href="#entry63656C6C73">cells</a></code>, <code><a href="#entry63656C6C2D">cell-</a></code>, <code><a href="#entry63656C6C2F">cell/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656C6C2D-src-kernel-z80s"><a id="entry63656C6C2D"></a>cell-</h3>
<div class="listingblock">
<div class="content">
<pre>cell- ( a1 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Subtract the size in address units of a cell from <em>a1</em>, giving
<em>a2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63656C6C">cell</a></code>, <code><a href="#entry63656C6C2B">cell+</a></code>, <code><a href="#entry63656C6C73">cells</a></code>, <code><a href="#entry63656C6C2F">cell/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656C6C2D62697473-src-lib-math-number-conversion-fs"><a id="entry63656C6C2D62697473"></a>cell-bits</h3>
<div class="listingblock">
<div class="content">
<pre>cell-bits  ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant. <em>n</em> is the number of bits in a cell.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63656C6C">cell</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.number.conversion.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656C6C2F-src-lib-math-operators-1-cell-fs"><a id="entry63656C6C2F"></a>cell/</h3>
<div class="listingblock">
<div class="content">
<pre>cell/ ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by the size of a cell, returning the result
<em>n2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63656C6C">cell</a></code>, <code><a href="#entry63656C6C73">cells</a></code>, <code><a href="#entry63656C6C2B">cell+</a></code>, <code><a href="#entry63656C6C2D">cell-</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656C6C73-src-kernel-z80s"><a id="entry63656C6C73"></a>cells</h3>
<div class="listingblock">
<div class="content">
<pre>cells ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n2</em> is the size in address units of <em>n1</em> cells.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63656C6C">cell</a></code>, <code><a href="#entry63656C6C2B">cell+</a></code>, <code><a href="#entry63656C6C2D">cell-</a></code>, <code><a href="#entry63656C6C2F">cell/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656E7472793A-src-lib-data-associative-list-fs"><a id="entry63656E7472793A"></a>centry:</h3>
<div class="listingblock">
<div class="content">
<pre>centry: ( c wid "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a character entry "name" in associative list
<em>wid</em>, with value <em>c</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63656E756D-src-lib-data-MISC-fs"><a id="entry63656E756D"></a>cenum</h3>
<div class="listingblock">
<div class="content">
<pre>cenum ( n "name" -- n+1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a cconstant <em>name</em> with value <em>n</em> and return <em>n+1</em>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0 cenum first
  cenum second
  cenum third
  cenum fourth
drop</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E756D">enum</a></code>, <code><a href="#entry656E756D63656C6C">enumcell</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6365786368616E6765-src-lib-memory-MISC-fs"><a id="entry6365786368616E6765"></a>cexchange</h3>
<div class="listingblock">
<div class="content">
<pre>cexchange ( ca1 ca2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Exchange the characters stored in <em>ca1</em> and <em>ca2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry65786368616E6765">exchange</a></code>, <code><a href="#entry632165786368616E6765">c!exchange</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636669656C643A-src-lib-data-begin-structure-fs"><a id="entry636669656C643A"></a>cfield:</h3>
<div class="listingblock">
<div class="content">
<pre>cfield: ( n1 "name" -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  <em>offset</em>  is the first character aligned
value greater than or equal to <em>n1</em>. <em>n2</em> = <em>offset</em> + 1
character.</p>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> with the execution semantics
defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution: <code>( a1&#8201;&#8212;&#8201;a2 )</code></p>
</div>
<div class="paragraph">
<p>Add the <em>offset</em> calculated during the compile-time action
to <em>a1</em> giving the address <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (FACILITY EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626567696E2D737472756374757265">begin-structure</a></code>, <code><a href="#entry2B6669656C64">+field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6368616E-src-kernel-z80s"><a id="entry6368616E"></a>chan</h3>
<div class="listingblock">
<div class="content">
<pre>chan ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Open channel <em>n</em> for output.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646973706C6179">display</a></code>, <code><a href="#entry7072696E746572">printer</a></code>, <code><a href="#entry7072696E74696E67">printing</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6368616E67652D6F6374617665-src-lib-sound-48-fs"><a id="entry6368616E67652D6F6374617665"></a>change-octave</h3>
<div class="listingblock">
<div class="content">
<pre>change-octave ( u n -- u' )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the note frequency <em>u</em> of the middle octave (octave
zero) to its corresponding note frequency <em>u'</em> in octave
<em>n</em>.  If <em>n</em> is zero, <em>u'</em> equals <em>u</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F63746176652D6368616E676572">octave-changer</a></code>, <code><a href="#entry626565703E64687A">beep&gt;dhz</a></code>, <code><a href="#entry6D6964646C652D6F6374617665">middle-octave</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63686172-src-lib-parsing-fs"><a id="entry63686172"></a>char</h3>
<div class="listingblock">
<div class="content">
<pre>char ( "name" -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em> and put the value of its first character on
the stack.</p>
</div>
<div class="paragraph">
<p>Solo Forth recognizes the standard notation for
characters, so <code>char</code> is not needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>'x' emit .(  equals ) char x emit</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B636861725D">[char]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861722B-src-kernel-z80s"><a id="entry636861722B"></a>char+</h3>
<div class="listingblock">
<div class="content">
<pre>char+ ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861722D-src-kernel-z80s"><a id="entry636861722D"></a>char-</h3>
<div class="listingblock">
<div class="content">
<pre>char- ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861722D696E2D737472696E673F-src-lib-strings-MISC-fs"><a id="entry636861722D696E2D737472696E673F"></a>char-in-string?</h3>
<div class="listingblock">
<div class="content">
<pre>char-in-string? ( ca len c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is char <em>c</em> in string <em>ca len</em>?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636861722D706F736974696F6E3F">char-position?</a></code>, <code><a href="#entry636F6E7461696E73">contains</a></code>, <code><a href="#entry636F6D70617265">compare</a></code>,
<code><a href="#entry236368617273">#chars</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861722D706F736974696F6E3F-src-lib-strings-MISC-fs"><a id="entry636861722D706F736974696F6E3F"></a>char-position?</h3>
<div class="listingblock">
<div class="content">
<pre>char-position? ( ca len c -- +n true | false )</pre>
</div>
</div>
<div class="paragraph">
<p>If char <em>c</em> is in string <em>ca len</em>, return its first
position <em>+n</em> and <em>true</em>; else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636861722D696E2D737472696E673F">char-in-string?</a></code>, <code><a href="#entry636F6E7461696E73">contains</a></code>, <code><a href="#entry636F6D70617265">compare</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861723E737472696E67-src-lib-strings-MISC-fs"><a id="entry636861723E737472696E67"></a>char&gt;string</h3>
<div class="listingblock">
<div class="content">
<pre>char&gt;string ( c -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the char <em>c</em> to a string <em>ca len</em> in the
<code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63686172733E737472696E67">chars&gt;string</a></code>, <code><a href="#entry72756C6572">ruler</a></code>, <code><a href="#entry753E737472">u&gt;str</a></code>, <code><a href="#entry643E737472">d&gt;str</a></code>,
<code><a href="#entry75643E737472">ud&gt;str</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861723F-src-kernel-z80s"><a id="entry636861723F"></a>char?</h3>
<div class="listingblock">
<div class="content">
<pre>char? ( ca len -- c true | false )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the string <em>ca len</em> the representation of a character?
If so return the character <em>c</em> and <em>true</em>; else return
<em>false</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: char? ( ca len -- c true | false )
  3 = if
    dup c@ ''' &lt;&gt; if
      dup [ 2 chars ] literal + c@ ''' &lt;&gt;
      if  char+ c@ true exit  then
    then
  then
  drop false ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861726C746F6E2D616C6C6F63617465-src-lib-memory-allocate-charlton-fs"><a id="entry636861726C746F6E2D616C6C6F63617465"></a>charlton-allocate</h3>
<div class="listingblock">
<div class="content">
<pre>charlton-allocate ( u -- a ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Allocate <em>u</em> address units of contiguous data space. The
data-space pointer is unaffected by this operation. The
initial content of the allocated space is undefined.</p>
</div>
<div class="paragraph">
<p>If the allocation succeeds, <em>a</em> is the aligned starting
address of the allocated space and <em>ior</em> is zero.</p>
</div>
<div class="paragraph">
<p>If the operation fails, <em>a</em> does not represent a valid
address and <em>ior</em> is #-59.</p>
</div>
<div class="paragraph">
<p><code>charlton-allocate</code> is the action of <code><a href="#entry616C6C6F63617465">allocate</a></code> in the
memory <code><a href="#entry68656170">heap</a></code> implementation adapted from code written by
Gordon Charlton, whose words are defined in
<code><a href="#entry636861726C746F6E2D686561702D776F72646C697374">charlton-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636861726C746F6E2D726573697A65">charlton-resize</a></code>, <code><a href="#entry636861726C746F6E2D66726565">charlton-free</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.charlton.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861726C746F6E2D656D7074792D68656170-src-lib-memory-allocate-charlton-fs"><a id="entry636861726C746F6E2D656D7074792D68656170"></a>charlton-empty-heap</h3>
<div class="listingblock">
<div class="content">
<pre>charlton-empty-heap ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Empty the current <code><a href="#entry68656170">heap</a></code>, which was created by
<code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>, <code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry62616E6B2D68656170">bank-heap</a></code> or <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>.</p>
</div>
<div class="paragraph">
<p><code>charlton-empty-heap</code> is the action of <code><a href="#entry656D7074792D68656170">empty-heap</a></code> in
the memory <code><a href="#entry68656170">heap</a></code> implementation adapted from code written
by Gordon Charlton, whose words are defined in
<code><a href="#entry636861726C746F6E2D686561702D776F72646C697374">charlton-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636861726C746F6E2D616C6C6F63617465">charlton-allocate</a></code>, <code><a href="#entry636861726C746F6E2D726573697A65">charlton-resize</a></code>,
<code><a href="#entry636861726C746F6E2D66726565">charlton-free</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.charlton.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861726C746F6E2D66726565-src-lib-memory-allocate-charlton-fs"><a id="entry636861726C746F6E2D66726565"></a>charlton-free</h3>
<div class="listingblock">
<div class="content">
<pre>charlton-free ( a -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the contiguous region of data space indicated by <em>a</em>
to the system for later allocation. <em>a</em> shall indicate a
region of data space that was previously obtained by
<code><a href="#entry636861726C746F6E2D616C6C6F63617465">charlton-allocate</a></code> or <code><a href="#entry636861726C746F6E2D726573697A65">charlton-resize</a></code>.</p>
</div>
<div class="paragraph">
<p>As there is no compelling reason for this to fail, <em>ior</em> is
zero.</p>
</div>
<div class="paragraph">
<p><code>charlton-free</code> is the action of <code><a href="#entry66726565">free</a></code> in the memory
<code><a href="#entry68656170">heap</a></code> implementation adapted from code written by Gordon
Charlton, whose words are defined in
<code><a href="#entry636861726C746F6E2D686561702D776F72646C697374">charlton-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.charlton.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861726C746F6E2D686561702D776F72646C697374-src-lib-memory-allocate-charlton-fs"><a id="entry636861726C746F6E2D686561702D776F72646C697374"></a>charlton-heap-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>charlton-heap-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p><em>wid</em> is the word-list identifier of the word list that
holds the words the memory <code><a href="#entry68656170">heap</a></code> implementation adapted
from code written by Gordon Charlton (1994-09-12).</p>
</div>
<div class="paragraph">
<p><code>need charlton-heap-wordlist</code> is used to load the memory
heap implementation and configure <code><a href="#entry616C6C6F63617465">allocate</a></code>, <code><a href="#entry726573697A65">resize</a></code>,
<code><a href="#entry66726565">free</a></code> and <code><a href="#entry656D7074792D68656170">empty-heap</a></code> accordingly.</p>
</div>
<div class="paragraph">
<p>An alternative, simpler and smaller implementation of the
memory heap is provided by <code><a href="#entry67696C2D686561702D776F72646C697374">gil-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>The actual heap must be created with <code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>,
<code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code> or <code><a href="#entry62616E6B2D68656170">bank-heap</a></code>, which are
independent from the heap implemention.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.charlton.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636861726C746F6E2D726573697A65-src-lib-memory-allocate-charlton-fs"><a id="entry636861726C746F6E2D726573697A65"></a>charlton-resize</h3>
<div class="listingblock">
<div class="content">
<pre>charlton-resize ( a1 u -- a2 ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the allocation of the contiguous data space starting
at the address <em>a1</em>, previously allocated  by
<code><a href="#entry636861726C746F6E2D616C6C6F63617465">charlton-allocate</a></code> or <code>charlton-resize</code>, to <em>u</em> address
units. <em>u</em> may be either larger or smaller than the current
size of the region. The data-space pointer is unaffected by
this operation.</p>
</div>
<div class="paragraph">
<p>If the operation succeeds, <em>a2</em> is  the aligned starting
address of  <em>u</em> address units of allocated  memory and
<em>ior</em> is zero.  <em>a2</em> may be,  but need not be,  the same as
<em>a1</em>.  If they are  not the same,  the values contained in
the region at <em>a1</em> are copied to <em>a2</em>, up to the minimum
size of either of  the two regions. If they are the same,
the values contained in the region are preserved to the
minimum of <em>u</em> or the original size. If <em>a2</em> is not the
same as <em>a1</em>, the region of memory at <em>a1</em> is returned to
the system according to the operation of <code><a href="#entry66726565">free</a></code>.</p>
</div>
<div class="paragraph">
<p>If the operation fails, <em>a2</em> equals <em>a1</em>, the region of
memory at <em>a1</em> is unaffected, and  <em>ior</em> is #-61.</p>
</div>
<div class="paragraph">
<p><code>charlton-resize</code> is the action of <code><a href="#entry726573697A65">resize</a></code> in the memory
<code><a href="#entry68656170">heap</a></code> implementation adapted from code written by Gordon
Charlton, whose words are defined in
<code><a href="#entry636861726C746F6E2D686561702D776F72646C697374">charlton-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.charlton.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6368617273-src-kernel-z80s"><a id="entry6368617273"></a>chars</h3>
<div class="listingblock">
<div class="content">
<pre>chars ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n2</em> is the size in address units of <em>n1</em> characters.  In Solo
Forth, <code>chars</code> does nothing.</p>
</div>
<div class="paragraph">
<p><code>chars</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63686172733E737472696E67-src-lib-strings-MISC-fs"><a id="entry63686172733E737472696E67"></a>chars&gt;string</h3>
<div class="listingblock">
<div class="content">
<pre>chars&gt;string ( c1..cn n -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>n</em> chars to a string <em>ca len</em> in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">c1..cn </dt>
<dd>
<p>chars to make the string with (<em>c1</em> is the last one)</p>
</dd>
<dt class="hdlist1">n </dt>
<dd>
<p>number of chars</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72756C6572">ruler</a></code>, <code><a href="#entry732B">s+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63686F70-src-lib-strings-MISC-fs"><a id="entry63686F70"></a>chop</h3>
<div class="listingblock">
<div class="content">
<pre>chop ( ca len -- ca' len' )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove the last character from string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D737566666978">-suffix</a></code>, <code><a href="#entry2F737472696E67">/string</a></code>, <code><a href="#entry737472696E672F">string/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636972636C65-src-lib-graphics-circle-fs"><a id="entry636972636C65"></a>circle</h3>
<div class="listingblock">
<div class="content">
<pre>circle ( gx gy b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Draw a circle at center coordinates <em>gx gy</em> and with radius
<em>b</em>.</p>
</div>
<div class="paragraph">
<p><code>circle</code> does not use the ROM routine and it&#8217;s much
faster.</p>
</div>
<div class="paragraph">
<p><code>circle</code> does no error checking: the whole circle must
fit the screen. Otherwise, strange things will happen when
other parts of the screen bitmap, the screen attributes or
even the system variables will be altered.</p>
</div>
<div class="paragraph">
<p>Note: By default <code>circle</code> does nothing. Its factor
routine <code><a href="#entry636972636C652D706978656C">circle-pixel</a></code> must be configured first with
<code><a href="#entry7365742D636972636C652D706978656C">set-circle-pixel</a></code>, in order to choose the routine that
creates the pixels of the circle: <code><a href="#entry756E636F6C6F7265642D636972636C652D706978656C">uncolored-circle-pixel</a></code>,
<code><a href="#entry636F6C6F7265642D636972636C652D706978656C">colored-circle-pixel</a></code> or a routine provided by the
application.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.circle.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636972636C652D706978656C-src-lib-graphics-circle-fs"><a id="entry636972636C652D706978656C"></a>circle-pixel</h3>
<div class="listingblock">
<div class="content">
<pre>circle-pixel ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the address of a subroutine used by <code><a href="#entry636972636C65">circle</a></code> to set
its pixels.  This routine does a jump to the actual
routine, which by default does nothing. The desired routine
must be set by <code><a href="#entry7365742D636972636C65">set-circle</a></code>.</p>
</div>
<div class="paragraph">
<p>Also any routine provided by the application can be used as
the action of <code><a href="#entry636972636C652D706978656C">circle-pixel</a></code>, provided the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL, DE and BC must be preserved.</p>
</li>
<li>
<p>Input parameters: B=gy and C=gx.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.circle.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C617373-src-lib-objects-mini-oof-fs"><a id="entry636C617373"></a>class</h3>
<div class="listingblock">
<div class="content">
<pre>class ( class -- class methods vars )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the definition of a class.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C61737369632D6E756D6265722D706F696E743F-src-lib-math-number-point-fs"><a id="entry636C61737369632D6E756D6265722D706F696E743F"></a>classic-number-point?</h3>
<div class="listingblock">
<div class="content">
<pre>classic-number-point? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is character <em>c</em> a classic number point?  Allowed points
are: comma, hyphen, period, slash and colon.</p>
</div>
<div class="paragraph">
<p><code>classic-number-point?</code> is an alternative action for the
deferred word <code><a href="#entry6E756D6265722D706F696E743F">number-point?</a></code>, which is used in <code><a href="#entry6E756D6265723F">number?</a></code>,
and whose default action is <code><a href="#entry7374616E646172642D6E756D6265722D706F696E743F">standard-number-point?</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry657874656E6465642D6E756D6265722D706F696E743F">extended-number-point?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.number.point.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C656172-src-lib-editor-specforth-fs"><a id="entry636C656172"></a>clear</h3>
<div class="listingblock">
<div class="content">
<pre>clear ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear block <em>n</em> with blanks and select for editing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C6561722D616363657074-src-lib-keyboard-MISC-fs"><a id="entry636C6561722D616363657074"></a>clear-accept</h3>
<div class="listingblock">
<div class="content">
<pre>clear-accept ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear the string currently edited by <code><a href="#entry616363657074">accept</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C6561722D626C6F636B-src-lib-graphics-blocks-fs"><a id="entry636C6561722D626C6F636B"></a>clear-block</h3>
<div class="listingblock">
<div class="content">
<pre>clear-block ( column row width height -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear a screen block at the given character coordinates and
of the given size in characters.  Only the bitmap is
cleared. The color attributes remain unchanged.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C6974-src-kernel-z80s"><a id="entry636C6974"></a>clit</h3>
<div class="listingblock">
<div class="content">
<pre>clit ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C69746572616C">cliteral</a></code>, <code><a href="#entry6C6974">lit</a></code>, <code><a href="#entry326C6974">2lit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C69746572616C-src-kernel-z80s"><a id="entry636C69746572616C"></a>cliteral</h3>
<div class="listingblock">
<div class="content">
<pre>cliteral ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <em>b</em> in the current definition.</p>
</div>
<div class="paragraph">
<p><code>cliteral</code> does the same as <code><a href="#entry6C69746572616C">literal</a></code> but saves one byte of
data space and <em>b</em> is put on the stack a bit faster (0.97 of
execution speed).</p>
</div>
<div class="paragraph">
<p><code>cliteral</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: cliteral ( b -- ) postpone clit c, ; immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C6974">clit</a></code>, <code><a href="#entry326C69746572616C">2literal</a></code>, <code><a href="#entry316C69746572616C">1literal</a></code>, <code><a href="#entry5D636C">]cl</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C6F73652D66696C65-src-lib-dos-plus3dos-fs"><a id="entry636C6F73652D66696C65"></a>close-file</h3>
<div class="listingblock">
<div class="content">
<pre>close-file ( fid -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Close the file identified by <em>fid</em> and return error result
<em>ior</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry28636C6F73652D66696C65">(close-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C73-src-kernel-z80s"><a id="entry636C73"></a>cls</h3>
<div class="listingblock">
<div class="content">
<pre>cls ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear the screen with the current attribute, reset the graphic
coordinates at the lower left corner (gx 0, gy 0) and reset
the cursor position at the upper left corner (column 0, row
0).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry617474722D636C73">attr-cls</a></code>, <code><a href="#entry70616765">page</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C732D636861727330-src-lib-graphics-cls-fs"><a id="entry636C732D636861727330"></a>cls-chars0</h3>
<div class="listingblock">
<div class="content">
<pre>cls-chars0 ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear the screen by rotating all bytes of the bitmap.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C732D636861727331">cls-chars1</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.cls.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636C732D636861727331-src-lib-graphics-cls-fs"><a id="entry636C732D636861727331"></a>cls-chars1</h3>
<div class="listingblock">
<div class="content">
<pre>cls-chars1 ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear the screen by rotating all bytes of the bitmap.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C732D636861727330">cls-chars0</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.cls.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636D6F7665-src-kernel-z80s"><a id="entry636D6F7665"></a>cmove</h3>
<div class="listingblock">
<div class="content">
<pre>cmove ( ca len u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636D6F76653C666172-src-lib-memory-far-fs"><a id="entry636D6F76653C666172"></a>cmove&lt;far</h3>
<div class="listingblock">
<div class="content">
<pre>cmove&lt;far ( ca1 ca2 len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, copy <em>len</em> consecutive
characters from far-memory address <em>ca1</em> to main-memory
address <em>ca2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636D6F76653E-src-kernel-z80s"><a id="entry636D6F76653E"></a>cmove&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>cmove&gt; ( ca len u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636D6F76653E666172-src-lib-memory-far-fs"><a id="entry636D6F76653E666172"></a>cmove&gt;far</h3>
<div class="listingblock">
<div class="content">
<pre>cmove&gt;far ( ca1 ca2 len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, copy <em>len</em> consecutive
characters from main-memory address <em>ca1</em> to far-memory
address <em>ca2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6465-src-kernel-z80s"><a id="entry636F6465"></a>code</h3>
<div class="listingblock">
<div class="content">
<pre>code ( "name -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6C64-src-kernel-z80s"><a id="entry636F6C64"></a>cold</h3>
<div class="listingblock">
<div class="content">
<pre>cold ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7761726D">warm</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6C6F722D626C6F636B-src-lib-graphics-blocks-fs"><a id="entry636F6C6F722D626C6F636B"></a>color-block</h3>
<div class="listingblock">
<div class="content">
<pre>color-block ( column row width height color -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Color a screen block at the given character coordinates and
of the given size in characters.  Only the color attributes
are changed; the bitmap remains unchanged.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6C6F7265642D636972636C652D706978656C-src-lib-graphics-circle-fs"><a id="entry636F6C6F7265642D636972636C652D706978656C"></a>colored-circle-pixel</h3>
<div class="listingblock">
<div class="content">
<pre>colored-circle-pixel ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the address of a subroutine that <code><a href="#entry636972636C65">circle</a></code> can use to
draw its pixels.  This routine sets a pixel, changing its
color attributes on the screen (like <code><a href="#entry706C6F74">plot</a></code>).  Therefore
it&#8217;s slower than its alternative <code><a href="#entry756E636F6C6F7265642D636972636C652D706978656C">uncolored-circle-pixel</a></code>
(1.64 its execution speed).</p>
</div>
<div class="paragraph">
<p><code><a href="#entry7365742D636972636C652D706978656C">set-circle-pixel</a></code> sets the routine used by <code><a href="#entry636972636C65">circle</a></code>.  See
the requirements of such routine in the documentation of
<code><a href="#entry636972636C652D706978656C">circle-pixel</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.circle.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6C756D6E-src-lib-display-cursor-fs"><a id="entry636F6C756D6E"></a>column</h3>
<div class="listingblock">
<div class="content">
<pre>column ( -- col )</pre>
</div>
</div>
<div class="paragraph">
<p>Current column (x coordinate).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726F77">row</a></code>, <code><a href="#entry6C6173742D636F6C756D6E">last-column</a></code>, <code><a href="#entry636F6C756D6E73">columns</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6C756D6E73-src-lib-display-mode-COMMON-fs"><a id="entry636F6C756D6E73"></a>columns</h3>
<div class="listingblock">
<div class="content">
<pre>columns ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number of columns in the current screen mode.
The default value is 32.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726F7773">rows</a></code>, last-column`, <code><a href="#entry636F6C756D6E">column</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.mode.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D7027-src-lib-compilation-fs"><a id="entry636F6D7027"></a>comp'</h3>
<div class="listingblock">
<div class="content">
<pre>comp' ( "name" -- x xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation token <em>x xt</em> represents the compilation
semantics of <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D70617265-src-kernel-z80s"><a id="entry636F6D70617265"></a>compare</h3>
<div class="listingblock">
<div class="content">
<pre>compare ( ca1 len1 ca2 len2 -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Compare the string <em>ca1 len1</em> to the string <em>ca2 len2</em>. The
strings are compared, beginning at the given addresses,
character by character, up to the length of the shorter string
or until a difference is found. If the two strings are
identical, <em>n</em> is zero. If the two strings are identical up to
the length of the shorter string, <em>n</em> is minus-one (-1) if
<em>len1</em> is less than <em>len2</em> and one (1) otherwise. If the two
strings are not identical up to the length of the shorter
string, <em>n</em> is minus-one (-1) if the first non-matching
character in the string <em>ca1 len1</em> has a lesser numeric value
than the corresponding character in the string <em>ca2 len2</em> and
one (1) otherwise.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (STRING), Forth-2012 (STRING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D70696C65-src-kernel-z80s"><a id="entry636F6D70696C65"></a>compile</h3>
<div class="listingblock">
<div class="content">
<pre>compile ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the cell following the compilation address of
<code>compile</code> into the dictionary.</p>
</div>
<div class="paragraph">
<p><code>compile</code> allows specific compilation situations to be
handled in addition to simply compiling an execution token
(which the interpreter already does).</p>
</div>
<div class="paragraph">
<p><code>compile</code> is a <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: compile ( -- ) r&gt; dup cell+ &gt;r  @ compile, ;</pre>
</div>
</div>
<div class="paragraph">
<p>Typically used in the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: name compile namex ;</pre>
</div>
</div>
<div class="paragraph">
<p>When <em>name</em> is executed, the execution token of <em>namex</em> is
compiled, not executed. <em>name</em> is tipically an <code><a href="#entry696D6D656469617465">immediate</a></code>
word and <em>namex</em> is typically not an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p><code>compile</code> has been be superseded by <code><a href="#entry706F7374706F6E65">postpone</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B636F6D70696C655D">[compile]</a></code>, <code><a href="#entry636F6D70696C652C">compile,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D70696C652C-src-kernel-z80s"><a id="entry636F6D70696C652C"></a>compile,</h3>
<div class="listingblock">
<div class="content">
<pre>compile, ( xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D70696C652D6F6E6C79-src-kernel-z80s"><a id="entry636F6D70696C652D6F6E6C79"></a>compile-only</h3>
<div class="listingblock">
<div class="content">
<pre>compile-only ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the most recent definition a compile-only word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: compile-only ( -- ) compile-only-mask latest lex! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6D70696C652D6F6E6C793F">compile-only?</a></code>,  <code><a href="#entry696D6D656469617465">immediate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D70696C652D6F6E6C792D6D61736B-src-kernel-z80s"><a id="entry636F6D70696C652D6F6E6C792D6D61736B"></a>compile-only-mask</h3>
<div class="listingblock">
<div class="content">
<pre>compile-only-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Constant that holds the bitmask of the compile-only bit, set
by <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696D6D6564696174652D6D61736B">immediate-mask</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D70696C652D6F6E6C793F-src-kernel-z80s"><a id="entry636F6D70696C652D6F6E6C793F"></a>compile-only?</h3>
<div class="listingblock">
<div class="content">
<pre>compile-only? ( nt -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the word <em>nt</em> compile-only?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code>, <code><a href="#entry696D6D6564696174653F">immediate?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6D70696C696E673F-src-kernel-z80s"><a id="entry636F6D70696C696E673F"></a>compiling?</h3>
<div class="listingblock">
<div class="content">
<pre>compiling? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: compiling? ( -- f ) state @ 0&lt;&gt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6E7374-src-lib-data-const-fs"><a id="entry636F6E7374"></a>const</h3>
<div class="listingblock">
<div class="content">
<pre>const ( x "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a fast constant <em>name</em>, with value <em>x</em>.</p>
</div>
<div class="paragraph">
<p>A fast constant works like an ordinary <code><a href="#entry636F6E7374616E74">constant</a></code>, except
its value is compiled as a literal.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B636F6E73745D">[const]</a></code>, <code><a href="#entry63636F6E7374">cconst</a></code>, <code><a href="#entry32636F6E7374">2const</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.const.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6E7374616E74-src-kernel-z80s"><a id="entry636F6E7374616E74"></a>constant</h3>
<div class="listingblock">
<div class="content">
<pre>constant ( x "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6E7461696E73-src-lib-strings-MISC-fs"><a id="entry636F6E7461696E73"></a>contains</h3>
<div class="listingblock">
<div class="content">
<pre>contains ( ca1 len1 ca2 len2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Does string <em>ca1 len1</em> contain string <em>ca2 len2</em>?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636861722D706F736974696F6E3F">char-position?</a></code>, <code><a href="#entry636861722D696E2D737472696E673F">char-in-string?</a></code>, <code><a href="#entry636F6D70617265">compare</a></code>,
<code><a href="#entry236368617273">#chars</a></code>,</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6E74657874-src-kernel-z80s"><a id="entry636F6E74657874"></a>context</h3>
<div class="listingblock">
<div class="content">
<pre>context ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the search order:  <em>a</em> is the address
of an array of cells, whose maximum length is hold in the
<code><a href="#entry6D61782D6F72646572">max-order</a></code> constant, and whose current length is hold in the
<code><a href="#entry236F72646572">#order</a></code> variable.  <em>a</em> holds the word list at the top of the
search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F72646572">order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>, <code><a href="#entry6765742D6F72646572">get-order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(System Extension Word Set).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6E74696E756564-src-lib-blocks-fs"><a id="entry636F6E74696E756564"></a>continued</h3>
<div class="listingblock">
<div class="content">
<pre>continued ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Continue interpretation at block <em>u</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Reference Word Set), Forth-83 (Appendix
B. Uncontrolled Reference Words).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D2D3E">--&gt;</a></code>, <code><a href="#entry6C6F6164">load</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6E7472617374-src-lib-display-attributes-fs"><a id="entry636F6E7472617374"></a>contrast</h3>
<div class="listingblock">
<div class="content">
<pre>contrast ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert color <em>b1</em> to its contrast color <em>b2</em>.  <em>b2</em> is
<code><a href="#entry7768697465">white</a></code> (7) if <em>b1</em> is a dark color (<code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry726564">red</a></code>
or <code><a href="#entry6D6167656E7461">magenta</a></code>); <em>b2</em> is <code><a href="#entry626C61636B">black</a></code> (0) if <em>b1</em> is a light
colour (<code><a href="#entry677265656E">green</a></code>, <code><a href="#entry6379616E">cyan</a></code>, <code><a href="#entry79656C6C6F77">yellow</a></code> or <code><a href="#entry7768697465">white</a></code>).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F6E74726F6C2D636861723F-src-lib-chars-fs"><a id="entry636F6E74726F6C2D636861723F"></a>control-char?</h3>
<div class="listingblock">
<div class="content">
<pre>control-char? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is character <em>c</em> a control character, i.e. in the range
0..31?</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/chars.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F7079-src-lib-editor-specforth-fs"><a id="entry636F7079"></a>copy</h3>
<div class="listingblock">
<div class="content">
<pre>copy ( n1 n2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy block <em>n1</em> to block <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F756E74-src-kernel-z80s"><a id="entry636F756E74"></a>count</h3>
<div class="listingblock">
<div class="content">
<pre>count ( ca1 -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the character string specification for the counted
string stored at <em>ca1</em>. <em>ca2</em> is the address of the first
character after <em>ca1</em>. <em>len</em> is the  contents of the character
at <em>c1</em>, which is the  length in characters of the string at
<em>c2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666172636F756E74">farcount</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry636F756E7465643E737472696E676572-src-lib-strings-MISC-fs"><a id="entry636F756E7465643E737472696E676572"></a>counted&gt;stringer</h3>
<div class="listingblock">
<div class="content">
<pre>counted&gt;stringer ( ca1 len1 -- ca2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy string <em>ca1 len1</em> to the <code><a href="#entry737472696E676572">stringer</a></code> as a counted
string and return it as <em>ca2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E737472696E676572">&gt;stringer</a></code>, <code><a href="#entry616C6C6F636174652D737472696E676572">allocate-stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6372-src-kernel-z80s"><a id="entry6372"></a>cr</h3>
<div class="listingblock">
<div class="content">
<pre>cr ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Transmit a carriage return to the selected output device.</p>
</div>
<div class="paragraph">
<p><code>cr</code> is a deferred word whose default action is <code><a href="#entry28637229">(cr)</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6372616E646F6D-src-lib-random-fs"><a id="entry6372616E646F6D"></a>crandom</h3>
<div class="listingblock">
<div class="content">
<pre>crandom ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random 8-bit number <em>b2</em> in range <em>0..b1-1</em></p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry637265617465-src-kernel-z80s"><a id="entry637265617465"></a>create</h3>
<div class="listingblock">
<div class="content">
<pre>create ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6372656174652D656E747279-src-lib-data-associative-list-fs"><a id="entry6372656174652D656E747279"></a>create-entry</h3>
<div class="listingblock">
<div class="content">
<pre>create-entry ( i*x wid xt "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create an entry "name" in associative list <em>wid</em>,
using <em>xt</em> to store its value <em>i*x</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6372656174653A-src-lib-define-MISC-fs"><a id="entry6372656174653A"></a>create:</h3>
<div class="listingblock">
<div class="content">
<pre>create: ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a word "name" which is compiled as a colon word but,
when executed, will return the address of its pfa.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry637265736574-src-kernel-z80s"><a id="entry637265736574"></a>creset</h3>
<div class="listingblock">
<div class="content">
<pre>creset ( b ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reset the bits at <em>ca</em> specified by the bitmask <em>b</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63726E64-src-lib-random-fs"><a id="entry63726E64"></a>crnd</h3>
<div class="listingblock">
<div class="content">
<pre>crnd ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random 8-bit number <em>b</em> (0..255).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6372616E646F6D">crandom</a></code>, <code><a href="#entry726E64">rnd</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry637273-src-lib-display-control-fs"><a id="entry637273"></a>crs</h3>
<div class="listingblock">
<div class="content">
<pre>crs ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Emit <em>n</em> number of cr characters (character code 13).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6372">cr</a></code>, <code><a href="#entry27637227">'cr'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63736574-src-kernel-z80s"><a id="entry63736574"></a>cset</h3>
<div class="listingblock">
<div class="content">
<pre>cset ( b ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the bits at <em>ca</em> specified by the bitmask <em>b</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63736C6974-src-lib-strings-c-quote-fs"><a id="entry63736C6974"></a>cslit</h3>
<div class="listingblock">
<div class="content">
<pre>cslit ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a string that is compiled after the calling word, and
adjust the instruction pointer to step over the inline string.</p>
</div>
<div class="paragraph">
<p><code>cslit</code> is compiled by <code><a href="#entry63736C69746572616C">csliteral</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736C6974">slit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.c-quote.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63736C69746572616C-src-lib-strings-c-quote-fs"><a id="entry63736C69746572616C"></a>csliteral</h3>
<div class="listingblock">
<div class="content">
<pre>csliteral ( Compilation: "ccc&lt;quote&gt;" -- ) ( Run-time: -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile a string <em>ca len</em> which at run-time will
be returned as a counted string.</p>
</div>
<div class="paragraph">
<p><code>csliteral</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736C69746572616C">sliteral</a></code>, <code><a href="#entry63736C6974">cslit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.c-quote.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry637370-src-kernel-z80s"><a id="entry637370"></a>csp</h3>
<div class="listingblock">
<div class="content">
<pre>csp ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the current data stack position saved
by <code><a href="#entry21637370">!csp</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6373746F726572-src-lib-data-storer-fs"><a id="entry6373746F726572"></a>cstorer</h3>
<div class="listingblock">
<div class="content">
<pre>cstorer ( c ca "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a word <em>name</em> which, when executed, will cause that
<em>c</em> be stored at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>Origin: variant of the word <code><a href="#entry736574">set</a></code> found in Forth-79
(Reference Word Set) and Forth-83 (Appendix B.
Uncontrolled Reference Words).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.storer.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63737769746368-src-lib-flow-switch-colon-fs"><a id="entry63737769746368"></a>cswitch</h3>
<div class="listingblock">
<div class="content">
<pre>cswitch ( c switch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute the switch <em>switch</em> for the key <em>c</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7377697463683A">switch:</a></code>, <code><a href="#entry3A63636C61757365">:cclause</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.switch-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63746F67676C65-src-lib-memory-MISC-fs"><a id="entry63746F67676C65"></a>ctoggle</h3>
<div class="listingblock">
<div class="content">
<pre>ctoggle ( b ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Invert the bits at <em>ca</em> specified by the bitmask <em>b</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6340616E64">c@and</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63746F76616C-src-lib-data-val-fs"><a id="entry63746F76616C"></a>ctoval</h3>
<div class="listingblock">
<div class="content">
<pre>ctoval ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the default behaviour of words created by <code><a href="#entry6376616C">cval</a></code>:
make them store a new value instead of returning its actual
one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746F76616C">toval</a></code>, <code><a href="#entry32746F76616C">2toval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63757272656E74-src-kernel-z80s"><a id="entry63757272656E74"></a>current</h3>
<div class="listingblock">
<div class="content">
<pre>current ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the word list identifier of the
compilation word list.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(System Extension Word Set).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D63757272656E74">get-current</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63757272656E742D6C6174657374-src-kernel-z80s"><a id="entry63757272656E742D6C6174657374"></a>current-latest</h3>
<div class="listingblock">
<div class="content">
<pre>current-latest ( -- nt )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the name token of the topmost word in the current
compilation word list.  <code>current-latest</code> is different from
<code><a href="#entry6C6174657374">latest</a></code>, which returns the name token of the latest word
defined in the system.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: current-latest ( -- nt ) get-current @ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>latest</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63757272656E742D6D6F6465-src-kernel-z80s"><a id="entry63757272656E742D6D6F6465"></a>current-mode</h3>
<div class="listingblock">
<div class="content">
<pre>current-mode ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Variable that holds the execution token of the word that
activates the current screen mode. It&#8217;s set to <code><a href="#entry6E6F6F70">noop</a></code> until
the first mode change is done.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736176652D6D6F6465">save-mode</a></code>, <code><a href="#entry726573746F72652D6D6F6465">restore-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry63757272656E742D77696E646F77-src-lib-display-window-fs"><a id="entry63757272656E742D77696E646F77"></a>current-window</h3>
<div class="listingblock">
<div class="content">
<pre>current-window ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> holds the data address of the current
window.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry77696E646F77">window</a></code>, <code><a href="#entry7365742D77696E646F77">set-window</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.window.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry637572736F722D63686172-src-kernel-z80s"><a id="entry637572736F722D63686172"></a>cursor-char</h3>
<div class="listingblock">
<div class="content">
<pre>cursor-char ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A byte variable that holds the character code of the cursor
used by <code><a href="#entry786B6579">xkey</a></code>. Note this is a character variable, thus it has to
be fetched with <code><a href="#entry6340">c@</a></code> and modified with <code><a href="#entry6321">c!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6376616C-src-lib-data-val-fs"><a id="entry6376616C"></a>cval</h3>
<div class="listingblock">
<div class="content">
<pre>cval ( c "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> that will place <em>c</em> on
the stack (unless <code><a href="#entry63746F76616C">ctoval</a></code> is used first) and then will
execute <code><a href="#entry696E69742D6376616C">init-cval</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry76616C">val</a></code>, <code><a href="#entry3276616C">2val</a></code>, <code><a href="#entry637661726961626C65">cvariable</a></code>, <code><a href="#entry63636F6E7374616E74">cconstant</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6376616C7565-src-lib-data-value-fs"><a id="entry6376616C7565"></a>cvalue</h3>
<div class="listingblock">
<div class="content">
<pre>cvalue ( c "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition <em>name</em> with the following execution
semantics: place <em>c</em> on the stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746F">to</a></code>, <code><a href="#entry76616C7565">value</a></code>, <code><a href="#entry3276616C7565">2value</a></code>, <code><a href="#entry63636F6E7374616E74">cconstant</a></code>,
<code><a href="#entry637661726961626C65">cvariable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry637661726961626C65-src-lib-data-MISC-fs"><a id="entry637661726961626C65"></a>cvariable</h3>
<div class="listingblock">
<div class="content">
<pre>cvariable ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a character variable <em>name</em> and reserve one
character of data space. When <em>name</em> is executed, it
returns the address of the reserved space.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6321">c!</a></code>, <code><a href="#entry6340">c@</a></code>, <code><a href="#entry7661726961626C65">variable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6379616E-src-lib-display-attributes-fs"><a id="entry6379616E"></a>cyan</h3>
<div class="listingblock">
<div class="content">
<pre>cyan ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 5, the value that represents the
cyan color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry726564">red</a></code>, <code><a href="#entry6D6167656E7461">magenta</a></code>, <code><a href="#entry677265656E">green</a></code>,
<code><a href="#entry79656C6C6F77">yellow</a></code>, <code><a href="#entry7768697465">white</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64-src-lib-editor-specforth-fs"><a id="entry64"></a>d</h3>
<div class="listingblock">
<div class="content">
<pre>d ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Delete line <em>n</em> but hold it in <code><a href="#entry706164">pad</a></code>. Line 15 becomes free
as all statements move up one line.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry642A-src-lib-math-operators-2-cell-fs"><a id="entry642A"></a>d*</h3>
<div class="listingblock">
<div class="content">
<pre>d* ( d|ud1 d|ud2 -- d|ud3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>d1|ud1</em> by <em>d2|ud2</em> giving the product <em>d3|ud3</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75642A">ud*</a></code>, <code><a href="#entry756D2A">um*</a></code>, <code><a href="#entry2A">*</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.2-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry642B-src-kernel-z80s"><a id="entry642B"></a>d+</h3>
<div class="listingblock">
<div class="content">
<pre>d+ ( d1|ud1 d2|ud2 -- d3|ud3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>d2|ud2</em> to <em>d1|ud1</em>, giving the sum <em>d3|ud3</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B">+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry642E-src-kernel-z80s"><a id="entry642E"></a>d.</h3>
<div class="listingblock">
<div class="content">
<pre>d. ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print signed double integer <em>d</em> according to current base,
followed by only one blank.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry642E72-src-kernel-z80s"><a id="entry642E72"></a>d.r</h3>
<div class="listingblock">
<div class="content">
<pre>d.r ( d n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print a signed double number <em>d</em> right justified in a field of
<em>n</em> characters.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: d.r ( d n -- )
  &gt;r tuck dabs &lt;# #s rot sign #&gt; over - spaces type ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6431302A-src-lib-math-operators-2-cell-fs"><a id="entry6431302A"></a>d10*</h3>
<div class="listingblock">
<div class="content">
<pre>d10* ( ud1 -- ud2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>ud1</em> per 10, resulting <em>ud2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry642A">d*</a></code>, <code><a href="#entry322A">2*</a></code>, <code><a href="#entry382A">8*</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.2-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry643E73-src-kernel-z80s"><a id="entry643E73"></a>d&gt;s</h3>
<div class="listingblock">
<div class="content">
<pre>d&gt;s ( d -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the equivalent of <em>d</em>. The high cell of <em>d</em> is
discarded.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (DOUBLE), Forth-2012 (DOUBLE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry733E64">s&gt;d</a></code>, <code><a href="#entry753E7564">u&gt;ud</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry643E737472-src-lib-strings-MISC-fs"><a id="entry643E737472"></a>d&gt;str</h3>
<div class="listingblock">
<div class="content">
<pre>d&gt;str ( d -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>d</em> to string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry753E737472">u&gt;str</a></code>, <code><a href="#entry75643E737472">ud&gt;str</a></code>, <code><a href="#entry636861723E737472696E67">char&gt;string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64616273-src-kernel-z80s"><a id="entry64616273"></a>dabs</h3>
<div class="listingblock">
<div class="content">
<pre>dabs ( d -- ud )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the absolute value <em>ud</em> of a double number <em>d</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: dabs ( d -- ud ) dup ?dnegate ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64617461-src-lib-data-data-fs"><a id="entry64617461"></a>data</h3>
<div class="listingblock">
<div class="content">
<pre>data ( n "name" -- n orig )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em>, in order to compile data
items of <em>n</em> address units each, finished by <code><a href="#entry656E642D64617461">end-data</a></code>.
Leave <em>n</em> and <em>orig</em> to be consumeb by <code><a href="#entry656E642D6364617461">end-cdata</a></code>.  When
<em>name</em> is executed, it will leave the start address of the
data and the number of items, which depends on <em>n</em>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cell data my-cells ( -- a u )
  1 c 2 c 3 c 4 c 5 c  end-data

2 cells data my-double-cells ( -- a u )
  0. 2, 1. 2, 2. 2,  end-data

1 chars data my-characters ( -- a u )
  'a' c, 'b' c, 'c' c,  end-data</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.data.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64617465-src-lib-time-fs"><a id="entry64617465"></a>date</h3>
<div class="listingblock">
<div class="content">
<pre>date ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a variable that holds the date used by
<code><a href="#entry7365742D64617465">set-date</a></code> and <code><a href="#entry6765742D64617465">get-date</a></code>, with the following structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>+0 day   (1 byte)
+1 month (1 byte)
+2 year  (1 cell)</pre>
</div>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry7365742D64617465">set-date</a></code>, <code><a href="#entry6765742D64617465">get-date</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6465632E-src-kernel-z80s"><a id="entry6465632E"></a>dec.</h3>
<div class="listingblock">
<div class="content">
<pre>dec. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>n</em> as a signed decimal number, followed by one space.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6865782E">hex.</a></code>, <code><a href="#entry62696E2E">bin.</a></code>, <code><a href="#entry2E">.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646563696D616C-src-kernel-z80s"><a id="entry646563696D616C"></a>decimal</h3>
<div class="listingblock">
<div class="content">
<pre>decimal ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set contents of <code><a href="#entry62617365">base</a></code> to ten.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686578">hex</a></code>, <code><a href="#entry62696E617279">binary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D62616E6B-src-kernel-z80s"><a id="entry64656661756C742D62616E6B"></a>default-bank</h3>
<div class="listingblock">
<div class="content">
<pre>default-bank ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Page in the default memory bank, wich can be configured with
<code><a href="#entry64656661756C742D62616E6B23">default-bank#</a></code>, at $C000..$FFFF.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D64656661756C742D62616E6B">set-default-bank</a></code>, <code><a href="#entry6765742D64656661756C742D62616E6B">get-default-bank</a></code>, <code><a href="#entry62616E6B">bank</a></code>, <code><a href="#entry62616E6B73">banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D62616E6B23-src-kernel-z80s"><a id="entry64656661756C742D62616E6B23"></a>default-bank#</h3>
<div class="listingblock">
<div class="content">
<pre>default-bank# ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>An 8-bit variable holding the value of the default bank.  Note
this variable must be set with <code><a href="#entry6321">c!</a></code> and fetched with <code><a href="#entry6340">c@</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D64656661756C742D62616E6B">set-default-bank</a></code>, <code><a href="#entry6765742D64656661756C742D62616E6B">get-default-bank</a></code>, <code><a href="#entry62616E6B73">banks</a></code>,
<code><a href="#entry62616E6B">bank</a></code>, <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D62616E6B5F-src-lib-memory-far-fs"><a id="entry64656661756C742D62616E6B5F"></a>default-bank_</h3>
<div class="listingblock">
<div class="content">
<pre>default-bank_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a routine that pages in the default
bank. This is the routine <code><a href="#entry64656661756C742D62616E6B">default-bank</a></code> runs into, after
pushing IX on the return stack to force a final return to
<code><a href="#entry6E657874">next</a></code>.</p>
</div>
<div class="paragraph">
<p>Output of the routine: A and E corrupted.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62616E6B2D655F">bank-e_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D627265616B2D6B65793F-src-kernel-z80s"><a id="entry64656661756C742D627265616B2D6B65793F"></a>default-break-key?</h3>
<div class="listingblock">
<div class="content">
<pre>default-break-key? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the default break key (Shift+Space) pressed?
<code>default-break-key?</code> is the default action of the deferred
word <code><a href="#entry627265616B2D6B65793F">break-key?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D636F6C6F7273-src-kernel-z80s"><a id="entry64656661756C742D636F6C6F7273"></a>default-colors</h3>
<div class="listingblock">
<div class="content">
<pre>default-colors ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the screen colors to the default values.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D66697273742D6C6F63617461626C65-src-lib-002-need-fs"><a id="entry64656661756C742D66697273742D6C6F63617461626C65"></a>default-first-locatable</h3>
<div class="listingblock">
<div class="content">
<pre>default-first-locatable ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the default number of the first block
to be searched by <code><a href="#entry6C6F6361746564">located</a></code> and its descendants.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66697273742D6C6F63617461626C65">first-locatable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D666F6E74-src-kernel-z80s"><a id="entry64656661756C742D666F6E74"></a>default-font</h3>
<div class="listingblock">
<div class="content">
<pre>default-font ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the default font, which is the ROM font, by setting the
system variable <code><a href="#entry6F732D6368617273">os-chars</a></code> to 15360 ($3C00).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry726F6D2D666F6E74">rom-font</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D686561646572-src-kernel-z80s"><a id="entry64656661756C742D686561646572"></a>default-header</h3>
<div class="listingblock">
<div class="content">
<pre>default-header ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <code><a href="#entry686561646572">header</a></code> to its default action: <code><a href="#entry696E7075742D73747265616D2D686561646572">input-stream-header</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: default-header ( -- )
  ['] input-stream-header ['] header defer! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D6D6F6465-src-kernel-z80s"><a id="entry64656661756C742D6D6F6465"></a>default-mode</h3>
<div class="listingblock">
<div class="content">
<pre>default-mode ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word that activates the default screen mode. It&#8217;s
set to <code><a href="#entry6E6F6F70">noop</a></code> until the first mode change is done. Then it&#8217;s
vectored to <code><a href="#entry6D6F64652D3332">mode-32</a></code>.  It&#8217;s used by <code><a href="#entry627965">bye</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D6F7074696F6E-src-lib-flow-options-bracket-fs"><a id="entry64656661756C742D6F7074696F6E"></a>default-option</h3>
<div class="listingblock">
<div class="content">
<pre>default-option ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the default option "name" of an <code>options[ ]options</code>
structure.  It can be anywhere inside the structure.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry6F7074696F6E735B">options[</a></code> for a usage example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.options-bracket.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D7072696E7461626C652D61736369692D63686172-src-lib-chars-fs"><a id="entry64656661756C742D7072696E7461626C652D61736369692D63686172"></a>default-printable-ascii-char</h3>
<div class="listingblock">
<div class="content">
<pre>default-printable-ascii-char ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the default ASCII character <em>c</em> used by
<code><a href="#entry3E7072696E7461626C652D61736369692D6374686172">&gt;printable-ascii-cthar</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/chars.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D737472696E676572-src-kernel-z80s"><a id="entry64656661756C742D737472696E676572"></a>default-stringer</h3>
<div class="listingblock">
<div class="content">
<pre>default-stringer  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the default values of <code><a href="#entry737472696E676572">stringer</a></code> and <code><a href="#entry2F737472696E676572">/stringer</a></code>.
<code>default-stringer</code> is executed by <code><a href="#entry636F6C64">cold</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656661756C742D7564672D6368617273-src-lib-graphics-udg-fs"><a id="entry64656661756C742D7564672D6368617273"></a>default-udg-chars</h3>
<div class="listingblock">
<div class="content">
<pre>default-udg-chars ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A phoney word used only to do <code>need default-udg-chars</code> in
order to define UDG 144..164 as letters 'A'..'U', copied
from the ROM font, the shape they have in Sinclair BASIC by
default. The current value of <code><a href="#entry6F732D756467">os-udg</a></code> is used.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
In Solo Forth <code><a href="#entry6F732D756467">os-udg</a></code> points to bitmap of UDG
0, while in Sinclair BASIC it points to bitmap of UDG
144.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C6F636B2D6368617273">block-chars</a></code>, <code><a href="#entry7365742D756467">set-udg</a></code>, <code><a href="#entry726F6D2D666F6E74">rom-font</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6465666572-src-kernel-z80s"><a id="entry6465666572"></a>defer</h3>
<div class="listingblock">
<div class="content">
<pre>defer ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a deferred word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646566657221-src-kernel-z80s"><a id="entry646566657221"></a>defer!</h3>
<div class="listingblock">
<div class="content">
<pre>defer! ( xt1 xt2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the deferred word <em>xt2</em> to execute <em>xt1</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646566657240">defer@</a></code>, <code><a href="#entry6465666572">defer</a></code>, <code><a href="#entry3E616374696F6E">&gt;action</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646566657240-src-lib-define-deferred-fs"><a id="entry646566657240"></a>defer@</h3>
<div class="listingblock">
<div class="content">
<pre>defer@ ( xt1 -- xt2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the word <em>xt2</em> currently associated to the deferred
word <em>xt1</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646566657221">defer!</a></code>, <code><a href="#entry6465666572">defer</a></code>, <code><a href="#entry3E616374696F6E">&gt;action</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.deferred.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6465666572726564-src-lib-define-deferred-fs"><a id="entry6465666572726564"></a>deferred</h3>
<div class="listingblock">
<div class="content">
<pre>deferred ( xt "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a deferred word <em>name</em> that will execute <em>xt</em>.  The
effect is the same than <code>defer name  xt ' name defer!</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6465666572">defer</a></code>, <code><a href="#entry646566657221">defer!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.deferred.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656665727265643F-src-lib-define-deferred-fs"><a id="entry64656665727265643F"></a>deferred?</h3>
<div class="listingblock">
<div class="content">
<pre>deferred? ( xt -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>xt</em> a deferred word?</p>
</div>
<div class="paragraph">
<p>The code of a deferred word starts with a Z80 jump ($C3) to
the word it&#8217;s associated to.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.deferred.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646566657273-src-lib-define-deferred-fs"><a id="entry646566657273"></a>defers</h3>
<div class="listingblock">
<div class="content">
<pre>defers ( Compilation: "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the present contents of the deferred word "name"
into the current definition. I.e. this produces static
binding as if "name" was not deferred.</p>
</div>
<div class="paragraph">
<p><code>defers</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.deferred.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646566696E6564-src-kernel-z80s"><a id="entry646566696E6564"></a>defined</h3>
<div class="listingblock">
<div class="content">
<pre>defined ( "name" -- nt | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em> and find its definition.  If the definition is
not found after searching all the word lists in the search
order, return zero. If the definition is found,
return its <em>nt</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: defined ( "name" -- nt | 0 ) parse-name find-name ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E646566696E65643F">undefined?</a></code>, <code><a href="#entry5B646566696E65645D">[defined]</a></code>, <code><a href="#entry70617273652D6E616D65">parse-name</a></code>,
<code><a href="#entry66696E642D6E616D65">find-name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646566696E6573-src-lib-objects-mini-oof-fs"><a id="entry646566696E6573"></a>defines</h3>
<div class="listingblock">
<div class="content">
<pre>defines ( xt class "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Bind <em>xt</em> to the selector <em>name</em> in class <em>class</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646566696E6974696F6E73-src-kernel-z80s"><a id="entry646566696E6974696F6E73"></a>definitions</h3>
<div class="listingblock">
<div class="content">
<pre>definitions ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the compilation word list the same as the first  word
list in the search order. The  names of subsequent definitions
will be placed in the compilation word list. Subsequent
changes in the search  order will not affect the compilation
word list.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: definitions ( -- ) context @ set-current ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (SEARCH), Forth-2012 (SEARCH).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6E74657874">context</a></code>, <code><a href="#entry7365742D63757272656E74">set-current</a></code>, <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry766F636162756C617279">vocabulary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656C657465-src-lib-editor-specforth-fs"><a id="entry64656C657465"></a>delete</h3>
<div class="listingblock">
<div class="content">
<pre>delete ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Delete <em>n</em> characters prior to the cursor.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656C6574652D66696C65-src-lib-dos-plus3dos-fs"><a id="entry64656C6574652D66696C65"></a>delete-file</h3>
<div class="listingblock">
<div class="content">
<pre>delete-file ( ca len -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Delete the disk file named in the string <em>ca len</em> and
return an error result <em>ior</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FILE), Forth-2012 (FILE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2864656C6574652D66696C65">(delete-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64656C696D69746564-src-lib-002-need-fs"><a id="entry64656C696D69746564"></a>delimited</h3>
<div class="listingblock">
<div class="content">
<pre>delimited ( ca1 len1 -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Add one leading space and one trailing space to string <em>ca1
len1</em>, returning the result <em>ca2 len2</em> in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64666F72-src-lib-flow-dfor-fs"><a id="entry64666F72"></a>dfor</h3>
<div class="listingblock">
<div class="content">
<pre>dfor</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: ( R:&#8201;&#8212;&#8201;dest ) Run-time: ( d&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>Start of a <code>dfor</code>..<code><a href="#entry6473746570">dstep</a></code> loop, that will iterate <em>ud+1</em>
times, starting with <em>du</em> and ending with 0.</p>
</div>
<div class="paragraph">
<p><code>dfor</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>The current value of the index can be retrieved with
<code><a href="#entry64666F722D69">dfor-i</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.dfor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64666F722D69-src-lib-flow-dfor-fs"><a id="entry64666F722D69"></a>dfor-i</h3>
<div class="listingblock">
<div class="content">
<pre>dfor-i ( -- d )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current index <em>d</em> of a <code><a href="#entry64666F72">dfor</a></code> loop.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.dfor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64687A3E626C656570-src-lib-sound-48-fs"><a id="entry64687A3E626C656570"></a>dhz&gt;bleep</h3>
<div class="listingblock">
<div class="content">
<pre>dhz&gt;bleep ( frequency duration1 -- duration2 pitch )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>frequency</em> (in dHz, i.e. tenths of hertzs) and
<em>duration1</em> (in ms) to the parameters <em>duration2 pitch</em>
needed by <code><a href="#entry626C656570">bleep</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry687A3E626C656570">hz&gt;bleep</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64696769743F-src-kernel-z80s"><a id="entry64696769743F"></a>digit?</h3>
<div class="listingblock">
<div class="content">
<pre>digit? ( c n -- u true | false )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the ascii character <em>c</em> (using base <em>n</em>) to its binary
equivalent <em>u</em>, accompanied by a true flag. If the conversion
is invalid, leave only a false flag.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>digit</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646970-src-lib-data_stack-fs"><a id="entry646970"></a>dip</h3>
<div class="listingblock">
<div class="content">
<pre>dip ( x1 x2 -- x2 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>This word is defined in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: dip ( x1 x2 -- x2 x2 ) nip dup ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6970">nip</a></code>, <code><a href="#entry647570">dup</a></code>, <code><a href="#entry7475636B">tuck</a></code>, <code><a href="#entry64727570">drup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646973636172642D6B6579-src-kernel-z80s"><a id="entry646973636172642D6B6579"></a>discard-key</h3>
<div class="listingblock">
<div class="content">
<pre>discard-key ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wait for a valid key and discard it.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6469736B2D627566666572-src-kernel-z80s"><a id="entry6469736B2D627566666572"></a>disk-buffer</h3>
<div class="listingblock">
<div class="content">
<pre>disk-buffer ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the disk buffer, which is a cell that holds its id.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646973706C6179-src-kernel-z80s"><a id="entry646973706C6179"></a>display</h3>
<div class="listingblock">
<div class="content">
<pre>display ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Select the display as output.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7072696E746572">printer</a></code>, <code><a href="#entry7072696E74696E67">printing</a></code>, <code><a href="#entry70616765">page</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646973706C61792D636861722D6269746D61705F-src-lib-graphics-udg-fs"><a id="entry646973706C61792D636861722D6269746D61705F"></a>display-char-bitmap_</h3>
<div class="listingblock">
<div class="content">
<pre>display-char-bitmap_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a Z80 routine that displays
the bitmap of a character at given cursor coordinates.</p>
</div>
<div class="paragraph">
<p>Input registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = address of the character bitmap</p>
</li>
<li>
<p>B = y coordinate (0..23)</p>
</li>
<li>
<p>C = x coordinate (0..31)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646E6567617465-src-kernel-z80s"><a id="entry646E6567617465"></a>dnegate</h3>
<div class="listingblock">
<div class="content">
<pre>dnegate ( d1 -- d2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Negate <em>d1</em>, giving its arithmetic inverse <em>d2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required
Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6567617465">negate</a></code>, <code><a href="#entry3F646E6567617465">?dnegate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F-src-lib-flow-do-fs"><a id="entry646F"></a>do</h3>
<div class="listingblock">
<div class="content">
<pre>do
  Compilation: ( -- do-sys )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <code><a href="#entry28646F29">(do)</a></code> and leave <em>do-sys</em> to be consumed by <code><a href="#entry6C6F6F70">loop</a></code> or
<code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p><code>do</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: do ( -- do-sys )
  postpone (do) &gt;mark ;  immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F646F">?do</a></code>, <code><a href="#entry2D646F">-do</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.do.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F636F6C6F6E-src-kernel-z80s"><a id="entry646F636F6C6F6E"></a>docolon</h3>
<div class="listingblock">
<div class="content">
<pre>docolon ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address of the colon interpreter.</p>
</div>
<div class="paragraph">
<p><code>dolocon</code> is used by <code><a href="#entry646F65733E">does&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F65733E-src-kernel-z80s"><a id="entry646F65733E"></a>does&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>does&gt;
  Compilation: ( -- )
  Run-time: ( -- ) ( R: nest-sys1 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define the execution-time action of a word created by a
high-level defining word.  Used in the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: definer ... create ... does&gt; ... ;

definer name</pre>
</div>
</div>
<div class="paragraph">
<p>where <code><a href="#entry637265617465">create</a></code> could be also any user defined word which
executes <code><a href="#entry637265617465">create</a></code>.</p>
</div>
<div class="paragraph">
<p><code>does&gt;</code> marks the termination of the defining part of the
defining word <em>definer</em> and then begins the definition of the
execution-time action for words that will later be defined by
<em>definer</em>.  When <em>name</em> is later executed, the address of
<em>name</em>'s parameter field is placed on the stack and then the
sequence of words between <code>does&gt;</code> and <code><a href="#entry3B">;</a></code> are executed.</p>
</div>
<div class="paragraph">
<p><code>does&gt;</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: does&gt; ( -- )
  postpone (;code) docolon call, ; immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Detailed description, after Forth-2012:</p>
</div>
<div class="paragraph">
<p>Compilation:</p>
</div>
<div class="paragraph">
<p>Append the run-time  semantics below  to the  current
definition.  Append the initiation semantics given below to
the current definition.</p>
</div>
<div class="paragraph">
<p>Run-time:</p>
</div>
<div class="paragraph">
<p>Replace the execution semantics of the  most recent
definition, referred to  as name, with the <em>name</em> execution
semantics given  below. Return  control  to the  calling
definition  specified  by <em>nest-sys1</em>.</p>
</div>
<div class="paragraph">
<p>Initiation: <code>( i*x&#8201;&#8212;&#8201;i*x pfa ) ( R:&#8201;&#8212;&#8201;nest-sys2)</code></p>
</div>
<div class="paragraph">
<p>Save information <em>nest-sys2</em>  about the calling definition.
Place <em>name</em>'s parameter field address on the stack. The stack
effects <em>i*x</em> represent arguments to name.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution: <code>( i*x&#8201;&#8212;&#8201;j*x )</code></p>
</div>
<div class="paragraph">
<p>Execute the portion of the definition  that begins with the
initiation  semantics appended by the <code>does&gt;</code>  which
modified <em>name</em>. The stack effects <em>i*x</em> and <em>j*x</em> represent
arguments to and results from <em>name</em>, respectively.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required Word
Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3B">;</a></code>, <code><a href="#entry3B636F6465">;code</a></code>, <code><a href="#entry637265617465">create</a></code>, <code><a href="#entry283B636F646529">(;code)</a></code>, <code><a href="#entry63616C6C2C">call,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F6E2774-src-lib-flow-MISC-fs"><a id="entry646F6E2774"></a>don't</h3>
<div class="listingblock">
<div class="content">
<pre>don't ( n1 n2 -- | n1 n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n1</em> equals <em>n2</em>, remove them and exit the definition
that called <code>don&#8217;t</code>, else leave the <em>n1</em> and <em>n2</em> on the
stack.</p>
</div>
<div class="paragraph">
<p><code>don&#8217;t</code> is a <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p><code>don&#8217;t</code> is intended to be used before <code><a href="#entry646F">do</a></code>, as an
alternative to <code><a href="#entry3F646F">?do</a></code>, when the do-loop structure is
factored in its own word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F73-src-kernel-z80s"><a id="entry646F73"></a>dos</h3>
<div class="listingblock">
<div class="content">
<pre>dos ( -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the name of the DOS in string <em>ca len</em>.
It can be "+3DOS", "G+DOS" or "TR-DOS".</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672B646F73">g+dos</a></code>, <code><a href="#entry74722D646F73">tr-dos</a></code>, <code><a href="#entry2B33646F73">+3dos</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F732D696E5F-src-kernel-plus3dos-z80s"><a id="entry646F732D696E5F"></a>dos-in_</h3>
<div class="listingblock">
<div class="content">
<pre>dos-in_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a routine that pages in RAM 7 and ROM 2 (DOS), as
needed to call a +3DOS routine.</p>
</div>
<div class="paragraph">
<p>The stack must be somewhere in central 32K (conforming to
+3DOS requirements).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F732D6F75745F">dos-out_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F732D69782D70726573657276652D69705F-src-kernel-plus3dos-z80s"><a id="entry646F732D69782D70726573657276652D69705F"></a>dos-ix-preserve-ip_</h3>
<div class="listingblock">
<div class="content">
<pre>dos-ix-preserve-ip_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a routine that executes the +3DOS command hold in
the IX register, preserving the Forth IP.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Input:
  IX = address of the +3DOS routine
Output:
  IX = Forth `&lt;&lt;entry6E657874, pass:c[next]&gt;&gt;`</pre>
</div>
</div>
<div class="paragraph">
<p>The stack must be somewhere in central 32K (conforming to
+3DOS requirements).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F732D69785F">dos-ix_</a></code>, <code><a href="#entry646F732D746F735F">dos-tos_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F732D69785F-src-kernel-plus3dos-z80s"><a id="entry646F732D69785F"></a>dos-ix_</h3>
<div class="listingblock">
<div class="content">
<pre>dos-ix_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a routine that executes the +3DOS command hold in
the IX register.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Input:
  IX = address of the +3DOS routine
Output:
  IX = Forth `&lt;&lt;entry6E657874, pass:c[next]&gt;&gt;`</pre>
</div>
</div>
<div class="paragraph">
<p>The stack must be somewhere in central 32K (conforming to
+3DOS requirements).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F732D69782D70726573657276652D69705F">dos-ix-preserve-ip_</a></code>, <code><a href="#entry646F732D746F735F">dos-tos_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F732D6F75745F-src-kernel-plus3dos-z80s"><a id="entry646F732D6F75745F"></a>dos-out_</h3>
<div class="listingblock">
<div class="content">
<pre>dos-out_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a routine that pages out RAM 7 and ROM 2 (DOS),
paging in the default memory configuration: RAM 0 and ROM 3
(48 BASIC).</p>
</div>
<div class="paragraph">
<p>The stack must be somewhere in central 32K (conforming to
+3DOS requirements).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F732D696E5F">dos-in_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F732D746F735F-src-kernel-plus3dos-z80s"><a id="entry646F732D746F735F"></a>dos-tos_</h3>
<div class="listingblock">
<div class="content">
<pre>dos-tos_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a routine that executes the +3DOS command hold on
the top of the stack.</p>
</div>
<div class="paragraph">
<p>This routine is used when the IX register is a parameter of
the +3DOS routine.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Input:
  (TOS) = address of the +3DOS routine
Output:
  IX = Forth `&lt;&lt;entry6E657874, pass:c[next]&gt;&gt;`</pre>
</div>
</div>
<div class="paragraph">
<p>The stack must be somewhere in central 32K (conforming to
+3DOS requirements).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F732D69785F">dos-ix_</a></code>, <code><a href="#entry646F732D69782D70726573657276652D69705F">dos-ix-preserve-ip_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F73696F723E696F72-src-kernel-plus3dos-z80s"><a id="entry646F73696F723E696F72"></a>dosior&gt;ior</h3>
<div class="listingblock">
<div class="content">
<pre>dosior&gt;ior ( dosior -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a DOS ior to a Forth ior.</p>
</div>
<div class="paragraph">
<p><code>dosior&gt;ior</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: dosior&gt;ior ( dosior -- ior ) 1000 + negate ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70757368646F73696F72">pushdosior</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry646F766F636162756C617279-src-kernel-z80s"><a id="entry646F766F636162756C617279"></a>dovocabulary</h3>
<div class="listingblock">
<div class="content">
<pre>dovocabulary ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the behaviour of the latest word defined:
Replace the first word list in the search order with
the <em>wid</em> stored in its body.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: dovocabulary ( -- ) does&gt; ( -- ) ( pfa ) @ context ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry766F636162756C617279">vocabulary</a></code>, <code><a href="#entry776F72646C6973743E766F636162756C617279">wordlist&gt;vocabulary</a></code>, <code><a href="#entry776F72646C697374">wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6470-src-kernel-z80s"><a id="entry6470"></a>dp</h3>
<div class="listingblock">
<div class="content">
<pre>dp ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A user variable. <em>a</em> is the address of a cell containing the
data-space pointer.  The value may be read by <code><a href="#entry68657265">here</a></code> and
altered by <code><a href="#entry7468657265">there</a></code> and <code><a href="#entry616C6C6F74">allot</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64706C-src-kernel-z80s"><a id="entry64706C"></a>dpl</h3>
<div class="listingblock">
<div class="content">
<pre>dpl ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds XXX TODO</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6472697665-src-lib-dos-COMMON-fs"><a id="entry6472697665"></a>drive</h3>
<div class="listingblock">
<div class="content">
<pre>drive ( c1 -- c2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert drive number <em>c1</em> (0 index) to actual drive
identifier <em>c2</em> (DOS dependent).</p>
</div>
<div class="paragraph">
<p><code>drive</code> is used in order to make the code portable,
abstracting the DOS drive identifiers.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>\ Set the second disk drive as default:

2 set-drive       \ on G+DOS only
1 set-drive       \ on TR-DOS only
'B' set-drive     \ on +3DOS only

1 drive set-drive \ on any DOS -- portable code</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66697273742D6472697665">first-drive</a></code>, <code><a href="#entry6D61782D647269766573">max-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64726F70-src-kernel-z80s"><a id="entry64726F70"></a>drop</h3>
<div class="listingblock">
<div class="content">
<pre>drop ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64726F702D74797065-src-lib-display-type-fs"><a id="entry64726F702D74797065"></a>drop-type</h3>
<div class="listingblock">
<div class="content">
<pre>drop-type ( ca len x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove <em>x</em> from the stack and display the string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p><code>drop-type</code> is one of the possible actions of
<code><a href="#entry747970652D72696768742D6669656C64">type-right-field</a></code> and <code><a href="#entry747970652D63656E7465722D6669656C64">type-center-field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64727570-src-lib-data_stack-fs"><a id="entry64727570"></a>drup</h3>
<div class="listingblock">
<div class="content">
<pre>drup ( x1 x2 -- x1 x1 )</pre>
</div>
</div>
<div class="paragraph">
<p>This word is defined in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: drup ( x1 x2 -- x1 x1 ) drop dup ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry647570">dup</a></code>, <code><a href="#entry7475636B">tuck</a></code>, <code><a href="#entry6E7570">nup</a></code>, <code><a href="#entry646970">dip</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6473746570-src-lib-flow-dfor-fs"><a id="entry6473746570"></a>dstep</h3>
<div class="listingblock">
<div class="content">
<pre>dstep
  Compilation: ( dest -- )
  Run-time:    ( R: ud -- ud' )</pre>
</div>
</div>
<div class="paragraph">
<p><code>dstep</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Compilation: ( dest&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>Append the run-time semantics given below to the current
definition. Resolve the destination of <code><a href="#entry64666F72">dfor</a></code>.</p>
</div>
<div class="paragraph">
<p>Run-time: ( R: ud&#8201;&#8212;&#8201;ud' )</p>
</div>
<div class="paragraph">
<p>If the loop index is zero, discard the loop parameters and
continue execution after the loop. Otherwise decrement the
loop index and continue execution at the beginning of the
loop.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.dfor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6474696D6573-src-lib-flow-times-fs"><a id="entry6474696D6573"></a>dtimes</h3>
<div class="listingblock">
<div class="content">
<pre>dtimes ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Repeat the next compiled instruction <em>d</em> times.  If <em>d</em> is
zero, continue executing the following instruction.</p>
</div>
<div class="paragraph">
<p>This structure is not nestable.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: blink ( -- ) 7 0 ?do  i border  loop  0 border ;
: blinking ( -- ) 100000. dtimes blink  ." Done" cr ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry74696D6573">times</a></code>, <code><a href="#entry657865637574696F6E73">executions</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.times.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64752F6D6F64-src-lib-math-operators-2-cell-fs"><a id="entry64752F6D6F64"></a>du/mod</h3>
<div class="listingblock">
<div class="content">
<pre>du/mod ( ud1 ud2 -- ud3 ud4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>ud1</em> by <em>ud2</em>, giving the remainder <em>ud3</em> and
the quotient <em>ud4</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F6D6F64">/mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.2-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry64756D70-src-lib-tool-dump-fs"><a id="entry64756D70"></a>dump</h3>
<div class="listingblock">
<div class="content">
<pre>dump ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Show the contents of <em>len</em> address units from <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.dump.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry647570-src-kernel-z80s"><a id="entry647570"></a>dup</h3>
<div class="listingblock">
<div class="content">
<pre>dup ( x -- x x )</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate <em>x</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F647570">?dup</a></code>, <code><a href="#entry32647570">2dup</a></code>, <code><a href="#entry7475636B">tuck</a></code>, <code><a href="#entry6F766572">over</a></code>, <code><a href="#entry30647570">0dup</a></code>, <code><a href="#entry2D647570">-dup</a></code>,
<code><a href="#entry6E7570">nup</a></code>, <code><a href="#entry33647570">3dup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6475703E72-src-lib-return_stack-fs"><a id="entry6475703E72"></a>dup&gt;r</h3>
<div class="listingblock">
<div class="content">
<pre>dup&gt;r ( x -- x ) ( R: -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>A faster alternative to the idiom <code>dup &gt;r</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/return_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry647A78376D-src-lib-decompressor-zx7-fs"><a id="entry647A78376D"></a>dzx7m</h3>
<div class="listingblock">
<div class="content">
<pre>dzx7m ( a1 a2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Decompress data, which has been compressed by ZX7, from
<em>a1</em> and copy the result to <em>a2</em>.</p>
</div>
<div class="paragraph">
<p><code>dzx7m</code> is the port of the ZX7 decompressor, "Mega"
version, written by Einar Saukas.</p>
</div>
<div class="paragraph">
<p><code>dzx7m</code> is the fastest (30% faster than <code><a href="#entry647A783773">dzx7s</a></code>) but
biggest (251 bytes) version of the decompressor. <code><a href="#entry647A783773">dzx7s</a></code>
and <code><a href="#entry647A783774">dzx7t</a></code> are smaller but slower.</p>
</div>
<div class="paragraph">
<p>For more information, see
<a href="http://www.worldofspectrum.org/infoseekid.cgi?id=0027996" class="bare">http://www.worldofspectrum.org/infoseekid.cgi?id=0027996</a>
ZX7 in World of Spectrum].</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/decompressor.zx7.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry647A783773-src-lib-decompressor-zx7-fs"><a id="entry647A783773"></a>dzx7s</h3>
<div class="listingblock">
<div class="content">
<pre>dzx7s ( a1 a2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Decompress data, which has been compressed by ZX7, from
<em>a1</em> and copy the result to <em>a2</em>.</p>
</div>
<div class="paragraph">
<p><code>dzx7s</code> is the port of the ZX7 decompressor, "Standard"
version, written by Einar Saukas, Antonio Villena &amp;
Metalbrain.</p>
</div>
<div class="paragraph">
<p><code>dzx7s</code> is the smallest (87 bytes) but slowest version of
the decompressor. <code><a href="#entry647A783774">dzx7t</a></code> and <code><a href="#entry647A78376D">dzx7m</a></code> are bigger but
faster.</p>
</div>
<div class="paragraph">
<p>For more information, see
<a href="http://www.worldofspectrum.org/infoseekid.cgi?id=0027996" class="bare">http://www.worldofspectrum.org/infoseekid.cgi?id=0027996</a>
ZX7 in World of Spectrum].</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/decompressor.zx7.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry647A783774-src-lib-decompressor-zx7-fs"><a id="entry647A783774"></a>dzx7t</h3>
<div class="listingblock">
<div class="content">
<pre>dzx7t ( a1 a2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Decompress data, which has been compressed by ZX7, from
<em>a1</em> and copy the result to <em>a2</em>.</p>
</div>
<div class="paragraph">
<p><code>dzx7t</code> is the port of the ZX7 decompressor, "Turbo"
version, written by Einar Saukas &amp; Urusergi.</p>
</div>
<div class="paragraph">
<p><code>dzx7t</code> is 25% faster than <code><a href="#entry647A783773">dzx7s</a></code>, and needs only 10
more bytes (97 bytes in total). <code><a href="#entry647A78376D">dzx7m</a></code> is bigger but
faster.</p>
</div>
<div class="paragraph">
<p>For more information, see
<a href="http://www.worldofspectrum.org/infoseekid.cgi?id=0027996" class="bare">http://www.worldofspectrum.org/infoseekid.cgi?id=0027996</a>
ZX7 in World of Spectrum].</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/decompressor.zx7.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry65-src-lib-editor-specforth-fs"><a id="entry65"></a>e</h3>
<div class="listingblock">
<div class="content">
<pre>e ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Erase line <em>n</em> with blanks.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68-src-lib-editor-specforth-fs">h</a></code>,
<code><a href="#entry69-src-lib-editor-specforth-fsb">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>, <code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>,
<code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry652D62616E6B5F-src-lib-memory-far-fs"><a id="entry652D62616E6B5F"></a>e-bank_</h3>
<div class="listingblock">
<div class="content">
<pre>e-bank_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a routine that pages in the
bank hold in the E register.
This routine is a secondary entry point of <code><a href="#entry64656661756C742D62616E6B">default-bank</a></code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Input: E = bank</p>
</li>
<li>
<p>Output: A corrupted</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64656661756C742D62616E6B5F">default-bank_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656974686572-src-lib-math-operators-1-cell-fs"><a id="entry656974686572"></a>either</h3>
<div class="listingblock">
<div class="content">
<pre>either ( x1 x2 x3 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>true</em> if <em>x1</em> equals either <em>x2</em> or <em>x3</em>;
else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E656974686572">neither</a></code>, <code><a href="#entry6966656C7365">ifelse</a></code>, <code><a href="#entry616E793F">any?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656C7365-src-kernel-z80s"><a id="entry656C7365"></a>else</h3>
<div class="listingblock">
<div class="content">
<pre>else ( orig1 -- orig2 )</pre>
</div>
</div>
<div class="paragraph">
<p><code>else</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656D6974-src-kernel-z80s"><a id="entry656D6974"></a>emit</h3>
<div class="listingblock">
<div class="content">
<pre>emit ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656D69742D756467-src-kernel-z80s"><a id="entry656D69742D756467"></a>emit-udg</h3>
<div class="listingblock">
<div class="content">
<pre>emit-udg ( c|n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the UDG <em>c|n</em> from the current UDG set, which is pointed
by <code><a href="#entry6F732D756467">os-udg</a></code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The usual parameter is <em>c</em> (0..255), but no check is
done. If a 16-bit value <em>n</em> is received instead, it will be
used as well in order to calculate the address of the
corresponding character bitmap in the UDG set.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D756467">set-udg</a></code>, <code><a href="#entry656D6974">emit</a></code>, <code><a href="#entry6D6F64652D33322D656D6974">mode-32-emit</a></code>, <code><a href="#entry6C6173742D666F6E742D63686172">last-font-char</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656D697473-src-kernel-z80s"><a id="entry656D697473"></a>emits</h3>
<div class="listingblock">
<div class="content">
<pre>emits ( c n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is greater than zero, display <em>n</em> characters <em>c</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: emits ( c n -- ) 0 max 0 ?do dup emit loop drop ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656D7074792D62756666657273-src-kernel-z80s"><a id="entry656D7074792D62756666657273"></a>empty-buffers</h3>
<div class="listingblock">
<div class="content">
<pre>empty-buffers ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Unassign all block buffers. Do not transfer the contents of
any updated block to mass storage.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: empty-buffers ( -- ) $7FFF disk-buffer ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Controlled Reference Words), Forth-94 (BLOCK EXT), Forth-2012
(BLOCK EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry757064617465">update</a></code>, <code><a href="#entry666C757368">flush</a></code>, <code><a href="#entry6469736B2D627566666572">disk-buffer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656D7074792D68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry656D7074792D68656170"></a>empty-heap</h3>
<div class="listingblock">
<div class="content">
<pre>empty-heap ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Empty the current <code><a href="#entry68656170">heap</a></code>, which was created by
<code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>, <code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry62616E6B2D68656170">bank-heap</a></code> or <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>.</p>
</div>
<div class="paragraph">
<p><code>empty-heap</code> is a deferred word whose action can be
<code><a href="#entry636861726C746F6E2D656D7074792D68656170">charlton-empty-heap</a></code> or <code><a href="#entry67696C2D656D7074792D68656170">gil-empty-heap</a></code>, depending on the
<code><a href="#entry68656170">heap</a></code> implementation used by the application.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656D7074792D737472696E676572-src-kernel-z80s"><a id="entry656D7074792D737472696E676572"></a>empty-stringer</h3>
<div class="listingblock">
<div class="content">
<pre>empty-stringer ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Empty the <code><a href="#entry737472696E676572">stringer</a></code>, by initializing <code><a href="#entry2B737472696E676572">+stringer</a></code> with
<code><a href="#entry2F737472696E676572">/stringer</a></code>.  The contents of the <code><a href="#entry737472696E676572">stringer</a></code> are not modifed.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: empty-stringer ( -- ) /stringer +stringer ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64656661756C742D737472696E676572">default-stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D617070-src-lib-blocks-fs"><a id="entry656E642D617070"></a>end-app</h3>
<div class="listingblock">
<div class="content">
<pre>end-app ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark the end of an application that is being loaded by
<code><a href="#entry6C6F61642D617070">load-app</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6164696E672D617070">loading-app</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D61736D-src-kernel-z80s"><a id="entry656E642D61736D"></a>end-asm</h3>
<div class="listingblock">
<div class="content">
<pre>end-asm ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Exit the assembler mode started by <code><a href="#entry61736D">asm</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E642D636F6465">end-code</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D636C617373-src-lib-objects-mini-oof-fs"><a id="entry656E642D636C617373"></a>end-class</h3>
<div class="listingblock">
<div class="content">
<pre>end-class ( class methods vars "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End the definition of a class.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D636F6465-src-kernel-z80s"><a id="entry656E642D636F6465"></a>end-code</h3>
<div class="listingblock">
<div class="content">
<pre>end-code ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Terminates a code definition started by <code><a href="#entry636F6465">code</a></code> or <code><a href="#entry3B636F6465">;code</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: end-code ( -- ) end-asm reveal ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Assembler Extension Word Set).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E642D61736D">end-asm</a></code>, <code><a href="#entry72657665616C">reveal</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D64617461-src-lib-data-data-fs"><a id="entry656E642D64617461"></a>end-data</h3>
<div class="listingblock">
<div class="content">
<pre>end-data ( n orig -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Finish the definition started by <code><a href="#entry64617461">data</a></code>, calculating the
number of data items of <em>n</em> address units that were
compiled and store it at <em>orig</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.data.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D696E7465726E616C-src-lib-modules-internal-fs"><a id="entry656E642D696E7465726E616C"></a>end-internal</h3>
<div class="listingblock">
<div class="content">
<pre>end-internal ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>End internal (private) definitions.  Return the current
value of the headers pointer, which is the <em>xtp</em> (execution
token pointer) of the next word defined.</p>
</div>
<div class="paragraph">
<p>The start of the internal definitions was marked by
<code><a href="#entry696E7465726E616C">internal</a></code>. The internal definitions can be unlinked by
<code><a href="#entry756E6C696E6B2D696E7465726E616C">unlink-internal</a></code> or hidden by <code><a href="#entry686964652D696E7465726E616C">hide-internal</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.internal.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D6D6F64756C65-src-lib-modules-module-fs"><a id="entry656E642D6D6F64756C65"></a>end-module</h3>
<div class="listingblock">
<div class="content">
<pre>end-module ( parent-wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End a <code><a href="#entry6D6F64756C65">module</a></code> definition. All module internal words are no
longer accessible.  Only words that have been exported with
<code><a href="#entry6578706F7274">export</a></code> are still available.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.module.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D7061636B616765-src-lib-modules-package-fs"><a id="entry656E642D7061636B616765"></a>end-package</h3>
<div class="listingblock">
<div class="content">
<pre>end-package ( wid0 wid1 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End the current package, which was started by <code><a href="#entry7061636B616765">package</a></code>.</p>
</div>
<div class="paragraph">
<p><em>wid1</em> is the word list of the current package; <em>wid0</em>
is the word list in which the current package was created.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7075626C6963">public</a></code>, <code><a href="#entry70726976617465">private</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.package.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D7365636C7573696F6E-src-lib-modules-MISC-fs"><a id="entry656E642D7365636C7573696F6E"></a>end-seclusion</h3>
<div class="listingblock">
<div class="content">
<pre>end-seclusion ( wid1 wid2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End a <code><a href="#entry7365636C7573696F6E">seclusion</a></code> module.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D7365636C7573696F6E">-seclusion</a></code>, <code><a href="#entry2B7365636C7573696F6E">+seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D737472756374757265-src-lib-data-begin-structure-fs"><a id="entry656E642D737472756374757265"></a>end-structure</h3>
<div class="listingblock">
<div class="content">
<pre>end-structure ( struct-sys +n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Terminate definition of a structure started by
<code><a href="#entry626567696E2D737472756374757265">begin-structure</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (FACILITY EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E642D7472616E7369656E74-src-lib-modules-transient-fs"><a id="entry656E642D7472616E7369656E74"></a>end-transient</h3>
<div class="listingblock">
<div class="content">
<pre>end-transient ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End the transient code started by <code><a href="#entry7472616E7369656E74">transient</a></code>.
<code>end-transient</code> must be used after compiling the
transient code.</p>
</div>
<div class="paragraph">
<p>The inner operation is: Restore the old values of <code><a href="#entry6470">dp</a></code>,
<code><a href="#entry6E70">np</a></code>, <code><a href="#entry6C696D6974">limit</a></code> and <code><a href="#entry6661726C696D6974">farlimit</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666F726765742D7472616E7369656E74">forget-transient</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.transient.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E643F6363617365-src-lib-flow-ccase-fs"><a id="entry656E643F6363617365"></a>end?ccase</h3>
<div class="listingblock">
<div class="content">
<pre>end?ccase
  Compilation: ( C: orig -- )
  Run-time: ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End of a <code><a href="#entry3F6363617365">?ccase</a></code> control structure.
See <code><a href="#entry3F6363617365">?ccase</a></code> for a usage example.</p>
</div>
<div class="paragraph">
<p><code>end?ccase</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E6463617365-src-lib-flow-case-fs"><a id="entry656E6463617365"></a>endcase</h3>
<div class="listingblock">
<div class="content">
<pre>endcase
  Compilation: ( 0 orig1..orign -- )
  Run-time: ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>endcase</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E646363617365-src-lib-flow-ccase-fs"><a id="entry656E646363617365"></a>endccase</h3>
<div class="listingblock">
<div class="content">
<pre>endccase
  Compilation: ( C: orig1 orig2 -- )
  Run-time: ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End of a <code><a href="#entry6363617365">ccase</a></code> control structure.
See <code><a href="#entry6363617365">ccase</a></code> for a usage example.</p>
</div>
<div class="paragraph">
<p><code>endccase</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E64636361736530-src-lib-flow-ccase-fs"><a id="entry656E64636361736530"></a>endccase0</h3>
<div class="listingblock">
<div class="content">
<pre>endccase0
  Compilation: ( C: orig -- )
  Run-time: ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End of a <code><a href="#entry636361736530">ccase0</a></code> control structure.
See <code><a href="#entry636361736530">ccase0</a></code> for a usage example.</p>
</div>
<div class="paragraph">
<p><code>endcase0</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.ccase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E646D-src-lib-assembler-macro-fs"><a id="entry656E646D"></a>endm</h3>
<div class="listingblock">
<div class="content">
<pre>endm ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Finish the definition of an assembler macro, started by
<code><a href="#entry6D6163726F">macro</a></code>.</p>
</div>
<div class="paragraph">
<p><code>endm</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.macro.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E646F66-src-lib-flow-case-fs"><a id="entry656E646F66"></a>endof</h3>
<div class="listingblock">
<div class="content">
<pre>endof ( orig1 -- orig2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark the end of an <code><a href="#entry6F66">of</a></code> clause of the <code><a href="#entry63617365">case</a></code> structure.</p>
</div>
<div class="paragraph">
<p><code>endof</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E7472793A-src-lib-data-associative-list-fs"><a id="entry656E7472793A"></a>entry:</h3>
<div class="listingblock">
<div class="content">
<pre>entry: ( x wid "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a cell entry "name" in associative list
<em>wid</em>, with value <em>x</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E756D-src-lib-data-MISC-fs"><a id="entry656E756D"></a>enum</h3>
<div class="listingblock">
<div class="content">
<pre>enum ( n "name" -- n+1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a constant <em>name</em> with value <em>n</em> and return <em>n+1</em>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0 enum first
  enum second
  enum third
  enum fourth
drop</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63656E756D">cenum</a></code>, <code><a href="#entry656E756D63656C6C">enumcell</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E756D63656C6C-src-lib-data-MISC-fs"><a id="entry656E756D63656C6C"></a>enumcell</h3>
<div class="listingblock">
<div class="content">
<pre>enumcell ( n "name" -- n+cell )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a constant <em>name</em> with value <em>n</em> and return
<em>n+cell</em>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0 enumcell first
  enumcell second
  enumcell third
  enumcell fourth
drop</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E756D">enum</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E7669726F6E6D656E742D776F72646C697374-src-lib-environment-question-fs"><a id="entry656E7669726F6E6D656E742D776F72646C697374"></a>environment-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>environment-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that holds the word list identifier <em>wid</em> where
the environmental queries are defined.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry656E7669726F6E6D656E743F-src-lib-environment-question-fs"><a id="entry656E7669726F6E6D656E743F"></a>environment?</h3>
<div class="listingblock">
<div class="content">
<pre>environment? ( ca len -- false | i*x true )</pre>
</div>
</div>
<div class="paragraph">
<p>The string <em>ca len</em> is the identifier of an environmental
query. If the string is not recognized, return a false
flag. Otherwise return a true flag and some information
about the query.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">String</th>
<th class="tableblock halign-left valign-top">Value data type</th>
<th class="tableblock halign-left valign-top">Constant?</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/COUNTED-STRING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum size of a counted string, in characters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/HOLD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">size of the pictured numeric output string buffer, in characters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/PAD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">size of the scratch area pointed to by PAD, in characters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADDRESS-UNIT-BITS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">size of one address unit, in bits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLOORED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true if floored division is the default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAX-CHAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum value of any character in the implementation-defined character set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAX-D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">largest usable signed double number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAX-N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">largest usable signed integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAX-U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">largest usable unsigned integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAX-UD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ud</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">largest usable unsigned double number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RETURN-STACK-CELLS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum size of the return stack, in cells</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STACK-CELLS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum size of the data stack, in cells</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Notes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Forth-2012 designates the Forth-94 practice of using
<code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code> to inquire whether a given word set is
present as obsolescent.  The Forth-94 environmental strings
are not supported in Solo Forth.</p>
</li>
<li>
<p>In Solo Forth environment queries are also independent
ordinary constants accessible by <code><a href="#entry6E656564">need</a></code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E7669726F6E6D656E742D776F72646C697374">environment-wordlist</a></code>.  <code><a href="#entry2F636F756E7465642D737472696E67">/counted-string</a></code>,
<code><a href="#entry2F706164">/pad</a></code>, <code><a href="#entry616464726573732D756E69742D62697473">address-unit-bits</a></code>, <code><a href="#entry666C6F6F726564">floored</a></code>, <code><a href="#entry6D61782D63686172">max-char</a></code>,
<code><a href="#entry6D61782D64">max-d</a></code>, <code><a href="#entry6D61782D6E">max-n</a></code>, <code><a href="#entry6D61782D75">max-u</a></code>, <code><a href="#entry6D61782D7564">max-ud</a></code>, <code><a href="#entry72657475726E2D737461636B2D63656C6C73">return-stack-cells</a></code>,
<code><a href="#entry737461636B2D63656C6C73">stack-cells</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6572617365-src-kernel-z80s"><a id="entry6572617365"></a>erase</h3>
<div class="listingblock">
<div class="content">
<pre>erase ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, clear all bits in each ol <em>len</em>
consecutive address units of memory beginning at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-83 (Controlled Reference Words), Forth-94
(CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6572726F72-src-kernel-z80s"><a id="entry6572726F72"></a>error</h3>
<div class="listingblock">
<div class="content">
<pre>error ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the error number <em>n</em> into <code><a href="#entry6572726F722D6E756D626572">error-number</a></code>, and the current
block and line into <code><a href="#entry6572726F722D706F73">error-pos</a></code>, to be used by <code><a href="#entry7768657265">where</a></code>.  Issue
error <em>n</em> and restart the system.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: error ( n -- )
  dup error-number !
  &gt;in @ blk @ error-pos 2!
  dup -1 = if  (abort)  then
  dup -2 = if  space abort-message 2@ type (abort)  then
  .error-word .throw  (abort) ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6572726F7223-src-kernel-z80s"><a id="entry6572726F7223"></a>error#</h3>
<div class="listingblock">
<div class="content">
<pre>error# ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Variable that holds the number of the last error issued by
<code><a href="#entry6572726F72">error</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6572726F722D706F73-src-kernel-z80s"><a id="entry6572726F722D706F73"></a>error-pos</h3>
<div class="listingblock">
<div class="content">
<pre>error-pos ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Double variable that holds the position of the last error
issued by <code><a href="#entry6572726F72">error</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>high part = value of <code><a href="#entry626C6B">blk</a></code></p>
</li>
<li>
<p>low part = value of <code><a href="#entry3E696E">&gt;in</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7768657265">where</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6572726F723E6C696E65-src-lib-exception-fs"><a id="entry6572726F723E6C696E65"></a>error&gt;line</h3>
<div class="listingblock">
<div class="content">
<pre>error&gt;line ( -n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert error code <em>-n1</em> to line <em>n2</em> relative to the block
that contains the error messages.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6572726F723E6F7264696E616C-src-lib-exception-fs"><a id="entry6572726F723E6F7264696E616C"></a>error&gt;ordinal</h3>
<div class="listingblock">
<div class="content">
<pre>error&gt;ordinal ( -n1 -- +n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert an error code <em>n1</em> to its ordinal position <em>+n2</em> in
the library.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-n1 =  -90..-1        \ Standard error codes
       -300..-256     \ Solo Forth error codes
       -1024..-1000   \ G+DOS error codes
+n2 =  1..146</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6572726F72732D626C6F636B-src-lib-exception-fs"><a id="entry6572726F72732D626C6F636B"></a>errors-block</h3>
<div class="listingblock">
<div class="content">
<pre>errors-block ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Variable that contains the block that holds the error
messages.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6573632D626C6F636B2D63686172732D776F72646C697374-src-lib-strings-escaped-graphics-fs"><a id="entry6573632D626C6F636B2D63686172732D776F72646C697374"></a>esc-block-chars-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>esc-block-chars-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Identifier of the word list that contains the escaped block
characters used by the BASin IDE and other ZX Spectrum
tools:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Escaped notation</th>
<th class="tableblock halign-left valign-top">Default character code</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\&lt;space&gt;&lt;space&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\&lt;space&gt;'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">129</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\'&lt;space&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">130</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\''</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">131</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\&lt;space&gt;.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">132</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\&lt;space&gt;:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">133</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\'.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">134</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\':</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">135</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\.&lt;space&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">136</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\.'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">137</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\:&lt;space&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">138</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\:'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">139</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\..</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">140</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\.:</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">141</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\:.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">142</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\::</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">143</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In order to make <code>s\", `<a href="#entry2E5C22">.\"</a></code> and their common factor
<code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code> recognize the escaped block characters,
<code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code> must be pushed to the escaped
strings search order.  Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>need set-esc-order
esc-standard-chars-wordlist
esc-block-chars-wordlist 2 set-esc-order

s\" \::\:.\ '\. \nNew line:\.'\:'\'.\: ..." type</pre>
</div>
</div>
<div class="paragraph">
<p>The code of the first block character can be modified with
the character variable <code><a href="#entry66697273742D6573632D626C6F636B2D63686172">first-esc-block-char</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66697273742D6573632D626C6F636B2D63686172">first-esc-block-char</a></code>, <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>, <code><a href="#entry3E6573632D6F72646572">&gt;esc-order</a></code>,
<code><a href="#entry6573632D7374616E646172642D63686172732D776F72646C697374">esc-standard-chars-wordlist</a></code>, <code><a href="#entry6573632D7564672D63686172732D776F72646C697374">esc-udg-chars-wordlist</a></code>,
<code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code>, <code><a href="#entry735C22">s\"</a></code>, <code><a href="#entry2E5C22">.\"</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.graphics.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6573632D636F6E74657874-src-lib-strings-escaped-fs"><a id="entry6573632D636F6E74657874"></a>esc-context</h3>
<div class="listingblock">
<div class="content">
<pre>esc-context ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the escaped strings search order: <em>a</em>
is the address of an array of cells, whose maximum length
is hold in the <code><a href="#entry6D61782D6573632D6F72646572">max-esc-order</a></code> constant, and whose current
length is hold in the <code><a href="#entry236573632D6F72646572">#esc-order</a></code> variable.  <em>a</em> holds the
word list at the top of the search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6573632D6D61782D6F72646572">esc-max-order</a></code>, <code><a href="#entry3E6573632D6F72646572">&gt;esc-order</a></code>, <code><a href="#entry6573632D6765742D6F72646572">esc-get-order</a></code>,
<code><a href="#entry6573632D7365742D6F72646572">esc-set-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6573632D70726576696F7573-src-lib-strings-escaped-fs"><a id="entry6573632D70726576696F7573"></a>esc-previous</h3>
<div class="listingblock">
<div class="content">
<pre>esc-previous ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove the top word list (the word list that is searched
first) from the escaped strings search order.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6573632D7365742D6F72646572-src-lib-strings-escaped-fs"><a id="entry6573632D7365742D6F72646572"></a>esc-set-order</h3>
<div class="listingblock">
<div class="content">
<pre>esc-set-order ( widn..wid1 n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the escaped strings search order to the word lists
identified by <em>widn..wid1</em>. Subsequently, word list <em>wid1</em>
will be searched first, and word list <em>widn</em> searched last.
If <em>n</em> is zero, empty the escaped strings search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6573632D6765742D6F72646572">esc-get-order</a></code>, <code><a href="#entry3E6573632D6F72646572">&gt;esc-order</a></code>,
<code><a href="#entry6573632D7374616E646172642D63686172732D776F72646C697374">esc-standard-chars-wordlist</a></code>, <code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code>,
<code>esc-udg-chars-ẁordlist</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6573632D7374616E646172642D63686172732D776F72646C697374-src-lib-strings-escaped-fs"><a id="entry6573632D7374616E646172642D63686172732D776F72646C697374"></a>esc-standard-chars-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>esc-standard-chars-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Identifier of the word list that contains the words whose
names are the standard characters that must be escaped
after a backslash in strings parsed by <code><a href="#entry735C22">s\"</a></code>, <code><a href="#entry2E5C22">.\"</a></code> and
other words.</p>
</div>
<div class="paragraph">
<p>The execution of the words defined in the word list
identified by <code>esc-standard-chars-wordlist</code> returns the
new character(s) on the stack (the last one at the bottom)
and the count. Example of the stack effect of a escaped
character that returns two characters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  ( -- c[1] c[0] 2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Most of the escaped characters are translated to one
character, so they are defined as double constants.</p>
</div>
<div class="paragraph">
<p>Conversion rules:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Escaped</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">ASCII characters</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BEL (alert)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BS (backspace)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ESC (escape)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FF (form feed)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\l</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LF (line feed)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\m</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR/LF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13, 10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">newline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\q</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double-quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\r</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR (carriage return)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\t</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HT (horizontal tab)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\v</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VT (vertical tab)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\z</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUL (no character)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double-quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\x&lt;hexdigit&gt;&lt;hexdigit&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conversion of the two hexadecimal digits</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See also: <code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code>, <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>,
<code><a href="#entry6573632D7374616E646172642D63686172732D776F72646C697374">esc-standard-chars-wordlist</a></code>, <code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code>,
<code>esc-udg-chars-ẁordlist</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6573632D7564672D63686172732D776F72646C697374-src-lib-strings-escaped-graphics-fs"><a id="entry6573632D7564672D63686172732D776F72646C697374"></a>esc-udg-chars-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>esc-udg-chars-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Identifier of the word list that contains the words whose
names are the UDG characters ('A'..'U'), in upper case,
that must be escaped after a backslash in strings parsed by
<code><a href="#entry735C22">s\"</a></code>, <code><a href="#entry2E5C22">.\"</a></code> and other words.</p>
</div>
<div class="paragraph">
<p>The execution of the words defined in the word list
identified by <code>esc-udg-chars-wordlist</code> returns the
correspondent UDG character (144..164) and a 1.</p>
</div>
<div class="paragraph">
<p>In order to make <code>s\", `<a href="#entry2E5C22">.\"</a></code> and their common factor
<code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code> recognize the escaped UDG characters,
<code><a href="#entry6573632D7564672D63686172732D776F72646C697374">esc-udg-chars-wordlist</a></code> must be pushed on the escaped
strings search order.  Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>need set-esc-order
esc-standard-chars-wordlist
esc-udg-chars-wordlist 2 set-esc-order

s\" \A\B\C\D\nNew line:\A\B\C\D..." type</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>, <code><a href="#entry3E6573632D6F72646572">&gt;esc-order</a></code>,
<code><a href="#entry6573632D7374616E646172642D63686172732D776F72646C697374">esc-standard-chars-wordlist</a></code>, <code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.graphics.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6576616C-src-lib-compilation-fs"><a id="entry6576616C"></a>eval</h3>
<div class="listingblock">
<div class="content">
<pre>eval ( i*x "name" -- j*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse and evaluate <em>name</em>.</p>
</div>
<div class="paragraph">
<p>This is a common factor of <code><a href="#entry5B636F6E73745D">[const]</a></code>, <code><a href="#entry5B32636F6E73745D">[2const]</a></code> and
<code><a href="#entry5B63636F6E73745D">[cconst]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6576616C75617465-src-lib-parsing-fs"><a id="entry6576616C75617465"></a>evaluate</h3>
<div class="listingblock">
<div class="content">
<pre>evaluate ( i*x ca len -- j*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the current input source specification. Store
minus-one (-1) in <code><a href="#entry736F757263652D6964">source-id</a></code>. Make the  string described
by <em>ca len</em> both the input source and input buffer,  set
<code><a href="#entry3E696E">&gt;in</a></code> to zero,  and interpret.  When the  parse area  is
empty, restore the prior input source specification.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E74657270726574">interpret</a></code>, <code><a href="#entry657865637574652D70617273696E67">execute-parsing</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6576656E3F-src-lib-math-operators-1-cell-fs"><a id="entry6576656E3F"></a>even?</h3>
<div class="listingblock">
<div class="content">
<pre>even? ( n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>n</em> an even number?</p>
</div>
<div class="paragraph">
<p><code>even?</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: even? ( n -- f ) 1 and 0= ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F64643F">odd?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry65786368616E6765-src-lib-memory-MISC-fs"><a id="entry65786368616E6765"></a>exchange</h3>
<div class="listingblock">
<div class="content">
<pre>exchange ( a1 a2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Exchange the cells stored in <em>a1</em> and <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6365786368616E6765">cexchange</a></code>, <code><a href="#entry2165786368616E6765">!exchange</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry65786563-src-lib-compilation-fs"><a id="entry65786563"></a>exec</h3>
<div class="listingblock">
<div class="content">
<pre>exec ( "name" -- i*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  If "name" is the name of a word in the
current search order, execute it; else throw exception
#-13.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry65786563757465-src-kernel-z80s"><a id="entry65786563757465"></a>execute</h3>
<div class="listingblock">
<div class="content">
<pre>execute ( i*x xt  -- j*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute execution token <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706572666F726D">perform</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry657865637574652D686C2C-src-lib-assembler-fs"><a id="entry657865637574652D686C2C"></a>execute-hl,</h3>
<div class="listingblock">
<div class="content">
<pre>execute-hl, ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile an <code><a href="#entry65786563757465">execute</a></code> with the <em>xt</em> hold in the HL register.
<code>execute-hl,</code> is used to call Forth words from Z80.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63616C6C2D78742C">call-xt,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry657865637574652D70617273696E67-src-lib-parsing-fs"><a id="entry657865637574652D70617273696E67"></a>execute-parsing</h3>
<div class="listingblock">
<div class="content">
<pre>execute-parsing ( ca len xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make <em>ca len</em> the current input source, execute <em>xt</em>, then
restore the previous input source.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6576616C75617465">evaluate</a></code>, <code><a href="#entry696E74657270726574">interpret</a></code>, <code><a href="#entry737472696E673E736F75726365">string&gt;source</a></code>,
<code><a href="#entry6E6573742D736F75726365">nest-source</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry657865637574696E673F-src-kernel-z80s"><a id="entry657865637574696E673F"></a>executing?</h3>
<div class="listingblock">
<div class="content">
<pre>executing? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: executing? ( -- f ) state @ 0= ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry657865637574696F6E73-src-lib-flow-MISC-fs"><a id="entry657865637574696F6E73"></a>executions</h3>
<div class="listingblock">
<div class="content">
<pre>executions ( xt n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute <em>xt</em> <em>n</em> times.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry74696D6573">times</a></code>, <code><a href="#entry6474696D6573">dtimes</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry65786974-src-kernel-z80s"><a id="entry65786974"></a>exit</h3>
<div class="listingblock">
<div class="content">
<pre>exit ( -- ) ( R: nest-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Return control to the calling definition, specified by
<em>nest-sys</em>.</p>
</div>
<div class="paragraph">
<p>Before executing <code><a href="#entry65786974">exit</a></code> within a do-loop, a program shall
discard the loop-control parameters by executing <code><a href="#entry756E6C6F6F70">unloop</a></code>.</p>
</div>
<div class="paragraph">
<p><code>exit</code> is compiled by <code><a href="#entry3B">;</a></code>.</p>
</div>
<div class="paragraph">
<p>In Solo Forth <code><a href="#entry65786974">exit</a></code> can be used in interpretation mode to
stop the interpretation of a block, like fig-Forth&#8217;s <code>;s</code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>;s</code>, Forth-79 (Required Word Set),
Forth-83 (Required Word Set), Forth-94 (CORE), Forth-2012
(CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6578697463617365-src-lib-flow-thiscase-fs"><a id="entry6578697463617365"></a>exitcase</h3>
<div class="listingblock">
<div class="content">
<pre>exitcase ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End part of a <code><a href="#entry7468697363617365">thiscase</a></code> structure: exit the current
definition.</p>
</div>
<div class="paragraph">
<p><code>exitcase</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696663617365">ifcase</a></code>, <code><a href="#entry6F7468657263617365">othercase</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.thiscase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6578706F7274-src-lib-modules-module-fs"><a id="entry6578706F7274"></a>export</h3>
<div class="listingblock">
<div class="content">
<pre>export ( parent-wid "name" -- parent-wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the word named <em>name</em> accessible outside the <code><a href="#entry6D6F64756C65">module</a></code>
currently defined.  <em>name</em> will be still available after
<code><a href="#entry656E642D6D6F64756C65">end-module</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.module.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry657874656E64-src-lib-tool-turnkey-fs"><a id="entry657874656E64"></a>extend</h3>
<div class="listingblock">
<div class="content">
<pre>extend ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.turnkey.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry657874656E6465642D6E756D6265722D706F696E743F-src-lib-math-number-point-fs"><a id="entry657874656E6465642D6E756D6265722D706F696E743F"></a>extended-number-point?</h3>
<div class="listingblock">
<div class="content">
<pre>extended-number-point? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is character <em>c</em> an extended number point?  Allowed points
are: plus sign, comma, hyphen, period, slash and colon,
after <em>Forth Programmer&#8217;s Handbook</em>.</p>
</div>
<div class="paragraph">
<p><code>extended-number-point?</code> is an alternative action for the
deferred word <code><a href="#entry6E756D6265722D706F696E743F">number-point?</a></code>, which is used in <code><a href="#entry6E756D6265723F">number?</a></code>,
and whose default action is <code><a href="#entry7374616E646172642D6E756D6265722D706F696E743F">standard-number-point?</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C61737369632D6E756D6265722D706F696E743F">classic-number-point?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.number.point.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66-src-lib-editor-specforth-fs"><a id="entry66"></a>f</h3>
<div class="listingblock">
<div class="content">
<pre>f ( "ccc&lt;eol&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Search forward from the current cursor position until
string "ccc" is found. The cursor is left at the end of
the string and the cursor line is printed. If the string is
not found and error message is given and the cursor
repositioned to the top of the block.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6621-src-lib-math-floating_point-rom-fs"><a id="entry6621"></a>f!</h3>
<div class="listingblock">
<div class="content">
<pre>f! ( fa -- ) ( F: r -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>r</em> at <em>fa</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FLOATING), Forth-2012 (FLOATING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry662C-src-lib-math-floating_point-rom-fs"><a id="entry662C"></a>f,</h3>
<div class="listingblock">
<div class="content">
<pre>f, ( -- ) ( F: r -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reserve data space for one floating-point number and store
<em>r</em> in that space.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry663D3D-src-lib-math-floating_point-rom-fs"><a id="entry663D3D"></a>f==</h3>
<div class="listingblock">
<div class="content">
<pre>f== ( -- f ) ( F: r1 r2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Exact bitwise equality.</p>
</div>
<div class="paragraph">
<p>Are <em>r1</em> and <em>r2</em> exactly identical? Flag <em>f</em> is true if
the bitwise comparison of <em>r1</em> and <em>r2</em> is succesful.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6640-src-lib-math-floating_point-rom-fs"><a id="entry6640"></a>f@</h3>
<div class="listingblock">
<div class="content">
<pre>f@ ( fa -- ) ( F: -- r )</pre>
</div>
</div>
<div class="paragraph">
<p><em>r</em> is the value stored at <em>fa</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FLOATING), Forth-2012 (FLOATING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666164652D646973706C6179-src-lib-graphics-display-fs"><a id="entry666164652D646973706C6179"></a>fade-display</h3>
<div class="listingblock">
<div class="content">
<pre>fade-display ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do a screen fade to black, by decrementing the values of
paper and ink in a loop.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B6F7574">blackout</a></code>, <code><a href="#entry617474722D636C73">attr-cls</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.display.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66616C7365-src-kernel-z80s"><a id="entry66616C7365"></a>false</h3>
<div class="listingblock">
<div class="content">
<pre>false ( -- false )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a <em>false</em> flag, a single-cell value with all bits
clear.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry74727565">true</a></code>, <code><a href="#entry30">0</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172-src-kernel-z80s"><a id="entry666172"></a>far</h3>
<div class="listingblock">
<div class="content">
<pre>far ( a1 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a far-memory address <em>a1</em> ($0000..$FFFF) to its actual
equivalent <em>a2</em> ($C000..$FFFF) and page in the corresponding
memory bank, using the configuration at <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p><code>far</code> is written in Z80. Its equivalent definition in Forth
is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: far ( a1 -- a2 )
  u&gt;ud /bank um/mod  far-banks + c@ bank  bank-start + ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D686C5F">far-hl_</a></code>, <code><a href="#entry62616E6B">bank</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617221-src-kernel-z80s"><a id="entry66617221"></a>far!</h3>
<div class="listingblock">
<div class="content">
<pre>far! ( x a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>x</em> into far-memory address <em>a</em>.</p>
</div>
<div class="paragraph">
<p><code>far!</code> is written in Z80. Its equivalent definition in Forth
is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: far! ( x a -- )
  &gt;r split r@ 1+ far c! r&gt; farc! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Faster but larger definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: far! ( x a -- )
  &gt;r split r@ 1+ far c! r&gt; far c! default-bank ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661722B21-src-lib-memory-far-fs"><a id="entry6661722B21"></a>far+!</h3>
<div class="listingblock">
<div class="content">
<pre>far+! ( n|u a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n|u</em> to the single-cell number at far-memory address
<em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661722C-src-lib-memory-far-fs"><a id="entry6661722C"></a>far,</h3>
<div class="listingblock">
<div class="content">
<pre>far, ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <em>x</em> in far-memory headers space.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661722C22-src-lib-strings-far-fs"><a id="entry6661722C22"></a>far,"</h3>
<div class="listingblock">
<div class="content">
<pre>far," ( "ccc&lt;quote&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse "ccc" delimited by a double-quote and compile the
string in far memory.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661722D62616E6B73-src-kernel-z80s"><a id="entry6661722D62616E6B73"></a>far-banks</h3>
<div class="listingblock">
<div class="content">
<pre>far-banks ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of an array of four bytes. It holds the four memory
banks used as a virtual 64-KiB continuous space, called "far
memory". Every byte holds the bank number used for a 16-KiB
range of addresses, as follows:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Offset</th>
<th class="tableblock halign-left valign-top">Address range</th>
<th class="tableblock halign-left valign-top">Bank</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$0000..$3FFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$4000..$7999</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$8000..$BFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">$C000..$FFFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
On +3DOS bank 6 is used for disk cache and RAM disk,
and the default value of <code><a href="#entry6661726C696D6974">farlimit</a></code> is $C000 instead of $0000.
Therefore, the name space is 16 KiB smaller than on G+DOS or
TR-DOS.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62616E6B">bank</a></code>, <code><a href="#entry62616E6B73">banks</a></code>, <code><a href="#entry62616E6B2D696E646578">bank-index</a></code>, <code><a href="#entry666172">far</a></code>, <code><a href="#entry66617240">far@</a></code>,
<code><a href="#entry6661726340">farc@</a></code>, <code><a href="#entry66617221">far!</a></code>, <code><a href="#entry6661726321">farc!</a></code>, <code><a href="#entry666172636F756E74">farcount</a></code>, <code><a href="#entry666172706C616365">farplace</a></code>, <code><a href="#entry66617274797065">fartype</a></code>,
<code><a href="#entry666172757070657273">faruppers</a></code>, <code><a href="#entry6661726C696D6974">farlimit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661722D686C5F-src-lib-memory-far-fs"><a id="entry6661722D686C5F"></a>far-hl_</h3>
<div class="listingblock">
<div class="content">
<pre>far-hl_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the <code><a href="#entry6661722E686C">far.hl</a></code> routine of the kernel, which
converts the far-memory address ($0000..$FFFF) hold in the
HL register to its actual equivalent ($C000..$FFFF) and
pages in the correspondent memory bank.</p>
</div>
<div class="paragraph">
<p>This is the routine called by <code><a href="#entry666172">far</a></code>. <code><a href="#entry6661722D686C5F">far-hl_</a></code> is
used in code words.</p>
</div>
<div class="paragraph">
<p>Input:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = far-memory address ($0000..$FFFF)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = actual memory address ($C000..$FFFF)</p>
</li>
<li>
<p>A DE corrupted</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617232402B-src-lib-memory-far-fs"><a id="entry66617232402B"></a>far2@+</h3>
<div class="listingblock">
<div class="content">
<pre>far2@+ ( a -- a' xd )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>xd</em> from <em>a</em>. Return <em>a'</em>, which is <em>a</em> incremented
by two cells.  This is handy for stepping through
double-cell arrays.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617232617661726961626C65-src-lib-data-array-variable-far-fs"><a id="entry66617232617661726961626C65"></a>far2avariable</h3>
<div class="listingblock">
<div class="content">
<pre>far2avariable ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create, in far memory, a 1-dimension double-cell variables
array <em>name</em> with <em>n</em> elements and the execution semantics
defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;a )</p>
</div>
<div class="paragraph">
<p>Return far-memory address <em>a</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666172617661726961626C65">faravariable</a></code>, <code><a href="#entry666172637661726961626C65">farcvariable</a></code>, <code><a href="#entry32617661726961626C65">2avariable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.variable.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661723E73636F6E7374616E74-src-lib-strings-far-fs"><a id="entry6661723E73636F6E7374616E74"></a>far&gt;sconstant</h3>
<div class="listingblock">
<div class="content">
<pre>far&gt;sconstant ( ca len "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a string constant <em>name</em> in far memory with value
<em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>When <em>name</em> is executed, it returns the string <em>ca len</em> in
the <code><a href="#entry737472696E676572">stringer</a></code> as <em>ca2 len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66617273636F6E7374616E74">farsconstant</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661723E73636F6E7374616E7473-src-lib-strings-far-fs"><a id="entry6661723E73636F6E7374616E7473"></a>far&gt;sconstants</h3>
<div class="listingblock">
<div class="content">
<pre>far&gt;sconstants ( 0 ca[n]..ca[1] "name" -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a table of string constants <em>name</em> in far memory,
using counted strings <em>ca[n]..ca[1]</em>, being <em>0</em> a mark for
the last string on the stack, and return the number <em>n</em> of
compiled strings.</p>
</div>
<div class="paragraph">
<p>When <em>name</em> is executed, it converts the index on the stack
(0..<em>n-1</em>) to the correspondent string <em>ca len</em> in far
memory, and return a copy in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0                  \ end of strings
  np@ far," kvar"  \ string 4
  np@ far," tri"   \ string 3
  np@ far," du"    \ string 2
  np@ far," unu"   \ string 1
  np@ far," nul"   \ string 0
far&gt;sconstants digitname  constant digitnames

cr .( There are ) digitnames . .( digit names:)
0 digitname cr type
1 digitname cr type
2 digitname cr type
3 digitname cr type cr</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry73636F6E7374616E7473">sconstants</a></code>, <code><a href="#entry66617273636F6E7374616E7473">farsconstants</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661723E737472696E676572-src-lib-strings-far-fs"><a id="entry6661723E737472696E676572"></a>far&gt;stringer</h3>
<div class="listingblock">
<div class="content">
<pre>far&gt;stringer ( ca1 len1 -- ca2 len1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the string <em>ca1 len1</em>, which is in far memory, to the
<code><a href="#entry737472696E676572">stringer</a></code> and return it as <em>ca2 len1</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E737472696E676572">&gt;stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617240-src-kernel-z80s"><a id="entry66617240"></a>far@</h3>
<div class="listingblock">
<div class="content">
<pre>far@ ( a -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>x</em> from far-memory address <em>a</em>.</p>
</div>
<div class="paragraph">
<p><code>far@</code> is written in Z80. Its equivalent definition in Forth
is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: far@ ( a -- x )
  dup 1+ far c@ &gt;r farc@ r&gt; join ;</pre>
</div>
</div>
<div class="paragraph">
<p>Faster but larger definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: far@ ( a -- x )
  dup 1+ far c@ &gt;r far c@ r&gt; join default-bank ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172402B-src-lib-memory-far-fs"><a id="entry666172402B"></a>far@+</h3>
<div class="listingblock">
<div class="content">
<pre>far@+ ( a -- a' x )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>x</em> from far-memory address <em>a</em>. Return <em>a'</em>, which
is <em>a</em> incremented by one cell.  This is handy for stepping
through cell arrays.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172616C6C6F74-src-lib-memory-far-fs"><a id="entry666172616C6C6F74"></a>farallot</h3>
<div class="listingblock">
<div class="content">
<pre>farallot ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is greater than zero, reserve <em>n</em> address units of
headers space. If <em>n</em> is less than zero, release <em>n</em>
address units of headers space. If <em>n</em> is zero, leave the
headers-space pointer unchanged.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172617661726961626C65-src-lib-data-array-variable-far-fs"><a id="entry666172617661726961626C65"></a>faravariable</h3>
<div class="listingblock">
<div class="content">
<pre>faravariable ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create, in far memory, a 1-dimension single-cell variables
array <em>name</em> with <em>n</em> elements and the execution semantics
defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;a )</p>
</div>
<div class="paragraph">
<p>Return far-memory address <em>a</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66617232617661726961626C65">far2avariable</a></code>, <code><a href="#entry66617263617661726961626C65">farcavariable</a></code>, <code><a href="#entry617661726961626C65">avariable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.variable.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661726321-src-kernel-z80s"><a id="entry6661726321"></a>farc!</h3>
<div class="listingblock">
<div class="content">
<pre>farc! ( c ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>c</em> into far-memory address <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172632B21-src-lib-memory-far-fs"><a id="entry666172632B21"></a>farc+!</h3>
<div class="listingblock">
<div class="content">
<pre>farc+! ( c ca - )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>c</em> to the char at far-memory address <em>ca</em></p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661726340-src-kernel-z80s"><a id="entry6661726340"></a>farc@</h3>
<div class="listingblock">
<div class="content">
<pre>farc@ ( ca -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch <em>c</em> from far-memory address <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617263402B-src-lib-memory-far-fs"><a id="entry66617263402B"></a>farc@+</h3>
<div class="listingblock">
<div class="content">
<pre>farc@+ ( ca -- ca' c )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the character <em>c</em> at far-memory address <em>ca</em>. Return
<em>ca'</em>, which is <em>ca</em> incremented by one character.  This
is handy for stepping through character arrays.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617263617661726961626C65-src-lib-data-array-variable-far-fs"><a id="entry66617263617661726961626C65"></a>farcavariable</h3>
<div class="listingblock">
<div class="content">
<pre>farcavariable ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create, in far memory, a 1-dimension character variables
array <em>name</em> with <em>n</em> elements and the execution semantics
defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution:</p>
</div>
<div class="paragraph">
<p>name ( n&#8201;&#8212;&#8201;ca )</p>
</div>
<div class="paragraph">
<p>Return far-memory address <em>ca</em> of element <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666172617661726961626C65">faravariable</a></code>, <code><a href="#entry666172327661726961626C65">far2variable</a></code>, <code><a href="#entry63617661726961626C65">cavariable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.variable.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172636F756E74-src-kernel-z80s"><a id="entry666172636F756E74"></a>farcount</h3>
<div class="listingblock">
<div class="content">
<pre>farcount ( ca1 -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>A variant of <code><a href="#entry636F756E74">count</a></code> that works with far-memory addresses.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617264756D70-src-lib-tool-dump-far-fs"><a id="entry66617264756D70"></a>fardump</h3>
<div class="listingblock">
<div class="content">
<pre>fardump ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Show the contents of <em>len</em> address units from far-memory
address <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.dump.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661726C696D6974-src-kernel-z80s"><a id="entry6661726C696D6974"></a>farlimit</h3>
<div class="listingblock">
<div class="content">
<pre>farlimit ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> is the address of a cell containing the
address above the highest address usable by the names space
Variable that holds the far-memory address above the highest
address usable by the names space (the names space is the
region addressed by <code><a href="#entry6E70">np</a></code>). Its default value is zero, which is
right above the highest far-memory address ($FFFF).</p>
</div>
<div class="paragraph">
<p><code>farlimit</code> can be modified by a program in order to reserve
a memory zone for special purposes.</p>
</div>
<div class="paragraph">
<p>Origin: Fig-Forth&#8217;s <code>limit</code> constant.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666172756E75736564">farunused</a></code>, <code><a href="#entry6C696D6974">limit</a></code>, <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661726C696D69742D68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry6661726C696D69742D68656170"></a>farlimit-heap</h3>
<div class="listingblock">
<div class="content">
<pre>farlimit-heap ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a <code><a href="#entry68656170">heap</a></code> of <em>n</em> address units right above <code><a href="#entry6661726C696D6974">farlimit</a></code>
and return its address <em>a</em>. <code><a href="#entry6661726C696D6974">farlimit</a></code> is moved down <em>n</em>
address units, and <code><a href="#entry686561702D62616E6B">heap-bank</a></code> is updated with the
corresponding bank.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry616C6C6F63617465">allocate</a></code>, <code><a href="#entry726573697A65">resize</a></code> and <code><a href="#entry66726565">free</a></code> page in the corresponding
bank at the start and restore the default bank at the end.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The heap must be in one memory bank.  Therefore,
before executing <code>farlimit-heap</code>, the application must
check that the <em>n</em> address units below <code><a href="#entry6661726C696D6974">farlimit</a></code> belong to
one memory bank.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>, <code><a href="#entry62616E6B2D68656170">bank-heap</a></code>, <code><a href="#entry6C696D69742D68656170">limit-heap</a></code>,
<code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661726C6F77657273-src-kernel-z80s"><a id="entry6661726C6F77657273"></a>farlowers</h3>
<div class="listingblock">
<div class="content">
<pre>farlowers ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A variant of <code><a href="#entry6C6F77657273">lowers</a></code> that works in far memory.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172706C616365-src-kernel-z80s"><a id="entry666172706C616365"></a>farplace</h3>
<div class="listingblock">
<div class="content">
<pre>farplace ( ca1 len1 ca2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the string <em>ca1 len1</em> (which must be below memory
address $C000) as a counted string at far-memory address
<em>ca2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>, <code><a href="#entry706C616365">place</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172732C-src-lib-strings-far-fs"><a id="entry666172732C"></a>fars,</h3>
<div class="listingblock">
<div class="content">
<pre>fars, ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile a string in far memory.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617273636F6E7374616E74-src-lib-strings-far-fs"><a id="entry66617273636F6E7374616E74"></a>farsconstant</h3>
<div class="listingblock">
<div class="content">
<pre>farsconstant ( ca len "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a string constant <em>name</em> in far memory with value
<em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>When <em>name</em> is executed, it returns the string <em>ca len</em> in
far memory as <em>ca2 len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661723E73636F6E7374616E74">far&gt;sconstant</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617273636F6E7374616E7473-src-lib-strings-far-fs"><a id="entry66617273636F6E7374616E7473"></a>farsconstants</h3>
<div class="listingblock">
<div class="content">
<pre>farsconstants ( 0 ca[n]..ca[1] "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a table of string constants <em>name</em> in far memory,
using counted strings <em>ca[n]..ca[1]</em>, being <em>0</em> a mark for
the last string on the stack, and return the number <em>n</em> of
compiled strings.</p>
</div>
<div class="paragraph">
<p>When <em>name</em> is executed, it converts the index on the stack
(0..<em>n-1</em>) to the correspondent string <em>ca len</em> in far
memory.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0                  \ end of strings
  np@ far," kvar"  \ string 4
  np@ far," tri"   \ string 3
  np@ far," du"    \ string 2
  np@ far," unu"   \ string 1
  np@ far," nul"   \ string 0
farsconstants digitname  constant digitnames

cr .( There are ) digitnames . .( digit names:)
0 digitname cr fartype
1 digitname cr fartype
2 digitname cr fartype
3 digitname cr fartype cr</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry73636F6E7374616E7473">sconstants</a></code>, <code><a href="#entry6661723E73636F6E7374616E7473">far&gt;sconstants</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617273636F6E7374616E74732C-src-lib-strings-far-fs"><a id="entry66617273636F6E7374616E74732C"></a>farsconstants,</h3>
<div class="listingblock">
<div class="content">
<pre>farsconstants, ( 0 ca[n]..ca[1] "name" -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a table of string constants <em>name</em> in far memory,
using counted strings <em>ca[n]..ca[1]</em>, being <em>0</em> a mark for
the last string on the stack, and return the number <em>n</em> of
compiled strings.</p>
</div>
<div class="paragraph">
<p>When <em>name</em> is executed, it returns an address that holds
the address of the table in far memory.</p>
</div>
<div class="paragraph">
<p><code>farconstants,</code> is a common factor of <code><a href="#entry66617273636F6E7374616E7473">farsconstants</a></code> and
<code><a href="#entry6661723E73636F6E7374616E7473">far&gt;sconstants</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617273636F6E7374616E74733E-src-lib-strings-far-fs"><a id="entry66617273636F6E7374616E74733E"></a>farsconstants&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>farsconstants&gt; ( n a -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the far-memory string <em>ca len</em> whose address is
stored at the <em>n</em> cell of the table <em>a</em> in data space.</p>
</div>
<div class="paragraph">
<p><code>farsconstants&gt;</code> is a factor of <code><a href="#entry66617273636F6E7374616E7473">farsconstants</a></code> and
<code><a href="#entry6661723E73636F6E7374616E7473">far&gt;sconstants</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66617274797065-src-lib-display-type-fs"><a id="entry66617274797065"></a>fartype</h3>
<div class="listingblock">
<div class="content">
<pre>fartype ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display the character string
<em>ca len</em>, which is stored in the far memory.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661722D62616E6B73">far-banks</a></code>, <code><a href="#entry74797065">type</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172747970652D6173636969-src-lib-display-type-fs"><a id="entry666172747970652D6173636969"></a>fartype-ascii</h3>
<div class="listingblock">
<div class="content">
<pre>fartype-ascii ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display the string <em>ca len</em>,
which is stored in far memory, replacing non-ASCII and
control chars with a dot.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66617274797065">fartype</a></code>, <code><a href="#entry747970652D6173636969">type-ascii</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172756E75736564-src-kernel-z80s"><a id="entry666172756E75736564"></a>farunused</h3>
<div class="listingblock">
<div class="content">
<pre>farunused ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the amount of far-memory space remaining in the region
addressed by <code><a href="#entry6E70">np</a></code>, in address units.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6661726C696D6974">farlimit</a></code>, <code><a href="#entry756E75736564">unused</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666172757070657273-src-lib-strings-far-fs"><a id="entry666172757070657273"></a>faruppers</h3>
<div class="listingblock">
<div class="content">
<pre>faruppers ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert string <em>ca len</em>, which is stored in far memory, to
uppercase.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry757070657273">uppers</a></code>, <code><a href="#entry6661722D62616E6B73">far-banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6661727764756D70-src-lib-tool-dump-far-fs"><a id="entry6661727764756D70"></a>farwdump</h3>
<div class="listingblock">
<div class="content">
<pre>farwdump ( a len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Show the contents of <em>len</em> cells from far-memory address
<em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.dump.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666173742D6765742D6B65793F-src-lib-keyboard-get-key-question-fs"><a id="entry666173742D6765742D6B65793F"></a>fast-get-key?</h3>
<div class="listingblock">
<div class="content">
<pre>fast-get-key? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>An alternative to <code><a href="#entry6B65793F">key?</a></code>. It works also when the system
interrupts are off. Faster variant with absolute jumps.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D6B65793F">get-key?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.get-key-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666173742D6778793E736372615F-src-lib-graphics-pixels-fs"><a id="entry666173742D6778793E736372615F"></a>fast-gxy&gt;scra_</h3>
<div class="listingblock">
<div class="content">
<pre>fast-gxy&gt;scra_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a a modified copy of the PIXEL-ADD
ROM routine ($22AA), to let the range of the y coordinate
be 0..191 instead of 0..175.</p>
</div>
<div class="paragraph">
<p>This code is a bit faster than <code><a href="#entry736C6F772D6778793E736372615F">slow-gxy&gt;scra_</a></code> because
the necessary jump to the ROM is saved and a useless <code>and
a</code> has been removed. But in most cases the speed gain is so
small (only 0.01: see <code><a href="#entry7365742D706978656C2D62656E6368">set-pixel-bench</a></code>) that it&#8217;s not
worth the extra space, including the assembler.</p>
</div>
<div class="paragraph">
<p>When <code>fast-gxy&gt;scra_</code> is loaded, it is set as the
current action of <code><a href="#entry6778793E736372615F">gxy&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>Input registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>C = x cordinate (0..255)</p>
</li>
<li>
<p>B = y coordinate (0..191)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = address of the pixel byte in the screen bitmap</p>
</li>
<li>
<p>A = position of the pixel in the byte address (0..7),
note: position 0=bit 7, position 7=bit 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6778793137363E736372615F">gxy176&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666173742D706978656C73-src-lib-graphics-pixels-fs"><a id="entry666173742D706978656C73"></a>fast-pixels</h3>
<div class="listingblock">
<div class="content">
<pre>fast-pixels ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number <em>n</em> of pixels set on the screen.
This is the default action of <code><a href="#entry706978656C73">pixels</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736C6F772D706978656C73">slow-pixels</a></code>, <code><a href="#entry62697473">bits</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666173742D72616E646F6D-src-lib-random-fs"><a id="entry666173742D72616E646F6D"></a>fast-random</h3>
<div class="listingblock">
<div class="content">
<pre>fast-random ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random number <em>n2</em> from 0 to <em>n1</em> minus 1.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666173742D726E64">fast-rnd</a></code>, <code><a href="#entry72616E646F6D">random</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666173742D726E64-src-lib-random-fs"><a id="entry666173742D726E64"></a>fast-rnd</h3>
<div class="listingblock">
<div class="content">
<pre>fast-rnd ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random number <em>u</em>.</p>
</div>
<div class="paragraph">
<p><code>fast-rnd</code> generates a sequence of pseudo-random values
that has a cycle of 65536 (so it will hit every single
number): <code>f(n+1)=241f(n)+257</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666173742D72616E646F6D">fast-random</a></code>, <code><a href="#entry726E64">rnd</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66636F6E7374616E74-src-lib-math-floating_point-rom-fs"><a id="entry66636F6E7374616E74"></a>fconstant</h3>
<div class="listingblock">
<div class="content">
<pre>fconstant ( "name" -- ) ( F: r -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a floating-point constant called "name" with value
<em>r</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FLOATING), Forth-2012 (FLOATING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6665746368686C-src-kernel-z80s"><a id="entry6665746368686C"></a>fetchhl</h3>
<div class="listingblock">
<div class="content">
<pre>fetchhl ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a secondary entry point in the code of
<code><a href="#entry40">@</a></code>.  The code at <em>a</em> fetches the cell pointed by the HL
register, pushes it onto the stack and then continues at the
address returned by <code><a href="#entry6E657874">next</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70757368686C">pushhl</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6669656C643A-src-lib-data-begin-structure-fs"><a id="entry6669656C643A"></a>field:</h3>
<div class="listingblock">
<div class="content">
<pre>field: ( n1 "name" -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  <em>offset</em>  is the first cell aligned
value greater than or equal to <em>n1</em>. <em>n2</em> = <em>offset</em> + 1
cell.</p>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> with the execution semantics
defined below.</p>
</div>
<div class="paragraph">
<p><em>name</em> execution: <code>( a1&#8201;&#8212;&#8201;a2 )</code></p>
</div>
<div class="paragraph">
<p>Add the <em>offset</em> calculated during the compile-time action
to <em>a1</em> giving the address <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (FACILITY EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626567696E2D737472756374757265">begin-structure</a></code>, <code><a href="#entry2B6669656C64">+field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.begin-structure.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696C652D706F736974696F6E-src-lib-dos-plus3dos-fs"><a id="entry66696C652D706F736974696F6E"></a>file-position</h3>
<div class="listingblock">
<div class="content">
<pre>file-position ( fid -- ud ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the the current file position <em>ud</em> for the file
identified by <em>fid</em>, and error result <em>ior</em>. If <em>ior</em> is
non-zero, <em>ud</em> is undefined.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FILE), Forth-2012 (FILE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7265706F736974696F6E2D66696C65">reposition-file</a></code>, <code><a href="#entry6F70656E2D66696C65">open-file</a></code>, <code><a href="#entry6372656174652D66696C65">create-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696C6C-src-kernel-z80s"><a id="entry66696C6C"></a>fill</h3>
<div class="listingblock">
<div class="content">
<pre>fill ( ca len b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>u</em> is not zero, store <em>b</em> in each of <em>u</em>
consecutive characters of memory beginning at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-83 (Required Word Set), Forth-94
(CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696E64-src-lib-editor-specforth-fs"><a id="entry66696E64"></a>find</h3>
<div class="listingblock">
<div class="content">
<pre>find ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Search for a match to the string at <code><a href="#entry706164">pad</a></code>, from the cursor
position until the end of block.  If no match found issue
an error message and reposition the cursor at the top of
the block.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696E64-src-lib-word_lists-fs">find</h3>
<div class="listingblock">
<div class="content">
<pre>find ( ca -- ca 0 | xt 1 | xt -1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Find the definition named in the counted  string at <em>ca</em>.
If the definition is  not found, return <em>ca</em> and zero. If
the definition is found, return its execution token <em>xt</em>.
If the definition  is immediate,  also  return one  (1),
otherwise  also  return minus-one (-1).</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE,
SEARCH), Forth-2012 (CORE, SEARCH).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66696E642D6E616D65">find-name</a></code>, <code><a href="#entry66696E642D6E616D652D66726F6D">find-name-from</a></code>, <code><a href="#entry66696E642D6E616D652D696E">find-name-in</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696E642D6E616D65-src-kernel-z80s"><a id="entry66696E642D6E616D65"></a>find-name</h3>
<div class="listingblock">
<div class="content">
<pre>find-name ( ca len -- nt | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Find the definition identified by the string <em>ca len</em> in the
current search order. If the definition is not found after
searching all the vocabularies in the search order, return
zero.  If the definition is found, return its <em>nt</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: find-name ( ca len -- nt | 0 )
  #order @ 0 ?do
    2dup context i cells + @ @ find-name-from ?dup
    ( ca len nt nt | ca len 0 )
    if  nip nip unloop exit  then ( ca len )
  loop  2drop false ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66696E642D6E616D652D696E">find-name-in</a></code>, <code><a href="#entry66696E642D6E616D652D66726F6D">find-name-from</a></code>, <code><a href="#entry66696E64">find</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696E642D6E616D652D66726F6D-src-kernel-z80s"><a id="entry66696E642D6E616D652D66726F6D"></a>find-name-from</h3>
<div class="listingblock">
<div class="content">
<pre>find-name-from ( ca len nt1 -- nt2 | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Find the definition named in the string <em>ca len</em>, starting at
<em>nt1</em>. If the definition is found, return its <em>nt2</em>, else
return zero.</p>
</div>
<div class="paragraph">
<p>String <em>ca len</em> must be below memory address $C000.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66696E642D6E616D65">find-name</a></code>, <code><a href="#entry66696E642D6E616D652D696E">find-name-in</a></code>, <code><a href="#entry66696E64">find</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696E642D6E616D652D696E-src-lib-word_lists-fs"><a id="entry66696E642D6E616D652D696E"></a>find-name-in</h3>
<div class="listingblock">
<div class="content">
<pre>find-name-in ( ca len wid -- nt | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Find the definition named in the string at <em>ca len</em>, in the
word list identified by <em>wid</em>. If the definition is found,
return its <em>nt</em>, else return zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365617263682D776F72646C697374">search-wordlist</a></code>, <code><a href="#entry66696E642D6E616D652D66726F6D">find-name-from</a></code>, <code><a href="#entry66696E642D6E616D65">find-name</a></code>,
<code><a href="#entry66696E64">find</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696E642D737562737469747574696F6E-src-lib-strings-replaces-fs"><a id="entry66696E642D737562737469747574696F6E"></a>find-substitution</h3>
<div class="listingblock">
<div class="content">
<pre>find-substitution ( ca len -- xt f | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Given a string <em>ca len</em>, find its substitution.  Return
<em>xt</em> and <em>f</em> if found, or just zero if not found.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7265706C61636573">replaces</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.replaces.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66696E6973682D636F6465-src-kernel-z80s"><a id="entry66696E6973682D636F6465"></a>finish-code</h3>
<div class="listingblock">
<div class="content">
<pre>finish-code ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End the current definition, allow it to be found in the
dictionary and enter interpretation state.</p>
</div>
<div class="paragraph">
<p><code>finish-code</code> is a factor of <code><a href="#entry3B">;</a></code> and <code><a href="#entry3B636F6465">;code</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: finish-code ( -- )
  ?csp postpone [ noname? @ noname? off ?exit reveal ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72657665616C">reveal</a></code>, <code><a href="#entry6E6F6E616D653F">noname?</a></code>, <code><a href="#entry3F637370">?csp</a></code>, <code><a href="#entry5B">[</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66697273742D6472697665-src-kernel-z80s"><a id="entry66697273742D6472697665"></a>first-drive</h3>
<div class="listingblock">
<div class="content">
<pre>first-drive ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the identifier <em>c</em> of the first drive
available in the DOS.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D647269766573">max-drives</a></code>, <code><a href="#entry6472697665">drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66697273742D6573632D626C6F636B2D63686172-src-lib-strings-escaped-graphics-fs"><a id="entry66697273742D6573632D626C6F636B2D63686172"></a>first-esc-block-char</h3>
<div class="listingblock">
<div class="content">
<pre>first-esc-block-char ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the code of the first block graphic.
Its default value is 128, like in the ZX Spectrum charset.
This variable can be modified in order to make the escaped
block characters produce a different range of codes.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.graphics.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66697273742D6C6F63617461626C65-src-lib-002-need-fs"><a id="entry66697273742D6C6F63617461626C65"></a>first-locatable</h3>
<div class="listingblock">
<div class="content">
<pre>first-locatable ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the number of the first block to be
searched by <code><a href="#entry6C6F6361746564">located</a></code> and its descendants.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D6C6F63617461626C65">last-locatable</a></code>, <code><a href="#entry6E6565642D66726F6D">need-from</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66697273742D6E616D65-src-lib-strings-MISC-fs"><a id="entry66697273742D6E616D65"></a>first-name</h3>
<div class="listingblock">
<div class="content">
<pre>first-name ( ca1 len1 -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the first name <em>ca2 len2</em> from string <em>ca1 len1</em>.  A
name is a substring separated by spaces.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D6E616D65">last-name</a></code>, <code><a href="#entry2F6E616D65">/name</a></code>, <code><a href="#entry2D707265666978">-prefix</a></code>, <code><a href="#entry2F737472696E67">/string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C6173682D6D61736B-src-lib-display-attributes-fs"><a id="entry666C6173682D6D61736B"></a>flash-mask</h3>
<div class="listingblock">
<div class="content">
<pre>flash-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant. <em>b</em> is the bitmask of the bit used to indicate
the flash status in an attribute byte.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666C6173682D6D61736B">flash-mask</a></code>, <code><a href="#entry666C61736879">flashy</a></code>, <code><a href="#entry7365742D666C617368">set-flash</a></code>, <code><a href="#entry6174747221">attr!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C6173682E-src-lib-display-attributes-fs"><a id="entry666C6173682E"></a>flash.</h3>
<div class="listingblock">
<div class="content">
<pre>flash. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set flash <em>n</em> by printing the corresponding control
characters.  If <em>n</em> is zero, turn flash off; if <em>n</em> is one,
turn flash on; if <em>n</em> is eight, set transparent flash.
Other values of <em>n</em> are converted as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>2, 4 and 6 are converted to 0.</p>
</li>
<li>
<p>3, 5 and 7 are converted to 1.</p>
</li>
<li>
<p>Values greater than 8 or less than 0 are converted to 8.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>flash.</code> is much slower than <code><a href="#entry7365742D666C617368">set-flash</a></code> or <code><a href="#entry6174747221">attr!</a></code>, but
it can handle pseudo-color 8 (transparent), setting the
corresponding system variables accordingly.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6272696768742E">bright.</a></code>, <code><a href="#entry28302D312D382D636F6C6F722E">(0-1-8-color.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C61736879-src-lib-display-attributes-fs"><a id="entry666C61736879"></a>flashy</h3>
<div class="listingblock">
<div class="content">
<pre>flashy ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert attribute <em>b1</em> to its flashy equivalent <em>b2</em>.</p>
</div>
<div class="paragraph">
<p><code>flashy</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: flashy ( b1 -- b2 ) flash-mask or ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706170657279">papery</a></code>, <code><a href="#entry62726967687479">brighty</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C6970-src-kernel-z80s"><a id="entry666C6970"></a>flip</h3>
<div class="listingblock">
<div class="content">
<pre>flip ( x1 -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Exchange the low and high bytes within <em>x1</em>, resulting <em>x2</em>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>flip</code> is called <code>&gt;&lt;</code> or <code>cswap</code> in other Forth
systems.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Origin: eForth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C6F6F72-src-lib-math-floating_point-rom-fs"><a id="entry666C6F6F72"></a>floor</h3>
<div class="listingblock">
<div class="content">
<pre>floor ( F: r1 -- r2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Round <em>r1</em> to an integral value using the "round toward
negative infinity" rule, giving <em>r2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FLOATING), Forth-2012 (FLOATING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C6F6F726564-src-lib-environment-question-fs"><a id="entry666C6F6F726564"></a>floored</h3>
<div class="listingblock">
<div class="content">
<pre>floored ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if floored division is the default.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C757368-src-lib-blocks-fs"><a id="entry666C757368"></a>flush</h3>
<div class="listingblock">
<div class="content">
<pre>flush ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Perform the function of <code><a href="#entry736176652D62756666657273">save-buffers</a></code>, then unassign all
block buffers.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (BLOCK),
Forth-2012 (BLOCK).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656D7074792D62756666657273">empty-buffers</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666C792D6C6F6361746564-src-lib-blocks-indexer-fly-fs"><a id="entry666C792D6C6F6361746564"></a>fly-located</h3>
<div class="listingblock">
<div class="content">
<pre>fly-located ( ca len -- block | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Locate the first block whose header contains the string <em>ca
len</em> (surrounded by spaces), and return its number. If not
found, return zero.  The search is case-sensitive.
Index all searched blocks on the fly.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.fly.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666D2F6D6F64-src-lib-math-operators-1-cell-fs"><a id="entry666D2F6D6F64"></a>fm/mod</h3>
<div class="listingblock">
<div class="content">
<pre>fm/mod ( d1 n1 -- n2 n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Floored division:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  d1 = n3*n1+n2
  n1&gt;n2&gt;=0 or 0&gt;=n2&gt;n1</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>d1</em> by <em>n1</em>, giving the floored quotient <em>n3</em> and
the remainder <em>n2</em>. Input and output stack arguments are
signed.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Dividend</th>
<th class="tableblock halign-left valign-top">Divisor</th>
<th class="tableblock halign-left valign-top">Remainder</th>
<th class="tableblock halign-left valign-top">Quotient</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-2</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-4</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-2</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736D2F72656D">sm/rem</a></code>, <code><a href="#entry6D2F">m/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666F72-src-lib-flow-for-fs"><a id="entry666F72"></a>for</h3>
<div class="listingblock">
<div class="content">
<pre>for Compilation: ( R: -- dest ) Run-time:    ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start of a <code>for</code>..<code><a href="#entry73746570">step</a></code> loop, that will iterate <em>n+1</em>
times, starting with <em>n</em> and ending with 0.</p>
</div>
<div class="paragraph">
<p>The current value of the index can be retrieved with
<code><a href="#entry666F722D69">for-i</a></code>.</p>
</div>
<div class="paragraph">
<p><code>for</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.for.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666F722D69-src-lib-flow-for-fs"><a id="entry666F722D69"></a>for-i</h3>
<div class="listingblock">
<div class="content">
<pre>for-i ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current index <em>n</em> of a <code><a href="#entry666F72">for</a></code> loop.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.for.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666F726765742D7472616E7369656E74-src-lib-modules-transient-fs"><a id="entry666F726765742D7472616E7369656E74"></a>forget-transient</h3>
<div class="listingblock">
<div class="content">
<pre>forget-transient ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Forget the transient code compiled between <code><a href="#entry7472616E7369656E74">transient</a></code> and
<code><a href="#entry656E642D7472616E7369656E74">end-transient</a></code>, by unlinking the header space that was
reserved and used for it.  <code>forget-transient</code> must be
used when the transient code is not going to be used any
more.</p>
</div>
<div class="paragraph">
<p>The inner operation is: Restore the old value of
<code><a href="#entry6C61746573742D776F72646C697374">latest-wordlist</a></code>; store the <em>nt</em> of the latest word
created before compiling the transient code, into the <em>lfa</em>
of the first word created after the transient code was
finished by <code><a href="#entry656E642D7472616E7369656E74">end-transient</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.transient.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666F727468-src-kernel-z80s"><a id="entry666F727468"></a>forth</h3>
<div class="listingblock">
<div class="content">
<pre>forth ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Transform the search  order consisting of  <em>wid[n]..wid[2]
wid[1]</em> (where <em>wid[1]</em>  is searched first)  into
<em>wid[n]..wid[2] wid[<code><a href="#entry666F7274682D776F72646C697374">forth-wordlist</a></code>]</em>, i.e. replace the top
word list of the search order with <code><a href="#entry666F7274682D776F72646C697374">forth-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p><code>forth</code> is the vocabulary corresponding to <code><a href="#entry666F7274682D776F72646C697374">forth-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (SEARCH EXT),
Forth-2012 (SEARCH EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726F6F74">root</a></code>, <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry766F636162756C617279">vocabulary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry666F7274682D776F72646C697374-src-kernel-z80s"><a id="entry666F7274682D776F72646C697374"></a>forth-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>forth-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>wid</em>, the identifier of the word list that includes
all standard words provided by the implementation.
<code>forth-wordlist</code> is initially the compilation word list and
is part of the initial search order.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH), Forth-2012 (SEARCH).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry726F6F742D776F72646C697374">root-wordlist</a></code>,
<code><a href="#entry617373656D626C65722D776F72646C697374">assembler-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66706C6179-src-lib-sound-128-fs"><a id="entry66706C6179"></a>fplay</h3>
<div class="listingblock">
<div class="content">
<pre>fplay ( ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Play a sound whose 14 bytes are stored at <em>ca</em>.  <code>fplay</code>
is a faster version of <code><a href="#entry706C6179">play</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6672616D6573-src-lib-time-fs"><a id="entry6672616D6573"></a>frames</h3>
<div class="listingblock">
<div class="content">
<pre>frames ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Stop execution during at least <em>u</em> frames of the TV (there
are 50 frames per second in in Europe and 60 frames per
second in USA).</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry3F6672616D6573">?frames</a></code>, <code><a href="#entry7061757365">pause</a></code>, <code><a href="#entry6F732D6672616D6573">os-frames</a></code>, <code><a href="#entry7365636F6E6473">seconds</a></code>, <code><a href="#entry6D73">ms</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6672616D657321-src-lib-time-fs"><a id="entry6672616D657321"></a>frames!</h3>
<div class="listingblock">
<div class="content">
<pre>frames! ( d -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>d</em> at the system frames counter, which is
incremented every 20 ms by the OS.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6672616D657340">frames@</a></code>, <code><a href="#entry72657365742D6672616D6573">reset-frames</a></code>, <code><a href="#entry6F732D6672616D6573">os-frames</a></code>, <code><a href="#entry62656E63687B">bench{</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6672616D657340-src-lib-time-fs"><a id="entry6672616D657340"></a>frames@</h3>
<div class="listingblock">
<div class="content">
<pre>frames@ ( -- d )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the system frames counter, which is incremented every
20 ms by the OS.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6672616D657321">frames!</a></code>, <code><a href="#entry72657365742D6672616D6573">reset-frames</a></code>, <code><a href="#entry6F732D6672616D6573">os-frames</a></code>, <code><a href="#entry62656E63687B">bench{</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66726565-src-lib-memory-allocate-COMMON-fs"><a id="entry66726565"></a>free</h3>
<div class="listingblock">
<div class="content">
<pre>free ( a -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the contiguous region of data space indicated by <em>a</em>
to the system for later allocation. <em>a</em> shall indicate a
region of data space that was previously obtained by
<code><a href="#entry616C6C6F63617465">allocate</a></code> or <code><a href="#entry726573697A65">resize</a></code>.</p>
</div>
<div class="paragraph">
<p>If the operation succeeds, <em>ior</em> is zero. If the operation
fails, <em>ior</em> is an exception code.</p>
</div>
<div class="paragraph">
<p><code>free</code> is a deferred word whose action can be
<code><a href="#entry636861726C746F6E2D66726565">charlton-free</a></code> or <code><a href="#entry67696C2D66726565">gil-free</a></code>, depending on the <code><a href="#entry68656170">heap</a></code>
implementation used by the application.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (MEMORY), Forth-2012 (MEMORY).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C6C6F63617465">allocate</a></code>, <code><a href="#entry726573697A65">resize</a></code>, <code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry667265652D627566666572-src-kernel-z80s"><a id="entry667265652D627566666572"></a>free-buffer</h3>
<div class="listingblock">
<div class="content">
<pre>free-buffer ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the current disk buffer has been updated, write its block
to the disk. Assign block number <em>n</em> to the disk buffer.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: free-buffer ( n -- )
  updated?  if    buffer-block write-buffer
            then  disk-buffer ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry66726F756E64-src-lib-math-floating_point-rom-fs"><a id="entry66726F756E64"></a>fround</h3>
<div class="listingblock">
<div class="content">
<pre>fround ( r1 -- r2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Round <em>r1</em> to an integral value using the "round to
nearest" rule, giving <em>r2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FLOATING), Forth-2012 (FLOATING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry667472756E63-src-lib-math-floating_point-rom-fs"><a id="entry667472756E63"></a>ftrunc</h3>
<div class="listingblock">
<div class="content">
<pre>ftrunc ( F: r1 -- r2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Round <em>r1</em> to an integral value using the "round toward
zero" rule, giving <em>r2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FLOATING), Forth-2012 (FLOATING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry667969-src-lib-tool-debug-fyi-fs"><a id="entry667969"></a>fyi</h3>
<div class="listingblock">
<div class="content">
<pre>fyi ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print information about the current status of the Forth
system.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.fyi.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry667E-src-lib-math-floating_point-rom-fs"><a id="entry667E"></a>f~</h3>
<div class="listingblock">
<div class="content">
<pre>f~ ( -- f ) ( F: r1 r2 r3 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Medley for comparing <em>r1</em> and <em>r2</em> for equality:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>r3</em>&gt;0: <code><a href="#entry667E616273">f~abs</a></code>;</p>
</li>
<li>
<p><em>r3</em>=0: <code><a href="#entry663D3D">f==</a></code>;</p>
</li>
<li>
<p><em>r3</em>&lt;0: <code><a href="#entry667E72656C616273">f~relabs</a></code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FLOATING EXT), Forth-2012 (FLOATING EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry667E72656C">f~rel</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry667E616273-src-lib-math-floating_point-rom-fs"><a id="entry667E616273"></a>f~abs</h3>
<div class="listingblock">
<div class="content">
<pre>f~abs ( -- f ) ( F: r1 r2 r3 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Approximate equality with absolute error: <code><a href="#entry7C72312D72327C3C7233">|r1-r2|&lt;r3</a></code>.</p>
</div>
<div class="paragraph">
<p>Flag <em>f</em> is true if the absolute value of <em>r1-r2</em> is less
than <em>r3</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry667E72656C-src-lib-math-floating_point-rom-fs"><a id="entry667E72656C"></a>f~rel</h3>
<div class="listingblock">
<div class="content">
<pre>f~rel ( -- f ) ( F: r1 r2 r3 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Approximate equality with relative error:
<code><a href="#entry7C72312D72327C3C72332A7C72312B72327C">|r1-r2|&lt;r3*|r1+r2|</a></code>.</p>
</div>
<div class="paragraph">
<p>Flag <em>f</em> is true if the absolute value of <em>r1-r2</em> is less
than the value of <em>r3</em> times the sum of the absolute values
of <em>r1</em> and <em>r2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry667E72656C616273-src-lib-math-floating_point-rom-fs"><a id="entry667E72656C616273"></a>f~relabs</h3>
<div class="listingblock">
<div class="content">
<pre>f~relabs ( -- f ) ( F: r1 r2 r3 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Approximate equality with relative error:
<code><a href="#entry7C72312D72327C3C7C72337C2A7C72312B72327C">|r1-r2|&lt;|r3|*|r1+r2|</a></code>.</p>
</div>
<div class="paragraph">
<p>Flag <em>f</em> is true if the absolute value of <em>r1-r2</em> is less
than the absolute value of <em>r3</em> times the sum of the
absolute values of <em>r1</em> and <em>r2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.floating_point.rom.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672B646F73-src-kernel-z80s"><a id="entry672B646F73"></a>g+dos</h3>
<div class="listingblock">
<div class="content">
<pre>g+dos ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>An alias of <code><a href="#entry6E6F6F70">noop</a></code> that is defined only in the G+DOS version
of Solo Forth.  Its goal is to be used to check the DOS the
application is running on.</p>
</div>
<div class="paragraph">
<p><code>g+dos</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F73">dos</a></code>, <code><a href="#entry74722D646F73">tr-dos</a></code>, <code><a href="#entry2B33646F73">+3dos</a></code>, <code><a href="#entry646566696E6564">defined</a></code>, <code><a href="#entry5B646566696E65645D">[defined]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D61742D78-src-lib-graphics-coordinates-fs"><a id="entry672D61742D78"></a>g-at-x</h3>
<div class="listingblock">
<div class="content">
<pre>g-at-x ( gx -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the current graphic x coordinate <em>gx</em>, without changing
the current graphic y coordinate.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D61742D7879">g-at-xy</a></code>, <code><a href="#entry672D61742D79">g-at-y</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.coordinates.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D61742D7879-src-lib-graphics-coordinates-fs"><a id="entry672D61742D7879"></a>g-at-xy</h3>
<div class="listingblock">
<div class="content">
<pre>g-at-xy ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the current graphic coordinates <em>gx gy</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D7879">g-xy</a></code>, <code><a href="#entry672D61742D79">g-at-y</a></code>, <code><a href="#entry672D61742D78">g-at-x</a></code>, <code><a href="#entry672D686F6D65">g-home</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.coordinates.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D61742D79-src-lib-graphics-coordinates-fs"><a id="entry672D61742D79"></a>g-at-y</h3>
<div class="listingblock">
<div class="content">
<pre>g-at-y ( gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the current graphic y coordinate <em>gy</em>, without changing
the current graphic x coordinate.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D61742D7879">g-at-xy</a></code>, <code><a href="#entry672D61742D78">g-at-x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.coordinates.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D6372-src-lib-display-g-emit-fs"><a id="entry672D6372"></a>g-cr</h3>
<div class="listingblock">
<div class="content">
<pre>g-cr ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Move the graphic coordinates to the next character row.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D61742D7879">g-at-xy</a></code>, <code><a href="#entry672D656D6974">g-emit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.g-emit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D656D6974-src-lib-display-g-emit-fs"><a id="entry672D656D6974"></a>g-emit</h3>
<div class="listingblock">
<div class="content">
<pre>g-emit ( gx gy c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display character <em>c</em> (32..255) at the current graphic
coordinates.  If <em>c</em> is 32..127, it is printed from the
main font.  If <em>c</em> is 128..255, it is printed from the UDG
font.</p>
</div>
<div class="paragraph">
<p>The character is printed with overprinting (equivalent to
<code>1 overprint</code>).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D656D69742D756467">g-emit-udg</a></code>, <code><a href="#entry28672D656D6974">(g-emit</a></code>, <code><a href="#entry672D74797065">g-type</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.g-emit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D656D69742D756467-src-lib-display-g-emit-fs"><a id="entry672D656D69742D756467"></a>g-emit-udg</h3>
<div class="listingblock">
<div class="content">
<pre>g-emit-udg ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display UDG <em>c</em> (0..255) at the current graphic
coordinates, from the font pointed by system variable
<code><a href="#entry6F732D756467">os-udg</a></code>, which contains the address of the first UDG
bitmap (0).</p>
</div>
<div class="paragraph">
<p>The UDG character is printed with overprinting (equivalent
to <code>1 overprint</code>).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D656D6974">g-emit</a></code>, <code><a href="#entry672D656D69745F">g-emit_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.g-emit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D656D69745F-src-lib-display-g-emit-fs"><a id="entry672D656D69745F"></a>g-emit_</h3>
<div class="listingblock">
<div class="content">
<pre>g-emit_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a machine code routine that prints an 8x8 bits
character at graphic coordinates. Used by <code><a href="#entry672D656D69742D756467">g-emit-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Input registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DE = address of the first char (0) bitmap in a charset</p>
</li>
<li>
<p>A = char code (0..255)</p>
</li>
<li>
<p>B = y coordinate</p>
</li>
<li>
<p>C = x coordinate</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Modifies: AF BC HL IX DE</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D656D6974">g-emit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.g-emit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D656D6974746564-src-lib-display-g-emit-fs"><a id="entry672D656D6974746564"></a>g-emitted</h3>
<div class="listingblock">
<div class="content">
<pre>g-emitted ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Update the current graphic coordinates after printing a
character at them.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry672D656D6974">g-emit</a></code>, <code><a href="#entry672D6372">g-cr</a></code>, <code><a href="#entry672D61742D7879">g-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.g-emit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D686F6D65-src-lib-graphics-coordinates-fs"><a id="entry672D686F6D65"></a>g-home</h3>
<div class="listingblock">
<div class="content">
<pre>g-home ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the graphic coordinates to 0, 0.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D61742D7879">g-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.coordinates.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D74797065-src-lib-display-g-emit-fs"><a id="entry672D74797065"></a>g-type</h3>
<div class="listingblock">
<div class="content">
<pre>g-type ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display the character string
<em>ca len</em> at the current graphic coordinates.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D656D6974">g-emit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.g-emit.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D78-src-lib-graphics-coordinates-fs"><a id="entry672D78"></a>g-x</h3>
<div class="listingblock">
<div class="content">
<pre>g-x ( -- gx )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current graphic x coordinate <em>gx</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D7879">g-xy</a></code>, <code><a href="#entry672D79">g-y</a></code>, <code><a href="#entry672D61742D7879">g-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.coordinates.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D7879-src-lib-graphics-coordinates-fs"><a id="entry672D7879"></a>g-xy</h3>
<div class="listingblock">
<div class="content">
<pre>g-xy ( -- gx gy )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current graphic coordinates <em>gx gy</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D78">g-x</a></code>, <code><a href="#entry672D79">g-y</a></code>, <code><a href="#entry672D61742D7879">g-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.coordinates.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry672D79-src-lib-graphics-coordinates-fs"><a id="entry672D79"></a>g-y</h3>
<div class="listingblock">
<div class="content">
<pre>g-y ( -- gy )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current graphic y coordinate <em>gy</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry672D7879">g-xy</a></code>, <code><a href="#entry672D78">g-x</a></code>, <code><a href="#entry672D61742D7879">g-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.coordinates.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry676364-src-lib-math-operators-1-cell-fs"><a id="entry676364"></a>gcd</h3>
<div class="listingblock">
<div class="content">
<pre>gcd ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n3</em> is the greatest common divisor of <em>n1</em> and <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D31333436-src-lib-dos-plus3dos-fs"><a id="entry6765742D31333436"></a>get-1346</h3>
<div class="listingblock">
<div class="content">
<pre>get-1346 ( -- n1 n2 n3 n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the +3DOS current configuration of RAM banks 1, 3, 4
and 6, which are organized as an array of 128 sector
buffers, each of 512 bytes. The cache and RAM disk occupy
two separate (contiguous) areas of this array.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<em>n1</em> 
</td>
<td class="hdlist2">
<p>first sector buffer of cache</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>n2</em> 
</td>
<td class="hdlist2">
<p>number of cache sector buffers</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>n3</em> 
</td>
<td class="hdlist2">
<p>first sector buffer of RAM disk</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>n4</em> 
</td>
<td class="hdlist2">
<p>number of RAM disk sector buffers</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D31333436">set-1346</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D626C6F636B2D647269766573-src-lib-dos-COMMON-fs"><a id="entry6765742D626C6F636B2D647269766573"></a>get-block-drives</h3>
<div class="listingblock">
<div class="content">
<pre>get-block-drives ( -- c[n]..c[1] n )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the current configuration of block drives, as
configured by `</p>
</div>
<div class="paragraph">
<p>to the drives specified by drive identifiers <em>c[n]..c[1]</em>.
Subsequently drive <em>c[1]</em> will be searched first for
blocks, from block 0 to <code><a href="#entry626C6F636B732F6469736B">blocks/disk</a></code> minus one, and so on.</p>
</div>
<div class="paragraph">
<p>If <em>n</em> is zero, no drive is used for blocks.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D626C6F636B2D647269766573">-block-drives</a></code>, <code><a href="#entry23626C6F636B2D647269766573">#block-drives</a></code>, <code><a href="#entry626C6F636B2D647269766521">block-drive!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D627269676874-src-lib-display-attributes-fs"><a id="entry6765742D627269676874"></a>get-bright</h3>
<div class="listingblock">
<div class="content">
<pre>get-bright ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>If bright is active in the current attribute, return <em>true</em>,
else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D627269676874">set-bright</a></code>, <code><a href="#entry6174747240">attr@</a></code>, <code><a href="#entry6272696768742E">bright.</a></code>, <code><a href="#entry6765742D7061706572">get-paper</a></code>,
<code><a href="#entry6765742D696E6B">get-ink</a></code>, <code><a href="#entry6765742D666C617368">get-flash</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D63757272656E74-src-kernel-z80s"><a id="entry6765742D63757272656E74"></a>get-current</h3>
<div class="listingblock">
<div class="content">
<pre>get-current ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>wid</em>, the identifier of the compilation word list.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: get-current ( -- wid ) current @ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH), Forth-2012 (SEARCH).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63757272656E74">current</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D64617465-src-lib-time-fs"><a id="entry6765742D64617465"></a>get-date</h3>
<div class="listingblock">
<div class="content">
<pre>get-date ( -- day month year )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the current date. The default date is 2016-01-01. It
can be changed with <code><a href="#entry7365742D64617465">set-date</a></code>. The date is not updated by
the system.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry7365742D64617465">set-date</a></code>, <code><a href="#entry64617465">date</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D64656661756C742D62616E6B-src-lib-memory-bank-fs"><a id="entry6765742D64656661756C742D62616E6B"></a>get-default-bank</h3>
<div class="listingblock">
<div class="content">
<pre>get-default-bank ( -- +n )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the current default bank <em>+n</em> by fetching the contents
of <code><a href="#entry64656661756C742D62616E6B23">default-bank#</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D64656661756C742D62616E6B">set-default-bank</a></code>, <code><a href="#entry64656661756C742D62616E6B">default-bank</a></code>, <code><a href="#entry62616E6B">bank</a></code>,
<code><a href="#entry62616E6B73">banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.bank.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D6472697665-src-kernel-plus3dos-z80s"><a id="entry6765742D6472697665"></a>get-drive</h3>
<div class="listingblock">
<div class="content">
<pre>get-drive ( -- c ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the current default drive <em>c</em> ('A'..'P'), i.e.
the drive implied by all filenames that do not specify a
drive. The default drive is intially 'A'.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6472697665">set-drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D6573632D6F72646572-src-lib-strings-escaped-fs"><a id="entry6765742D6573632D6F72646572"></a>get-esc-order</h3>
<div class="listingblock">
<div class="content">
<pre>get-esc-order ( -- wid[n]..wid[1] n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number of word lists <em>n</em> in the escaped strings
search order and the word lists identifiers
<em>wid[n]..wid[1]</em> identifying these word lists.  <em>wid[1]</em>
identifies the word list that is searched first, and
<em>wid[n]</em> the word list that is searched last.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>, <code><a href="#entry3E6573632D6F72646572">&gt;esc-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D66696C656E616D652D6472697665-src-kernel-plus3dos-z80s"><a id="entry6765742D66696C656E616D652D6472697665"></a>get-filename-drive</h3>
<div class="listingblock">
<div class="content">
<pre>get-filename-drive ( -- c ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Get drive <em>c</em> ('A'..'P') currently used as default drive, i.e.
the drive implied by all filenames that do not specify a
drive.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D66696C656E616D652D6472697665">set-filename-drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D666C617368-src-lib-display-attributes-fs"><a id="entry6765742D666C617368"></a>get-flash</h3>
<div class="listingblock">
<div class="content">
<pre>get-flash ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>If flash is active in the current attribute, return <em>true</em>,
else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666C617368">set-flash</a></code>, <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry666C6173682E">flash.</a></code>, <code><a href="#entry7365742D7061706572">set-paper</a></code>,
<code><a href="#entry7365742D696E6B">set-ink</a></code>, <code><a href="#entry7365742D627269676874">set-bright</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D666F6E74-src-lib-display-fonts-fs"><a id="entry6765742D666F6E74"></a>get-font</h3>
<div class="listingblock">
<div class="content">
<pre>get-font ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Get address <em>a</em> of the current font (characters 32..127),
by fetching the system variable <code><a href="#entry6F732D6368617273">os-chars</a></code>.  <em>a</em> is the
bitmap address of character 0.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry64656661756C742D666F6E74">default-font</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.fonts.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry6765742D68656170"></a>get-heap</h3>
<div class="listingblock">
<div class="content">
<pre>get-heap ( -- a u b )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the values of the current heap: its address <em>a</em>
(returned by <code><a href="#entry68656170">heap</a></code>), its size <em>u</em> (returned by <code><a href="#entry2F68656170">/heap</a></code>)
and its bank <em>b</em> (stored in <code><a href="#entry686561702D62616E6B">heap-bank</a></code>).</p>
</div>
<div class="paragraph">
<p><code>get-heap</code> and <code><a href="#entry7365742D68656170">set-heap</a></code> are useful when more than one
memory heap are needed by the application.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D696E6B6579-src-lib-keyboard-get-inkey-fs"><a id="entry6765742D696E6B6579"></a>get-inkey</h3>
<div class="listingblock">
<div class="content">
<pre>get-inkey ( -- 0 | c )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the value of the key being pressed. If no key being
pressed leave zero.</p>
</div>
<div class="paragraph">
<p><code>get-inkey</code> reads the keyboard, so it works even when the
keyboard is not read by an interrupts routine.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E6B6579">inkey</a></code>, <code><a href="#entry6B6579">key</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.get-inkey.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D6B65793F-src-lib-keyboard-get-key-question-fs"><a id="entry6765742D6B65793F"></a>get-key?</h3>
<div class="listingblock">
<div class="content">
<pre>get-key? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>An alternative to <code><a href="#entry6B65793F">key?</a></code>. It works also when the system
interrupts are off. Variant with relative jumps.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6B65793F">key?</a></code>, <code><a href="#entry666173742D6765742D6B65793F">fast-get-key?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.get-key-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D6D69786572-src-lib-sound-128-fs"><a id="entry6765742D6D69786572"></a>get-mixer</h3>
<div class="listingblock">
<div class="content">
<pre>get-mixer ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the contents <em>b</em> of the mixer register of the
AY-3-8912 sound generator.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Register 7 (Mixer - I/O Enable)</p>
</div>
<div class="paragraph">
<p>This controls the enable status of the noise and tone
mixers for the three channels, and also controls the I/O
port used to drive the RS232 and Keypad sockets.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 0
</td>
<td class="hdlist2">
<p>Channel A Tone Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 1
</td>
<td class="hdlist2">
<p>Channel B Tone Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 2
</td>
<td class="hdlist2">
<p>Channel C Tone Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 3
</td>
<td class="hdlist2">
<p>Channel A Noise Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 4
</td>
<td class="hdlist2">
<p>Channel B Noise Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 5
</td>
<td class="hdlist2">
<p>Channel C Noise Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 6
</td>
<td class="hdlist2">
<p>I/O Port Enable (0=input, 1=output).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 7
</td>
<td class="hdlist2">
<p>Not used.</p>
</td>
</tr>
</table>
</div>
</blockquote>
<div class="attribution">
&#8212; Disassembly of the ZX Spectrum 128k ROM0
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6D69786572">set-mixer</a></code>, <code><a href="#entry2D6D69786572">-mixer</a></code>, <code><a href="#entry40736F756E64">@sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D6F72646572-src-kernel-z80s"><a id="entry6765742D6F72646572"></a>get-order</h3>
<div class="listingblock">
<div class="content">
<pre>get-order ( -- wid[n]..wid[1] n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number of word lists <em>n</em> in the search order and
the word lists identifiers <em>wid[n]..wid[1]</em> identifying these
word lists.  <em>wid[1]</em> identifies the word list that is
searched first, and <em>wid[n]</em> the word list that is searched
last.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: get-order ( -- wid[n]..wid[1] n )
  #order @ dup 0 ?do
    dup i - 1- cells context + @ swap
  loop ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH), Forth-2012 (SEARCH).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>, <code><a href="#entry636F6E74657874">context</a></code>, <code><a href="#entry236F72646572">#order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D736563746F722D756E6974-src-kernel-plus3dos-z80s"><a id="entry6765742D736563746F722D756E6974"></a>get-sector-unit</h3>
<div class="listingblock">
<div class="content">
<pre>get-sector-unit ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Get unit <em>n</em> (0..1) currently used for sector-level access,
i.e.  the unit used by <code><a href="#entry7472616E736665722D736563746F72">transfer-sector</a></code> and <code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>.
The default unit is initially 0.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D736563746F722D756E6974">set-sector-unit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D74696D65-src-lib-time-fs"><a id="entry6765742D74696D65"></a>get-time</h3>
<div class="listingblock">
<div class="content">
<pre>get-time ( -- second minute hour )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current time.</p>
</div>
<div class="paragraph">
<p>The system doesn&#8217;t have a clock. The system frames counter
is used instead. It is increased by the interrupts routine
every 20th ms. The counter is a 24-bit value, so its
maximum is $FFFFFF ticks of 20 ms (5592 minutes, 93 hours),
then it starts again from zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D74696D65">set-time</a></code>, <code><a href="#entry74696D652664617465">time&amp;date</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6765742D756467-src-lib-graphics-udg-fs"><a id="entry6765742D756467"></a>get-udg</h3>
<div class="listingblock">
<div class="content">
<pre>get-udg ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Get address <em>a</em> of the current UDG set (characters
0..255), by fetching the system variable <code><a href="#entry6F732D756467">os-udg</a></code>.  <em>a</em>
is the bitmap address of character 0.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D756467">set-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6769676174797065-src-lib-display-gigatype-fs"><a id="entry6769676174797065"></a>gigatype</h3>
<div class="listingblock">
<div class="content">
<pre>gigatype ( ca len n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display text string <em>ca len</em>
as a title with style <em>n</em> (0..7), at the current cursor
coordinates. <code>gigatype</code> displays characters from the
current font, with doubled pixels (16x16 pixels per
character) and modifying them on the fly after a given
style <em>n</em>.  The text is combined with the current content
of the screen, as if <code><a href="#entry6F7665727072696E74">overprint</a></code> were active. The current
attribute, set by <code><a href="#entry6174747221">attr!</a></code> and other words, is used to color
the text.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: demo ( -- )
  cls
  8 0 ?do
    17 0 i 3 * tuck at-xy s" GIGATYPE" i gigatype
                    at-xy ." style "   i .
  loop
  key drop home ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry67696761747970652D7469746C65">gigatype-title</a></code>, <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry286769676174657874">(gigatext</a></code>,
<code><a href="#entry74797065">type</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.gigatype.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry67696761747970652D7469746C65-src-lib-display-gigatype-fs"><a id="entry67696761747970652D7469746C65"></a>gigatype-title</h3>
<div class="listingblock">
<div class="content">
<pre>gigatype-title ( ca1 len1 n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len1</em> is greater than zero, display the character
string <em>ca1 len1</em> at the center of the current row (the
current column is not used), using <code><a href="#entry6769676174797065">gigatype</a></code> and its style
number <em>n</em>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<code><a href="#entry6769676174797065">gigatype</a></code> prints double-size (16x16 pixels)
characters.  Therefore, the maximum value of <em>len1</em> is 16
characters, but <code>gigatype-title</code> does no check. Beside,
it calculates the column of the title assuming the current
mode is <code><a href="#entry6D6F64653332">mode32</a></code> (32 characters per line), which is the
default one.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D63656E7465722D6669656C64">type-center-field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.gigatype.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry67696C2D616C6C6F63617465-src-lib-memory-allocate-gil-fs"><a id="entry67696C2D616C6C6F63617465"></a>gil-allocate</h3>
<div class="listingblock">
<div class="content">
<pre>gil-allocate ( u -- a ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Allocate <em>u</em> address units of contiguous data space. The
data-space pointer is unaffected by this operation. The
initial content of the allocated space is undefined.</p>
</div>
<div class="paragraph">
<p>If the allocation succeeds, <em>a</em> is the aligned starting
address of the allocated space and <em>ior</em> is zero.</p>
</div>
<div class="paragraph">
<p>If the operation fails, <em>a</em> does not represent a valid
address and <em>ior</em> is #-59.</p>
</div>
<div class="paragraph">
<p><code>gil-allocate</code> is the action of <code><a href="#entry616C6C6F63617465">allocate</a></code> in the <code><a href="#entry68656170">heap</a></code>
implementation based on written code written by Javier Gil,
whose words are defined in <code><a href="#entry67696C2D686561702D776F72646C697374">gil-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry67696C2D66726565">gil-free</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.gil.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry67696C2D656D7074792D68656170-src-lib-memory-allocate-gil-fs"><a id="entry67696C2D656D7074792D68656170"></a>gil-empty-heap</h3>
<div class="listingblock">
<div class="content">
<pre>gil-empty-heap ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Empty the current <code><a href="#entry68656170">heap</a></code>, which was created by
<code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>, <code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry62616E6B2D68656170">bank-heap</a></code> or <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>.</p>
</div>
<div class="paragraph">
<p><code>gil-empty-heap</code> is the action of <code><a href="#entry656D7074792D68656170">empty-heap</a></code> in the
memory <code><a href="#entry68656170">heap</a></code> implementation based on code written by
Javier Gil, whose words are defined in <code><a href="#entry67696C2D686561702D776F72646C697374">gil-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry67696C2D616C6C6F63617465">gil-allocate</a></code>, <code><a href="#entry67696C2D66726565">gil-free</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.gil.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry67696C2D66726565-src-lib-memory-allocate-gil-fs"><a id="entry67696C2D66726565"></a>gil-free</h3>
<div class="listingblock">
<div class="content">
<pre>gil-free ( a -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the contiguous region of data space indicated by <em>a</em>
to the system for later allocation. <em>a</em> shall indicate a
region of data space that was previously obtained by
<code><a href="#entry67696C2D616C6C6F63617465">gil-allocate</a></code>.</p>
</div>
<div class="paragraph">
<p><code>gil-free</code> is the action of <code><a href="#entry66726565">free</a></code> in the <code><a href="#entry68656170">heap</a></code>
implementation based on written code written by Javier Gil,
whose words are defined in <code><a href="#entry67696C2D686561702D776F72646C697374">gil-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.gil.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry67696C2D686561702D776F72646C697374-src-lib-memory-allocate-gil-fs"><a id="entry67696C2D686561702D776F72646C697374"></a>gil-heap-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>gil-heap-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p><em>wid</em> is the word-list identifier of the word list that
holds the words the memory <code><a href="#entry68656170">heap</a></code> implementation adapted
from code written by Javier Gil (2007-01).</p>
</div>
<div class="paragraph">
<p><code>need gil-heap-wordlist</code> is used to load the memory heap
implementation and configure <code><a href="#entry616C6C6F63617465">allocate</a></code>, <code><a href="#entry66726565">free</a></code> and
<code><a href="#entry656D7074792D68656170">empty-heap</a></code> accordingly. This implementation of the memory
heap does not provide <code><a href="#entry726573697A65">resize</a></code>.</p>
</div>
<div class="paragraph">
<p>An alternative, bigger implementation of the memory heap is
provided by <code><a href="#entry636861726C746F6E2D686561702D776F72646C697374">charlton-heap-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>The actual heap must be created with <code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>,
<code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code> or <code><a href="#entry62616E6B2D68656170">bank-heap</a></code>, which are
independent from the heap implemention.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.gil.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry677265617465722D6F66-src-lib-flow-case-fs"><a id="entry677265617465722D6F66"></a>greater-of</h3>
<div class="listingblock">
<div class="content">
<pre>greater-of
  Compilation: ( -- of-sys )
  Run-time: ( x1 x2 -- | x1 )</pre>
</div>
</div>
<div class="paragraph">
<p><code>greater-of</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: test ( x -- )
  case
    10 of         ." ten!"            endof
    15 greater-of ." greater than 15" endof
    ." less than 10 or 11..15"
  endcase ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6573732D6F66">less-of</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry677265656E-src-lib-display-attributes-fs"><a id="entry677265656E"></a>green</h3>
<div class="listingblock">
<div class="content">
<pre>green ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 4, the value that represents the
green color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry726564">red</a></code>, <code><a href="#entry6D6167656E7461">magenta</a></code>, <code><a href="#entry6379616E">cyan</a></code>,
<code><a href="#entry79656C6C6F77">yellow</a></code>, <code><a href="#entry7768697465">white</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6772656574696E67-src-kernel-z80s"><a id="entry6772656574696E67"></a>greeting</h3>
<div class="listingblock">
<div class="content">
<pre>greeting ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the boot message.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6C64">cold</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry67783E78-src-lib-graphics-pixels-fs"><a id="entry67783E78"></a>gx&gt;x</h3>
<div class="listingblock">
<div class="content">
<pre>gx&gt;x ( gx -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert graphic x coordinate <em>gx</em> to column <em>x</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry67793E79">gy&gt;y</a></code>, <code><a href="#entry783E6778">x&gt;gx</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6778793137363E73637261-src-lib-graphics-pixels-fs"><a id="entry6778793137363E73637261"></a>gxy176&gt;scra</h3>
<div class="listingblock">
<div class="content">
<pre>gxy176&gt;scra ( gx gy -- n a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return screen address <em>a</em> and pixel position <em>n</em> (0..7) of
pixel coordinates <em>gx</em> (0..255) and <em>gy</em> (0..175).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6778793137363E736372615F">gxy176&gt;scra_</a></code>, <code><a href="#entry6778793E73637261">gxy&gt;scra</a></code>, <code><a href="#entry78793E73637261">xy&gt;scra</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6778793137363E736372615F-src-lib-graphics-pixels-fs"><a id="entry6778793137363E736372615F"></a>gxy176&gt;scra_</h3>
<div class="listingblock">
<div class="content">
<pre>gxy176&gt;scra_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a routine that uses an alternative
entry point to the PIXEL-ADD ROM routine ($22AA), to bypass
the error check.</p>
</div>
<div class="paragraph">
<p>Input registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>C = x cordinate (0..255)</p>
</li>
<li>
<p>B = y coordinate (0..176)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = address of the pixel byte in the screen bitmap</p>
</li>
<li>
<p>A = position of the pixel in the byte address (0..7),
note: position 0=bit 7, position 7=bit 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6778793137363E73637261">gxy176&gt;scra</a></code>, <code><a href="#entry6778793E736372615F">gxy&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6778793E6174747261-src-lib-graphics-pixels-fs"><a id="entry6778793E6174747261"></a>gxy&gt;attra</h3>
<div class="listingblock">
<div class="content">
<pre>gxy&gt;attra ( gx gy -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert pixel coordinates <em>gx gy</em> to their correspondent
attribute address <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6778793E73637261-src-lib-graphics-pixels-fs"><a id="entry6778793E73637261"></a>gxy&gt;scra</h3>
<div class="listingblock">
<div class="content">
<pre>gxy&gt;scra ( gx gy -- n a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return screen address <em>a</em> and pixel position <em>n</em> (0..7) of
pixel coordinates <em>gx</em> (0..255) and <em>gy</em> (0..191).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6778793E736372615F">gxy&gt;scra_</a></code>, <code><a href="#entry6778793137363E73637261">gxy176&gt;scra</a></code>, <code><a href="#entry78793E73637261">xy&gt;scra</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6778793E736372615F-src-lib-graphics-pixels-fs"><a id="entry6778793E736372615F"></a>gxy&gt;scra_</h3>
<div class="listingblock">
<div class="content">
<pre>gxy&gt;scra_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word that executes <code><a href="#entry666173742D6778793E736372615F">fast-gxy&gt;scra_</a></code> or, by
default, <code><a href="#entry736C6F772D6778793E736372615F">slow-gxy&gt;scra_</a></code>:  Return address <em>a</em> of an
alternative to the PIXEL-ADD ROM routine ($22AA), to let
the range of the y coordinate be 0..191 instead of 0..175.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6778793137363E736372615F">gxy176&gt;scra_</a></code>, <code><a href="#entry78793E736372615F">xy&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry67793E79-src-lib-graphics-pixels-fs"><a id="entry67793E79"></a>gy&gt;y</h3>
<div class="listingblock">
<div class="content">
<pre>gy&gt;y ( gy -- y )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert graphic y coordinate <em>gy</em> to row <em>y</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry67783E78">gx&gt;x</a></code>, <code><a href="#entry793E6779">y&gt;gy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry68-src-lib-editor-specforth-fs"><a id="entry68"></a>h</h3>
<div class="listingblock">
<div class="content">
<pre>h ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Hold line <em>n</em> at <code><a href="#entry706164">pad</a></code> (used by system more often than by
user).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686561646572-src-kernel-z80s"><a id="entry686561646572"></a>header</h3>
<div class="listingblock">
<div class="content">
<pre>header ( "name" | -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word that creates a dictionary header.  Its default
action is <code><a href="#entry73747265616D2D6E616D652D686561646572">stream-name-header</a></code>, and it&#8217;s set by
<code><a href="#entry64656661756C742D686561646572">default-header</a></code>. Its alternative temporary action is
<code><a href="#entry6E6578746E616D652D686561646572">nextname-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6865616465722C">header,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6865616465722C-src-kernel-z80s"><a id="entry6865616465722C"></a>header,</h3>
<div class="listingblock">
<div class="content">
<pre>header, ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition header in the names space using the
name <em>ca len</em> and hide it by setting its smudge bit.</p>
</div>
<div class="paragraph">
<p>The execution token pointer of the new header points to the
data space pointer.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686561646572">header</a></code>, <code><a href="#entry7761726E">warn</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry68656170"></a>heap</h3>
<div class="listingblock">
<div class="content">
<pre>heap  ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the current memory heap, used by <code><a href="#entry616C6C6F63617465">allocate</a></code>,
<code><a href="#entry726573697A65">resize</a></code> and <code><a href="#entry66726565">free</a></code>.</p>
</div>
<div class="paragraph">
<p>The memory heap can be created by <code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>,
<code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code><a href="#entry62616E6B2D68656170">bank-heap</a></code>, or <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>. Then it must
be initialized by <code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F68656170">/heap</a></code>, <code><a href="#entry6765742D68656170">get-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686561702D62616E6B-src-lib-memory-allocate-COMMON-fs"><a id="entry686561702D62616E6B"></a>heap-bank</h3>
<div class="listingblock">
<div class="content">
<pre>heap-bank  ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable <em>ca</em> that contains the memory bank
used to store the <code><a href="#entry68656170">heap</a></code>, when the memory heap was created
by <code><a href="#entry62616E6B2D68656170">bank-heap</a></code> or <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>. If the heap was created
by <code><a href="#entry616C6C6F742D68656170">allot-heap</a></code> or <code><a href="#entry6C696D69742D68656170">limit-heap</a></code>, <code>heap-bank</code> contains
zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686561702D696E">heap-in</a></code>, <code><a href="#entry686561702D6F7574">heap-out</a></code>, <code><a href="#entry6765742D68656170">get-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686561702D696E-src-lib-memory-allocate-COMMON-fs"><a id="entry686561702D696E"></a>heap-in</h3>
<div class="listingblock">
<div class="content">
<pre>heap-in  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the current <code><a href="#entry68656170">heap</a></code> was created by <code><a href="#entry62616E6B2D68656170">bank-heap</a></code> or
<code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>, page in its bank, which is stored at
<code><a href="#entry686561702D62616E6B">heap-bank</a></code>; else do nothing.</p>
</div>
<div class="paragraph">
<p><code>heap-in</code> is a deferred word whose default action is
<code><a href="#entry6E6F6F70">noop</a></code>. Its alternative action is <code><a href="#entry28686561702D696E">(heap-in</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686561702D6F7574">heap-out</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686561702D6F7574-src-lib-memory-allocate-COMMON-fs"><a id="entry686561702D6F7574"></a>heap-out</h3>
<div class="listingblock">
<div class="content">
<pre>heap-out  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the current <code><a href="#entry68656170">heap</a></code> was created by <code><a href="#entry62616E6B2D68656170">bank-heap</a></code> or
<code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>, page in the default memory bank instead;
else do nothing.</p>
</div>
<div class="paragraph">
<p><code>heap-out</code> is a deferred word whose default action is
<code><a href="#entry6E6F6F70">noop</a></code>. Its alternative action is <code><a href="#entry64656661756C742D62616E6B">default-bank</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686561702D696E">heap-in</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry68657265-src-kernel-z80s"><a id="entry68657265"></a>here</h3>
<div class="listingblock">
<div class="content">
<pre>here ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address of the data-space pointer.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C696D6974">limit</a></code>, <code><a href="#entry756E75736564">unused</a></code>, <code><a href="#entry7468657265">there</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686578-src-kernel-z80s"><a id="entry686578"></a>hex</h3>
<div class="listingblock">
<div class="content">
<pre>hex ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set contents of <code><a href="#entry62617365">base</a></code> to sixteen.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Reference Word Set), Forth-83
(Controlled Reference Words), Forth-94 (CORE EXT), Forth-2012
(CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646563696D616C">decimal</a></code>, <code><a href="#entry62696E617279">binary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6865782E-src-lib-display-numbers-fs"><a id="entry6865782E"></a>hex.</h3>
<div class="listingblock">
<div class="content">
<pre>hex. ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display <em>n</em> as an unsigned hexadecimal number, followed by
one space.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6465632E">dec.</a></code>, <code><a href="#entry62696E2E">bin.</a></code>, <code><a href="#entry752E">u.</a></code>, <code><a href="#entry2E">.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6865783E-src-lib-display-numbers-fs"><a id="entry6865783E"></a>hex&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>hex&gt; ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End a code zone where hexadecimal radix is the default, by
restoring the value of <code><a href="#entry62617365">base</a></code> from <code><a href="#entry6261736527">base'</a></code>.  The zone was
started by <code><a href="#entry3C686578">&lt;hex</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry68696464656E-src-kernel-z80s"><a id="entry68696464656E"></a>hidden</h3>
<div class="listingblock">
<div class="content">
<pre>hidden ( nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Hide the definition <em>nt</em> by setting its <code><a href="#entry736D75646765">smudge</a></code> bit.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72657665616C6564">revealed</a></code>, <code><a href="#entry68696465">hide</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry68696465-src-kernel-z80s"><a id="entry68696465"></a>hide</h3>
<div class="listingblock">
<div class="content">
<pre>hide ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Hide the <code><a href="#entry6C6174657374">latest</a></code> definition by setting its <code><a href="#entry736D75646765">smudge</a></code> bit.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72657665616C">reveal</a></code>, <code><a href="#entry68696464656E">hidden</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686964652D696E7465726E616C-src-lib-modules-internal-fs"><a id="entry686964652D696E7465726E616C"></a>hide-internal</h3>
<div class="listingblock">
<div class="content">
<pre>hide-internal ( nt xtp -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Hide all words defined between the latest pair <code><a href="#entry696E7465726E616C">internal</a></code>
and <code><a href="#entry656E642D65787465726E616C">end-external</a></code>, setting the <code><a href="#entry736D75646765">smudge</a></code> bit of their
headers.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>internal

: hello ( -- ) ." hello" ;

end-internal

: salute ( -- ) hello ;

hide-internal

salute  \ ok!
hello   \ error!</pre>
</div>
</div>
<div class="paragraph">
<p>At least one word must be defined between <code><a href="#entry656E642D696E7465726E616C">end-internal</a></code>
and <code>hide-internal</code>.</p>
</div>
<div class="paragraph">
<p>The alternative word <code><a href="#entry756E6C696E6B2D696E7465726E616C">unlink-internal</a></code> uses a different,
simpler method: it unlinks the internal words from the
dictionary.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry707269766174697A65">privatize</a></code> uses a similar method, but it has error
checking and does not use the stack.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.internal.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686C64-src-kernel-z80s"><a id="entry686C64"></a>hld</h3>
<div class="listingblock">
<div class="content">
<pre>hld ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A user variable that holds the address of the latest character of
text during numeric output conversion.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686F6C64-src-kernel-z80s"><a id="entry686F6C64"></a>hold</h3>
<div class="listingblock">
<div class="content">
<pre>hold ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Insert char <em>c</em> into a pictured numeric output string.
Typically used between <code><a href="#entry3C23">&lt;#</a></code> and <code><a href="#entry233E">#&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: hold ( c -- ) -1 hld +!  hld @ c! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686F6C6473-src-lib-display-numbers-fs"><a id="entry686F6C6473"></a>holds</h3>
<div class="listingblock">
<div class="content">
<pre>holds ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add string <em>ca len</em> to the pictured numeric output string.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686F6D65-src-kernel-z80s"><a id="entry686F6D65"></a>home</h3>
<div class="listingblock">
<div class="content">
<pre>home ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the cursor position at the top left position (column 0,
row 0).</p>
</div>
<div class="paragraph">
<p><code>home</code> is a deferred word, whose default action is <code><a href="#entry28686F6D6529">(home)</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61742D7879">at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry686F72697A6F6E74616C2D6375727461696E-src-lib-graphics-cls-fs"><a id="entry686F72697A6F6E74616C2D6375727461696E"></a>horizontal-curtain</h3>
<div class="listingblock">
<div class="content">
<pre>horizontal-curtain ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wash the screen with the given color attribute <em>b</em> from the
top and bottom rows to the middle.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry766572746963616C2D6375727461696E">vertical-curtain</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.cls.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry68756E74-src-lib-strings-MISC-fs"><a id="entry68756E74"></a>hunt</h3>
<div class="listingblock">
<div class="content">
<pre>hunt ( ca1 len1 ca2 len2 -- ca3 len3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Search a string <em>ca1 len1</em> for a substring <em>ca2 len2</em>.
Return the part of <em>ca1 len1</em> that starts with the first
occurence of <em>ca2 len2</em>. Therefore <em>ca3 len3</em> = <em>ca1+n
len1-n</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Charscan library, by Wil Baden, 2003-02-17, public
domain.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736561726368">search</a></code>, <code><a href="#entry636F6D70617265">compare</a></code>, <code><a href="#entry736B6970">skip</a></code>, <code><a href="#entry7363616E">scan</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry687A3E626C656570-src-lib-sound-48-fs"><a id="entry687A3E626C656570"></a>hz&gt;bleep</h3>
<div class="listingblock">
<div class="content">
<pre>hz&gt;bleep ( frequency duration1 -- duration2 pitch )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>frequency</em> (in Hz) and <em>duration1</em> (in ms) to
the parameters <em>duration2 pitch</em> needed by <code><a href="#entry626C656570">bleep</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64687A3E626C656570">dhz&gt;bleep</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry69-src-kernel-z80s"><a id="entry69"></a>i</h3>
<div class="listingblock">
<div class="content">
<pre>i ( -- n|u ) ( R: do-sys -- do-sys )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a copy of the current (innermost) loop index.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry69-src-lib-editor-specforth-fs">i</h3>
<div class="listingblock">
<div class="content">
<pre>i ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Insert text from <code><a href="#entry706164">pad</a></code> at line <em>n</em>, moving the old line <em>n</em>
down. Line 15 is lost.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6966-src-kernel-z80s"><a id="entry6966"></a>if</h3>
<div class="listingblock">
<div class="content">
<pre>if ( Compilation: -- orig ) ( Run-time: x -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>if</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696663617365-src-lib-flow-thiscase-fs"><a id="entry696663617365"></a>ifcase</h3>
<div class="listingblock">
<div class="content">
<pre>ifcase ( x f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Part of a <code><a href="#entry7468697363617365">thiscase</a></code> structure that checks <em>x</em>. If <em>f</em> is
true, discard <em>x</em> and continue execution; else skip the
code compiled until the next <code><a href="#entry6578697463617365">exitcase</a></code>.</p>
</div>
<div class="paragraph">
<p><code>ifcase</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F7468657263617365">othercase</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.thiscase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6966656C7365-src-lib-math-operators-1-cell-fs"><a id="entry6966656C7365"></a>ifelse</h3>
<div class="listingblock">
<div class="content">
<pre>ifelse ( x1 x2 f -- x1 | x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is true return <em>x1</em>, otherwise return <em>x2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696D6D656469617465-src-kernel-z80s"><a id="entry696D6D656469617465"></a>immediate</h3>
<div class="listingblock">
<div class="content">
<pre>immediate ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the most recent definition an immediate word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: immediate ( -- ) immediate-mask latest lex! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696D6D6564696174653F">immediate?</a></code>,  <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696D6D6564696174652D6D61736B-src-kernel-z80s"><a id="entry696D6D6564696174652D6D61736B"></a>immediate-mask</h3>
<div class="listingblock">
<div class="content">
<pre>immediate-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Constant that holds the bitmask of the precedence bit, set by
<code><a href="#entry696D6D656469617465">immediate</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6D70696C652D6F6E6C792D6D61736B">compile-only-mask</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696D6D6564696174653F-src-kernel-z80s"><a id="entry696D6D6564696174653F"></a>immediate?</h3>
<div class="listingblock">
<div class="content">
<pre>immediate? ( nt -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the word <em>nt</em> immediate?</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: immediate? ( nt -- f ) immediate-mask lex? ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696D6D656469617465">immediate</a></code>, <code><a href="#entry6C65783F">lex?</a></code>, <code><a href="#entry696D6D6564696174652D6D61736B">immediate-mask</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6378-src-lib-graphics-lines-fs"><a id="entry696E6378"></a>incx</h3>
<div class="listingblock">
<div class="content">
<pre>incx ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double-cell variable used by <code><a href="#entry6164726177313736">adraw176</a></code> and <code><a href="#entry616C696E65313736">aline176</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E6379">incy</a></code>, <code><a href="#entry7831">x1</a></code>, <code><a href="#entry7931">y1</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6379-src-lib-graphics-lines-fs"><a id="entry696E6379"></a>incy</h3>
<div class="listingblock">
<div class="content">
<pre>incy ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double-cell variable used by <code><a href="#entry6164726177313736">adraw176</a></code> and <code><a href="#entry616C696E65313736">aline176</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E6378">incx</a></code>, <code><a href="#entry7831">x1</a></code>, <code><a href="#entry7931">y1</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E646578-src-lib-tool-list-blocks-fs"><a id="entry696E646578"></a>index</h3>
<div class="listingblock">
<div class="content">
<pre>index ( u1 u2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the first line of each block over the range from
<em>u1</em> to <em>u2</em>, which conventionally contains a comment with
a title.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Reference Word Set), Forth-83
(Uncontrolled Reference Words).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6465782D626C6F636B-src-lib-blocks-indexer-fly-fs"><a id="entry696E6465782D626C6F636B"></a>index-block</h3>
<div class="listingblock">
<div class="content">
<pre>index-block ( block -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Index block <em>block</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.fly.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6465782D696C696B65-src-lib-tool-list-blocks-fs"><a id="entry696E6465782D696C696B65"></a>index-ilike</h3>
<div class="listingblock">
<div class="content">
<pre>index-ilike ( u1 u2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the first line of each block over the range from <em>u1</em>
to <em>u2</em>, which conventionally contains a comment with a
title, as long as the string <em>name</em> is included in the
line. The string comparison is case-insensitive.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E646578">index</a></code>, <code><a href="#entry696E6465782D6C696B65">index-like</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6465782D6C696B65-src-lib-tool-list-blocks-fs"><a id="entry696E6465782D6C696B65"></a>index-like</h3>
<div class="listingblock">
<div class="content">
<pre>index-like ( u1 u2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print the first line of each block over the range from <em>u1</em>
to <em>u2</em>, which conventionally contains a comment with a
title, as long as the string <em>name</em> is included in the
line. The string comparison is case-sensitive.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E646578">index</a></code>, <code><a href="#entry696E6465782D696C696B65">index-ilike</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6465782D6E616D65-src-lib-blocks-indexer-COMMON-fs"><a id="entry696E6465782D6E616D65"></a>index-name</h3>
<div class="listingblock">
<div class="content">
<pre>index-name ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add word <em>ca len</em> to the blocks index, if not done before.</p>
</div>
<div class="paragraph">
<p>The current word list must be <code><a href="#entry696E6465782D776F72646C697374">index-wordlist</a></code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The block where <em>ca len</em> was found is stored as
the execution token of its definition in the index. This
way the index uses no data space. Don&#8217;t put
<code><a href="#entry696E6465782D776F72646C697374">index-wordlist</a></code> in the search order unless you know what
you&#8217;re doing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6465782D776F72646C697374-src-lib-blocks-indexer-COMMON-fs"><a id="entry696E6465782D776F72646C697374"></a>index-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>index-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Word list for the indexed words.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E64657865642D626C6F636B3F-src-lib-blocks-indexer-fly-fs"><a id="entry696E64657865642D626C6F636B3F"></a>indexed-block?</h3>
<div class="listingblock">
<div class="content">
<pre>indexed-block? ( block -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is block <em>block</em> indexed?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.fly.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E64657865642D626C6F636B73-src-lib-blocks-indexer-fly-fs"><a id="entry696E64657865642D626C6F636B73"></a>indexed-blocks</h3>
<div class="listingblock">
<div class="content">
<pre>indexed-blocks ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Bit array to mark the indexed blocks</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.fly.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E69742D3276616C-src-lib-data-val-fs"><a id="entry696E69742D3276616C"></a>init-2val</h3>
<div class="listingblock">
<div class="content">
<pre>init-2val  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Init the default behaviour of words created by <code><a href="#entry3276616C">2val</a></code>: Make
them return their content.</p>
</div>
<div class="paragraph">
<p><code>init-2val</code> is a factor of <code><a href="#entry3276616C">2val</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E69742D6172672D616374696F6E-src-lib-locals-arguments-fs"><a id="entry696E69742D6172672D616374696F6E"></a>init-arg-action</h3>
<div class="listingblock">
<div class="content">
<pre>init-arg-action  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <code><a href="#entry6172672D616374696F6E">arg-action</a></code> to <code><a href="#entry6172672D64656661756C742D616374696F6E">arg-default-action</a></code>.</p>
</div>
<div class="paragraph">
<p><code>init-arg-action</code> is a factor of <code><a href="#entry617267756D656E7473">arguments</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.arguments.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E69742D61736D-src-kernel-z80s"><a id="entry696E69742D61736D"></a>init-asm</h3>
<div class="listingblock">
<div class="content">
<pre>init-asm ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word called by <code><a href="#entry61736D">asm</a></code>.  Its action is set by the
assembler labels module in order to init the labels.  Its
default action is <code><a href="#entry6E6F6F70">noop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E69742D6376616C-src-lib-data-val-fs"><a id="entry696E69742D6376616C"></a>init-cval</h3>
<div class="listingblock">
<div class="content">
<pre>init-cval  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Init the default behaviour of words created by <code><a href="#entry6376616C">cval</a></code>: Make
them return their content.</p>
</div>
<div class="paragraph">
<p><code>init-cval</code> is a factor of <code><a href="#entry6376616C">cval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E69742D6C6162656C73-src-lib-assembler-labels-fs"><a id="entry696E69742D6C6162656C73"></a>init-labels</h3>
<div class="listingblock">
<div class="content">
<pre>init-labels ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Init the assembler labels and their references, by
allocating space for them in the <code><a href="#entry737472696E676572">stringer</a></code> and erasing it.
<code><a href="#entry6C6162656C73">labels</a></code> and <code><a href="#entry6C2D72656673">l-refs</a></code> are given new values.</p>
</div>
<div class="paragraph">
<p>Loading <code>init-labels</code> makes it the action of <code><a href="#entry696E69742D61736D">init-asm</a></code>,
which is called by <code><a href="#entry61736D">asm</a></code> and therefore also by <code><a href="#entry636F6465">code</a></code> and
<code><a href="#entry3B636F6465">;code</a></code>. Therefore, if the application needs a specific
ammount of labels or label references, <code><a href="#entry6D61782D6C6162656C73">max-labels</a></code> and
<code><a href="#entry6D61782D6C2D72656673">max-l-refs</a></code> must be configured before compiling the
assembly word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E69742D76616C-src-lib-data-val-fs"><a id="entry696E69742D76616C"></a>init-val</h3>
<div class="listingblock">
<div class="content">
<pre>init-val  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Init the default behaviour of words created by <code><a href="#entry76616C">val</a></code>: Make
them return their content.</p>
</div>
<div class="paragraph">
<p><code>init-val</code> is a factor of <code><a href="#entry76616C">val</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6B2E-src-lib-display-attributes-fs"><a id="entry696E6B2E"></a>ink.</h3>
<div class="listingblock">
<div class="content">
<pre>ink. ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set ink color to <em>b</em> (0..9), by printing the corresponding
control characters.  If <em>b</em> is greater than 9, 9 is used
instead.</p>
</div>
<div class="paragraph">
<p><code>ink.</code> is much slower than <code><a href="#entry7365742D696E6B">set-ink</a></code> or <code><a href="#entry6174747221">attr!</a></code>, but it
can handle pseudo-colors 8 (transparent) and 9 (contrast),
setting the corresponding system variables accordingly.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70617065722E">paper.</a></code>, <code><a href="#entry28302D392D636F6C6F722E">(0-9-color.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E6B6579-src-lib-keyboard-inkey-fs"><a id="entry696E6B6579"></a>inkey</h3>
<div class="listingblock">
<div class="content">
<pre>inkey ( -- 0 | c )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the value of the key being pressed. If no key being
pressed, leave 0.</p>
</div>
<div class="paragraph">
<p><code>inkey</code> works only when an interrupts routine reads the
keyboard and updates the related system variables.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D696E6B6579">get-inkey</a></code>, <code><a href="#entry6B6579">key</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.inkey.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E7075742D627566666572-src-kernel-z80s"><a id="entry696E7075742D627566666572"></a>input-buffer</h3>
<div class="listingblock">
<div class="content">
<pre>input-buffer ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double-cell variable that holds the address and length of
the current input buffer.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736F75726365">source</a></code>, <code><a href="#entry7365742D736F75726365">set-source</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E7075742D73747265616D2D686561646572-src-kernel-z80s"><a id="entry696E7075742D73747265616D2D686561646572"></a>input-stream-header</h3>
<div class="listingblock">
<div class="content">
<pre>input-stream-header ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a dictionary header <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: input-stream-header ( "name" -- )
  parse-name ?name-too-short header, ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686561646572">header</a></code>, <code><a href="#entry6865616465722C">header,</a></code>, <code><a href="#entry6E6578746E616D652D686561646572">nextname-header</a></code>,
<code><a href="#entry70617273652D6E616D65">parse-name</a></code>, <code><a href="#entry3F6E616D652D746F6F2D73686F7274">?name-too-short</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E7465726E616C-src-lib-modules-internal-fs"><a id="entry696E7465726E616C"></a>internal</h3>
<div class="listingblock">
<div class="content">
<pre>internal ( -- nt )</pre>
</div>
</div>
<div class="paragraph">
<p>Start internal (private) definitions.  Return the <em>nt</em> of
the latest word created in the compilation word list.</p>
</div>
<div class="paragraph">
<p>The end of the internal definitions is marked by
<code><a href="#entry656E642D696E7465726E616C">end-internal</a></code>. Then those definitions can be unlinked by
<code><a href="#entry756E6C696E6B2D696E7465726E616C">unlink-internal</a></code> or hidden by <code><a href="#entry686964652D696E7465726E616C">hide-internal</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry69736F6C617465">isolate</a></code>, <code><a href="#entry6D6F64756C65">module</a></code>, <code><a href="#entry7061636B616765">package</a></code>, <code><a href="#entry707269766174697A65">privatize</a></code>,
<code><a href="#entry7365636C7573696F6E">seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.internal.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E74657270726574-src-kernel-z80s"><a id="entry696E74657270726574"></a>interpret</h3>
<div class="listingblock">
<div class="content">
<pre>interpret ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>The text interpreter which sequentially executes or compiles
text from the input stream (terminal or disk) depending on
<code><a href="#entry7374617465">state</a></code>. if the word name cannot be found after a search of
the <code><a href="#entry636F6E74657874">context</a></code> search order it is converted to a number
according to the current <code><a href="#entry62617365">base</a></code>.  That also failing, an error
message will be given.</p>
</div>
<div class="paragraph">
<p>The actions of the text interpreter are determined by the
configuration of <code><a href="#entry696E746572707265742D7461626C65">interpret-table</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6576616C75617465">evaluate</a></code>, <code><a href="#entry657865637574652D70617273696E67">execute-parsing</a></code>, <code><a href="#entry7365742D736F75726365">set-source</a></code>,
<code><a href="#entry6E6573742D736F75726365">nest-source</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E746572707265742D7461626C65-src-kernel-z80s"><a id="entry696E746572707265742D7461626C65"></a>interpret-table</h3>
<div class="listingblock">
<div class="content">
<pre>interpret-table ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address of the execution table used by <code><a href="#entry696E74657270726574">interpret</a></code>.
The table contains 13 vectors.  The behaviour of the Forth
text interpreter can be changed by replacing these vectors.
See the kernel source for details on the position and function
of the vectors.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E7665727365-src-lib-display-attributes-fs"><a id="entry696E7665727365"></a>inverse</h3>
<div class="listingblock">
<div class="content">
<pre>inverse ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is zero, turn the inverse printing mode
off; else turn it on.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E76657273652D6F6666">inverse-off</a></code>, <code><a href="#entry696E76657273652D6F6E">inverse-on</a></code>, <code><a href="#entry6F7665727072696E74">overprint</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E76657273652D636F6E64-src-lib-assembler-fs"><a id="entry696E76657273652D636F6E64"></a>inverse-cond</h3>
<div class="listingblock">
<div class="content">
<pre>inverse-cond ( op1 -- op2)</pre>
</div>
</div>
<div class="paragraph">
<p>Convert an assembler condition flag (actually, an absolute
jump opcode) to its opposite.</p>
</div>
<div class="paragraph">
<p>Examples: <code><a href="#entry633F">c?</a></code> is converted to <code><a href="#entry6E633F">nc?</a></code>; <code><a href="#entry6E7A3F">nz?</a></code> to <code><a href="#entry7A3F">z?</a></code>, etc.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E76657273652D6F6666-src-lib-display-attributes-fs"><a id="entry696E76657273652D6F6666"></a>inverse-off</h3>
<div class="listingblock">
<div class="content">
<pre>inverse-off ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Turn the inverse printing mode off.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E76657273652D6F6E">inverse-on</a></code>, <code><a href="#entry696E7665727365">inverse</a></code>, <code><a href="#entry6F7665727072696E742D6F6666">overprint-off</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E76657273652D6F6E-src-lib-display-attributes-fs"><a id="entry696E76657273652D6F6E"></a>inverse-on</h3>
<div class="listingblock">
<div class="content">
<pre>inverse-on ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Turn the inverse printing mode on.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E76657273652D6F6666">inverse-off</a></code>, <code><a href="#entry696E7665727365">inverse</a></code>, <code><a href="#entry6F7665727072696E742D6F6E">overprint-on</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E76657274-src-kernel-z80s"><a id="entry696E76657274"></a>invert</h3>
<div class="listingblock">
<div class="content">
<pre>invert ( x1 -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Invert all bits of <em>x1</em> giving its logical inverse <em>x2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry303D">0=</a></code>, <code><a href="#entry6E6567617465">negate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry696E766572742D646973706C6179-src-lib-graphics-display-fs"><a id="entry696E766572742D646973706C6179"></a>invert-display</h3>
<div class="listingblock">
<div class="content">
<pre>invert-display ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Invert the pixels of the whole screen.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776176652D646973706C6179">wave-display</a></code>, <code><a href="#entry666164652D646973706C6179">fade-display</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.display.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry69736F6C617465-src-lib-modules-MISC-fs"><a id="entry69736F6C617465"></a>isolate</h3>
<div class="listingblock">
<div class="content">
<pre>isolate ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a word list, push it on the search order and set it
as the compilation word list.</p>
</div>
<div class="paragraph">
<p><code>isolate</code> is the simplest way to create a module.  Usage
example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>get-current isolate
  \ Inner words.
set-current
  \ Interface words.
previous</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E7465726E616C">internal</a></code>, <code><a href="#entry6D6F64756C65">module</a></code>, <code><a href="#entry7061636B616765">package</a></code>, <code><a href="#entry707269766174697A65">privatize</a></code>,
<code><a href="#entry7365636C7573696F6E">seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6974656D-src-lib-data-associative-list-fs"><a id="entry6974656D"></a>item</h3>
<div class="listingblock">
<div class="content">
<pre>item ( ca len wid -- i*x )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>ca len</em> is an item of associative list <em>wid</em>, return
its value <em>i*x</em>; else throw exception -13, "undefined
word".</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6974656D3F-src-lib-data-associative-list-fs"><a id="entry6974656D3F"></a>item?</h3>
<div class="listingblock">
<div class="content">
<pre>item? ( ca len wid -- false | xt true )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>ca len</em> an item of associative list <em>wid</em>?
If so return its <em>xt</em> and <em>true</em>, else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6974656D73-src-lib-data-associative-list-fs"><a id="entry6974656D73"></a>items</h3>
<div class="listingblock">
<div class="content">
<pre>items ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List items of associative list <em>wid</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6A-src-lib-flow-j-fs"><a id="entry6A"></a>j</h3>
<div class="listingblock">
<div class="content">
<pre>j ( -- n|u ) ( R: loop-sys1 loop-sys2 -- loop-sys1 loop-sys2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a copy <em>n|u</em> of the next-outer <code><a href="#entry6C6F6F70">loop</a></code> index.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry69">i</a></code>, <code><a href="#entry6B">k</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.j.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6A6F696E-src-lib-math-operators-1-cell-fs"><a id="entry6A6F696E"></a>join</h3>
<div class="listingblock">
<div class="content">
<pre>join ( b1 b2 -- x )</pre>
</div>
</div>
<div class="paragraph">
<p><em>b1</em> is the low-order byte of <em>x</em>, and <em>b2</em> is the
high-order byte of <em>x</em>.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry73706C6974">split</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6A702C-src-kernel-z80s"><a id="entry6A702C"></a>jp,</h3>
<div class="listingblock">
<div class="content">
<pre>jp, ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the Z80 opcode to jump to <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: jp, ( a -- ) $C3 c, , ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63616C6C2C">call,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6A706E6578742C-src-kernel-z80s"><a id="entry6A706E6578742C"></a>jpnext,</h3>
<div class="listingblock">
<div class="content">
<pre>jpnext, ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile a Z80 jump to <code><a href="#entry6E657874">next</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6A702C">jp,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6A7070757368686C2C-src-kernel-z80s"><a id="entry6A7070757368686C2C"></a>jppushhl,</h3>
<div class="listingblock">
<div class="content">
<pre>jppushhl, ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile a Z80 jump to <code><a href="#entry70757368686C">pushhl</a></code>.</p>
</div>
<div class="paragraph">
<p>Actually two instructions are compiled: <code>push hl</code> and <code>jp
(ix)</code> (the IX register holds the address returned by <code><a href="#entry6E657874">next</a></code>).
The execution of these instructions is faster than an absolute
jump to a push, and they need 3 bytes, same as a jump.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6A702C">jp,</a></code>, <code><a href="#entry70757368686C">pushhl</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B-src-lib-flow-j-fs"><a id="entry6B"></a>k</h3>
<div class="listingblock">
<div class="content">
<pre>k ( -- n|u ) ( R: loop-sys1..loop-sys3 -- loop-sys1..loop-sys3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a copy <em>n|u</em> of the second outer <code><a href="#entry6C6F6F70">loop</a></code> index.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Controlled reference words).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry69">i</a></code>, <code><a href="#entry6A">j</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.j.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B6579-src-kernel-z80s"><a id="entry6B6579"></a>key</h3>
<div class="listingblock">
<div class="content">
<pre>key ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B65792D7472616E736C6174696F6E2D7461626C65-src-kernel-z80s"><a id="entry6B65792D7472616E736C6174696F6E2D7461626C65"></a>key-translation-table</h3>
<div class="listingblock">
<div class="content">
<pre>key-translation-table ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the address of the current key
translation table, used by <code><a href="#entry6B6579">key</a></code>.</p>
</div>
<div class="paragraph">
<p>The table consists of pairs of characters. The first one is
the character that has to be translated and the second one is
its translation. The table is finished with a zero.</p>
</div>
<div class="paragraph">
<p>The default table makes it possible to access the following
characters with Symbol Shift: '[', ']', '~', '|', '\', '{' and '}'.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B65793F-src-kernel-z80s"><a id="entry6B65793F"></a>key?</h3>
<div class="listingblock">
<div class="content">
<pre>key? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FACILITY), Forth-2012 (FACILITY).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B657973-src-lib-keyboard-MISC-fs"><a id="entry6B657973"></a>keys</h3>
<div class="listingblock">
<div class="content">
<pre>keys ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that holds the number of keys on the keyboard:
40.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B6B2C-src-lib-keyboard-MISC-fs"><a id="entry6B6B2C"></a>kk,</h3>
<div class="listingblock">
<div class="content">
<pre>kk, ( bitmask port -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store a key definition into the keys table.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6B6B40">kk@</a></code>, <code><a href="#entry2F6B6B">/kk</a></code>, <code><a href="#entry6B6B2D706F727473">kk-ports</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B6B2D6368617273-src-lib-keyboard-MISC-fs"><a id="entry6B6B2D6368617273"></a>kk-chars</h3>
<div class="listingblock">
<div class="content">
<pre>kk-chars ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of a 40-byte table that contains the chars used as
names of the keys.</p>
</div>
<div class="paragraph">
<p>The table contains one byte per physical key, and
it&#8217;s organized by keyboard rows.</p>
</div>
<div class="paragraph">
<p>By default, the first 4 UDG (chars 128..131) are used for
keys whose names are not a printable char:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>128 = Caps Shift</p>
</li>
<li>
<p>129 = Enter</p>
</li>
<li>
<p>130 = Space</p>
</li>
<li>
<p>131 = Symbol Shift</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B6B2D706F727473-src-lib-keyboard-MISC-fs"><a id="entry6B6B2D706F727473"></a>kk-ports</h3>
<div class="listingblock">
<div class="content">
<pre>kk-ports ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A table that contains the key definitions (bitmak and port)
of all keys.</p>
</div>
<div class="paragraph">
<p>The table contains 40 items, one per physical key, and it&#8217;s
organized by keyboard rows.</p>
</div>
<div class="paragraph">
<p>Every item occupies 3 or 4 bytes, depending on the value of
<code><a href="#entry2F6B6B">/kk</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6B6B2C">kk,</a></code>, <code><a href="#entry6B6B40">kk@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6B6B40-src-lib-keyboard-MISC-fs"><a id="entry6B6B40"></a>kk@</h3>
<div class="listingblock">
<div class="content">
<pre>kk@ ( a -- bitmask port )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch a key definition from the keys table.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6B6B2C">kk,</a></code>, <code><a href="#entry2F6B6B">/kk</a></code>, <code><a href="#entry6B6B2D706F727473">kk-ports</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C-src-lib-editor-specforth-fs"><a id="entry6C"></a>l</h3>
<div class="listingblock">
<div class="content">
<pre>l ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List the current block.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C21-src-lib-assembler-labels-fs"><a id="entry6C21"></a>l!</h3>
<div class="listingblock">
<div class="content">
<pre>l!  ( x n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If assembler label <em>n</em> has been defined in the current
definition, throw exception #-284 (assembly label number
already used); else create a new assembler label <em>n</em> with
value <em>x</em> and resolve all previous references to it that
could have been created by <code><a href="#entry726C23">rl#</a></code> or <code><a href="#entry616C23">al#</a></code>. Usually <em>x</em> is
an address.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C3A">l:</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C2D72656673-src-lib-assembler-labels-fs"><a id="entry6C2D72656673"></a>l-refs</h3>
<div class="listingblock">
<div class="content">
<pre>l-refs  ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> contains the address of the label
references table, which is allocated in the <code><a href="#entry737472696E676572">stringer</a></code> by
<code><a href="#entry696E69742D6C6162656C73">init-labels</a></code>. The size of the table can be configured with
<code><a href="#entry6D61782D6C2D72656673">max-l-refs</a></code>.</p>
</div>
<div class="paragraph">
<p>Each element of the table (0 index) has the following
structure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>+0 = byte: unused reference:
              all bits are 0
           used reference:
              label number:        bits 0..5
              relative reference?: bit 6 = 1 (mask `&lt;&lt;entry726C2D6964, pass:c[rl-id]&gt;&gt;`)
              absolute reference?: bit 7 = 1 (mask `&lt;&lt;entry616C2D6964, pass:c[al-id]&gt;&gt;`)
+1 = cell: label address</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C2F736372-src-kernel-z80s"><a id="entry6C2F736372"></a>l/scr</h3>
<div class="listingblock">
<div class="content">
<pre>l/scr ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C3A-src-lib-assembler-labels-fs"><a id="entry6C3A"></a>l:</h3>
<div class="listingblock">
<div class="content">
<pre>l:  ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If assembler label <em>n</em> has been defined in the current
definition, throw exception #-284 (assembly label number
already used); else create a new assembler label <em>n</em> with
the value returned by <code><a href="#entry68657265">here</a></code> and resolve all previous
references to it that could have been created by <code><a href="#entry726C23">rl#</a></code> or
<code><a href="#entry616C23">al#</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C21">l!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6162656C73-src-lib-assembler-labels-fs"><a id="entry6C6162656C73"></a>labels</h3>
<div class="listingblock">
<div class="content">
<pre>labels  ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> contains the address of the labels table,
which is allocated in the <code><a href="#entry737472696E676572">stringer</a></code> by <code><a href="#entry696E69742D6C6162656C73">init-labels</a></code>.  The
size of the table can be configured with <code><a href="#entry6D61782D6C6162656C">max-label</a></code>.</p>
</div>
<div class="paragraph">
<p>Each element of the table (0 index) is one cell, which
holds hold the address of the correspending label, or zero
if the label is undefined.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C617365722D67756E-src-lib-sound-48-fs"><a id="entry6C617365722D67756E"></a>laser-gun</h3>
<div class="listingblock">
<div class="content">
<pre>laser-gun ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Laser gun sound for ZX Spectrum 48K.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C617374-src-kernel-z80s"><a id="entry6C617374"></a>last</h3>
<div class="listingblock">
<div class="content">
<pre>last ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the name token of the last word
defined.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D636F6C756D6E-src-lib-display-cursor-fs"><a id="entry6C6173742D636F6C756D6E"></a>last-column</h3>
<div class="listingblock">
<div class="content">
<pre>last-column ( -- col )</pre>
</div>
</div>
<div class="paragraph">
<p>Last column (x coordinate) in the current screen mode.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D726F77">last-row</a></code>, <code><a href="#entry636F6C756D6E73">columns</a></code>, <code><a href="#entry636F6C756D6E">column</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D666F6E742D63686172-src-kernel-z80s"><a id="entry6C6173742D666F6E742D63686172"></a>last-font-char</h3>
<div class="listingblock">
<div class="content">
<pre>last-font-char ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address <em>ca</em> holds the code of the last character displayed
from the current font by the current action of <code><a href="#entry656D6974">emit</a></code>.  Higher
characters are managed apart, usually displayed by <code><a href="#entry656D69742D756467">emit-udg</a></code>,
depending on the actual implementation of <code><a href="#entry656D6974">emit</a></code>, which is a
deferred word.</p>
</div>
<div class="paragraph">
<p>At the moment, only <code><a href="#entry6D6F64652D33322D656D6974">mode-32-emit</a></code> checks this value.
Eventually, also the alternative modes will use it.</p>
</div>
<div class="paragraph">
<p>Note that this is a character variable, which must be set with
<code><a href="#entry6321">c!</a></code>.  Its default value is 127.</p>
</div>
<div class="paragraph">
<p>Note that <code><a href="#entry656D69742D756467">emit-udg</a></code> prints characters 0..255 from the
current UDG set. This is different from Sinclair BASIC, where
UDG code 164 is the first one in the UDG set.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry7365742D756467">set-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D6C6F63617461626C65-src-lib-002-need-fs"><a id="entry6C6173742D6C6F63617461626C65"></a>last-locatable</h3>
<div class="listingblock">
<div class="content">
<pre>last-locatable ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the number of the last block to be
searched by <code><a href="#entry6C6F6361746564">located</a></code> and its descendants. Its default
value is the last block of the disk.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66697273742D6C6F63617461626C65">first-locatable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D6E616D65-src-lib-strings-MISC-fs"><a id="entry6C6173742D6E616D65"></a>last-name</h3>
<div class="listingblock">
<div class="content">
<pre>last-name ( ca1 len1 -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the last name <em>ca2 len2</em> from string <em>ca1 len1</em>.  A
name is a substring separated by spaces.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66697273742D6E616D65">first-name</a></code>, <code><a href="#entry2F6E616D65">/name</a></code>, <code><a href="#entry737472696E672F">string/</a></code>, <code><a href="#entry2D737566666978">-suffix</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D726F77-src-lib-display-cursor-fs"><a id="entry6C6173742D726F77"></a>last-row</h3>
<div class="listingblock">
<div class="content">
<pre>last-row ( -- row )</pre>
</div>
</div>
<div class="paragraph">
<p>Last row (y coordinate) in the current screen mode.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D636F6C756D6E">last-column</a></code>, <code><a href="#entry726F77">row</a></code>, <code><a href="#entry726F7773">rows</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D746170652D66696C656E616D65-src-lib-tape-fs"><a id="entry6C6173742D746170652D66696C656E616D65"></a>last-tape-filename</h3>
<div class="listingblock">
<div class="content">
<pre>last-tape-filename ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the filename in <code><a href="#entry6C6173742D746170652D686561646572">last-tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F746170652D66696C656E616D65">/tape-filename</a></code>, <code><a href="#entry746170652D66696C656E616D65">tape-filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D746170652D66696C6574797065-src-lib-tape-fs"><a id="entry6C6173742D746170652D66696C6574797065"></a>last-tape-filetype</h3>
<div class="listingblock">
<div class="content">
<pre>last-tape-filetype ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the file type (one byte) in <code><a href="#entry6C6173742D746170652D686561646572">last-tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746170652D66696C6574797065">tape-filetype</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173742D746170652D686561646572-src-lib-tape-fs"><a id="entry6C6173742D746170652D686561646572"></a>last-tape-header</h3>
<div class="listingblock">
<div class="content">
<pre>last-tape-header ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the second tape header, which is used by the ROM
routines while loading. Its structure is the identical to
<code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>It can be used by the application to know the details of
the last tape file that was loaded.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D746170652D66696C656E616D65">last-tape-filename</a></code>, <code><a href="#entry6C6173742D746170652D66696C6574797065">last-tape-filetype</a></code>,
<code><a href="#entry6C6173742D746170652D7374617274">last-tape-start</a></code>, <code><a href="#entry6C6173742D746170652D6C656E677468">last-tape-length</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C617374626C6B-src-kernel-z80s"><a id="entry6C617374626C6B"></a>lastblk</h3>
<div class="listingblock">
<div class="content">
<pre>lastblk ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the block number of the block most
recently or loaded (with <code><a href="#entry6C6F6164">load</a></code> or <code><a href="#entry636F6E74696E756564">continued</a></code>). <code>lastblk</code>
is used by <code><a href="#entry72656C6F6164">reload</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6173747874-src-kernel-z80s"><a id="entry6C6173747874"></a>lastxt</h3>
<div class="listingblock">
<div class="content">
<pre>lastxt ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the execution token of the last word
defined.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6174657374-src-kernel-z80s"><a id="entry6C6174657374"></a>latest</h3>
<div class="listingblock">
<div class="content">
<pre>latest ( -- nt )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the name token of the last word defined.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C61746573743E776F72646C697374-src-lib-word_lists-fs"><a id="entry6C61746573743E776F72646C697374"></a>latest&gt;wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>latest&gt;wordlist ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Associate the latest name to the word list identified by
<em>wid</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry776F72646C6973742D6E616D6521">wordlist-name!</a></code>,
<code><a href="#entry776F72646C6973743E766F636162756C617279">wordlist&gt;vocabulary</a></code>, <code><a href="#entry776F72646C69737473">wordlists</a></code>, <code><a href="#entry6C6174657374">latest</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C61746573747874-src-kernel-z80s"><a id="entry6C61746573747874"></a>latestxt</h3>
<div class="listingblock">
<div class="content">
<pre>latestxt ( -- xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the execution token of the last word defined.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C62-src-lib-tool-list-blocks-fs"><a id="entry6C62"></a>lb</h3>
<div class="listingblock">
<div class="content">
<pre>lb ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List bottom half of screen hold in <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C74">lt</a></code>, <code><a href="#entry6C6D">lm</a></code>, <code><a href="#entry6C697374">list</a></code>, <code><a href="#entry6C6973742D6C696E6573">list-lines</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C656170792D796561723F-src-lib-time-fs"><a id="entry6C656170792D796561723F"></a>leapy-year?</h3>
<div class="listingblock">
<div class="content">
<pre>leapy-year? ( n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>n</em> a leapy year?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D64617465">set-date</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C65617665-src-kernel-z80s"><a id="entry6C65617665"></a>leave</h3>
<div class="listingblock">
<div class="content">
<pre>leave ( -- ) ( R: loop-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Discard the <code><a href="#entry6C6F6F70">loop</a></code> control parameters for the current nesting level.
Continue execution immediately following the innermost syntactically
enclosing <code><a href="#entry6C6F6F70">loop</a></code> or <code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE), Forth-2012
(CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F6C65617665">?leave</a></code>, <code><a href="#entry756E6C6F6F70">unloop</a></code>, <code><a href="#entry646F">do</a></code>, <code><a href="#entry3F646F">?do</a></code>, <code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C656E67746873-src-lib-strings-MISC-fs"><a id="entry6C656E67746873"></a>lengths</h3>
<div class="listingblock">
<div class="content">
<pre>lengths ( ca1 len1 ca2 len2 -- ca1 len1 ca2 len2 len1 len2
)</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate lengths <em>len1</em> and <em>len2</em> of strings <em>ca1 len1</em>
and <em>ca2 len2</em>. <code>lengths</code> is a factor of <code><a href="#entry732B">s+</a></code>.</p>
</div>
<div class="paragraph">
<p><code>lengths</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: lengths ( ca1 len1 ca2 len2 -- ca1 len1 ca2 len2 len1 len2 )
  2over nip over ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6573732D6F66-src-lib-flow-case-fs"><a id="entry6C6573732D6F66"></a>less-of</h3>
<div class="listingblock">
<div class="content">
<pre>less-of
  Compilation: ( -- of-sys )
  Run-time: ( x1 x2 -- | x1 )</pre>
</div>
</div>
<div class="paragraph">
<p><code>less-of</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: test ( x -- )
  case
    10 of      ." ten!"         endof
    15 less-of ." less than 15" endof
    ." greater than 14"
  endcase ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry677265617465722D6F66">greater-of</a></code>, <code><a href="#entry286C6573732D6F6629">(less-of)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C657821-src-kernel-z80s"><a id="entry6C657821"></a>lex!</h3>
<div class="listingblock">
<div class="content">
<pre>lex! ( b nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the bits of the mask <em>b</em> in the length byte of <em>nt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C65783F">lex?</a></code>, <code><a href="#entry696D6D656469617465">immediate</a></code>, <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C65783F-src-kernel-z80s"><a id="entry6C65783F"></a>lex?</h3>
<div class="listingblock">
<div class="content">
<pre>lex? ( nt b -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Test the bits at <em>nt</em> specified by the bitmask <em>b</em>.
Return <em>true</em> if the result is non-zero, else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C657821">lex!</a></code>, <code><a href="#entry696D6D6564696174653F">immediate?</a></code>, <code><a href="#entry636F6D70696C652D6F6E6C793F">compile-only?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696D6974-src-kernel-z80s"><a id="entry6C696D6974"></a>limit</h3>
<div class="listingblock">
<div class="content">
<pre>limit ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> is the address of a cell containing the
address above the highest address usable by the data space
(the data space is the region addressed by <code><a href="#entry6470">dp</a></code>). Its default
value is zero, which is right above the highest memory address
($FFFF).</p>
</div>
<div class="paragraph">
<p><code>limit</code> can be modified by a program in order to reserve a
memory zone for special purposes.</p>
</div>
<div class="paragraph">
<p>Origin: Fig-Forth&#8217;s <code>limit</code> constant.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E75736564">unused</a></code>, <code><a href="#entry6661726C696D6974">farlimit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696D69742D68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry6C696D69742D68656170"></a>limit-heap</h3>
<div class="listingblock">
<div class="content">
<pre>limit-heap ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a <code><a href="#entry68656170">heap</a></code> of <em>n</em> address units right above <code><a href="#entry6C696D6974">limit</a></code>
and return its address <em>a</em>. <code><a href="#entry6C696D6974">limit</a></code> is moved down <em>n</em>
address units.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C6C6F742D68656170">allot-heap</a></code>, <code><a href="#entry62616E6B2D68656170">bank-heap</a></code>, <code><a href="#entry6661726C696D69742D68656170">farlimit-heap</a></code>,
<code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696E65-src-lib-editor-specforth-fs"><a id="entry6C696E65"></a>line</h3>
<div class="listingblock">
<div class="content">
<pre>line ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave address <em>a</em> of the beginning of line <em>n</em> in the
current block buffer.  The block number is in <code><a href="#entry736372">scr</a></code>.
Read the disk block from  disk if it is not already in the
disk buffer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696E653E737472696E67-src-kernel-z80s"><a id="entry6C696E653E737472696E67"></a>line&gt;string</h3>
<div class="listingblock">
<div class="content">
<pre>line&gt;string ( n1 n2 -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the line number <em>n1</em> and the screen number <em>n2</em> to a
string <em>ca len</em> in the disk buffer containing the data.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: line&gt;string ( n1 n2 -- ca len )
  &gt;r c/l b/buf */mod r&gt; + block + c/l ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>(line)</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696E65626C6F636B3E736F75726365-src-lib-blocks-fs"><a id="entry6C696E65626C6F636B3E736F75726365"></a>lineblock&gt;source</h3>
<div class="listingblock">
<div class="content">
<pre>lineblock&gt;source ( n u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set block <em>u</em> as the current source, starting from its
line <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C6F636B3E736F75726365">block&gt;source</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696E656C6F6164-src-lib-blocks-fs"><a id="entry6C696E656C6F6164"></a>lineload</h3>
<div class="listingblock">
<div class="content">
<pre>lineload ( n u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Begin interpretation at line <em>n</em> of block <em>u</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Uncontrolled Reference Words).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6164">load</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696E6B2C-src-lib-data-MISC-fs"><a id="entry6C696E6B2C"></a>link,</h3>
<div class="listingblock">
<div class="content">
<pre>link, ( head -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a new node in data space for the linked list <em>head</em>:</p>
</div>
<div class="paragraph">
<p>Before:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>head -&#8594; old_node</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>head -&#8594; new_node</p>
</li>
<li>
<p>new_node -&#8594; old_node</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C696E6B40">link@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696E6B3E6E616D65-src-lib-compilation-fs"><a id="entry6C696E6B3E6E616D65"></a>link&gt;name</h3>
<div class="listingblock">
<div class="content">
<pre>link&gt;name ( lfa -- nt )</pre>
</div>
</div>
<div class="paragraph">
<p>Get <em>nt</em> from its <em>lfa</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E616D653E6C696E6B">name&gt;link</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C696E6B40-src-lib-data-MISC-fs"><a id="entry6C696E6B40"></a>link@</h3>
<div class="listingblock">
<div class="content">
<pre>link@ ( node1 -- node2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the node <em>node2</em> from the linked list node <em>node1</em>.
<code>link@</code> is an alias of <code><a href="#entry40">@</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C696E6B2C">link,</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C697374-src-lib-tool-list-blocks-fs"><a id="entry6C697374"></a>list</h3>
<div class="listingblock">
<div class="content">
<pre>list ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display block <em>u</em> and store <em>u</em> in <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Controlled Reference Words), Forth-94 (BLOCK EXT),
Forth-2012 (BLOCK EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736372">scr</a></code>, <code><a href="#entry6C6973742D6C696E6573">list-lines</a></code>, <code><a href="#entry6C74">lt</a></code>, <code><a href="#entry6C6D">lm</a></code>, <code><a href="#entry6C62">lb</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6973742D6C696E65-src-lib-tool-list-blocks-fs"><a id="entry6C6973742D6C696E65"></a>list-line</h3>
<div class="listingblock">
<div class="content">
<pre>list-line ( n u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List line <em>n</em> from block <em>u</em>, without trailing spaces.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6973742D6C696E6573">list-lines</a></code>, <code><a href="#entry2E6C696E6523">.line#</a></code>, <code><a href="#entry6C697374">list</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6973742D6C696E6573-src-lib-tool-list-blocks-fs"><a id="entry6C6973742D6C696E6573"></a>list-lines</h3>
<div class="listingblock">
<div class="content">
<pre>list-lines ( u n1 n2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List lines <em>n2..n3</em> of block <em>u</em> and store <em>u</em> in <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C697374">list</a></code>, <code><a href="#entry736372">scr</a></code>, <code><a href="#entry6C6973742D6C696E65">list-line</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6974-src-kernel-z80s"><a id="entry6C6974"></a>lit</h3>
<div class="listingblock">
<div class="content">
<pre>lit ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C69746572616C-src-kernel-z80s"><a id="entry6C69746572616C"></a>literal</h3>
<div class="listingblock">
<div class="content">
<pre>literal ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <em>x</em> in the current definition.</p>
</div>
<div class="paragraph">
<p><code>literal</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: literal ( x -- ) postpone lit , ; immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6974">lit</a></code>, <code><a href="#entry636C69746572616C">cliteral</a></code>, <code><a href="#entry326C69746572616C">2literal</a></code>, <code><a href="#entry316C69746572616C">1literal</a></code>, <code><a href="#entry5D6C">]l</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6D-src-lib-tool-list-blocks-fs"><a id="entry6C6D"></a>lm</h3>
<div class="listingblock">
<div class="content">
<pre>lm ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List middle part of screen hold in <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C74">lt</a></code>, <code><a href="#entry6C62">lb</a></code>, <code><a href="#entry6C697374">list</a></code>, <code><a href="#entry6C6973742D6C696E6573">list-lines</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F6164-src-kernel-z80s"><a id="entry6C6F6164"></a>load</h3>
<div class="listingblock">
<div class="content">
<pre>load ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the current input-source specification. Store <em>u</em> in <code><a href="#entry626C6B">blk</a></code>
(thus making block <em>u</em> the input source and setting the input buffer
to encompass its contents) and <code><a href="#entry6C617374626C6B">lastblk</a></code>, set <code><a href="#entry3E696E">&gt;in</a></code> to zero, and
interpret. When the parse area is exhausted, restore the prior input
source specification.</p>
</div>
<div class="paragraph">
<p>An error is issued if <em>u</em> is zero.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: load ( u -- )
  dup 0= #-259 ?throw  dup lastblk !
  nest-source (load) unnest-source ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry286C6F616429">(load)</a></code>, <code><a href="#entry6E6573742D736F75726365">nest-source</a></code>, <code><a href="#entry756E6E6573742D736F75726365">unnest-source</a></code>,
<code><a href="#entry6C696E656C6F6164">lineload</a></code>, <code><a href="#entry2B6C6F6164">+load</a></code>, <code><a href="#entry74687275">thru</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F61642D617070-src-lib-blocks-fs"><a id="entry6C6F61642D617070"></a>load-app</h3>
<div class="listingblock">
<div class="content">
<pre>load-app ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load an application.  An application is a set of blocks
that are loaded as a whole. They don&#8217;t have block headers
except the first one, which contains <em>name</em>, and therefore
they don&#8217;t have internal requisites.  Applications don&#8217;t
need <code><a href="#entry2D2D3E">--&gt;</a></code> or any other word to change the loading: The
loading starts from the first block of the disk that has
<em>name</em> in its header (surrounded by spaces), and continues
until the last block of the disk or until <code><a href="#entry656E642D617070">end-app</a></code> is
executed.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6164696E672D617070">loading-app</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F61646572-src-lib-blocks-fs"><a id="entry6C6F61646572"></a>loader</h3>
<div class="listingblock">
<div class="content">
<pre>loader ( u "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a word <em>name</em> which, when executed, will  load block
<em>u</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79&#8217;s <code>loads</code> (Reference Word Set),
Forth-83&#8217;s <code>loads</code> (Appendix B. Uncontrolled Reference
Words).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F6164696E672D617070-src-lib-blocks-fs"><a id="entry6C6F6164696E672D617070"></a>loading-app</h3>
<div class="listingblock">
<div class="content">
<pre>loading-app ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds a flag: Is an application being
loaded?  This flag is modified by <code><a href="#entry6C6F61642D617070">load-app</a></code> and <code><a href="#entry656E642D617070">end-app</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F6164696E673F-src-kernel-z80s"><a id="entry6C6F6164696E673F"></a>loading?</h3>
<div class="listingblock">
<div class="content">
<pre>loading? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F616473-src-lib-blocks-fs"><a id="entry6C6F616473"></a>loads</h3>
<div class="listingblock">
<div class="content">
<pre>loads ( u n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load <em>n</em> blocks starting from block <em>u</em>.</p>
</div>
<div class="paragraph">
<p>Origin: MMSFORTH.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F63616C-src-lib-locals-local-fs"><a id="entry6C6F63616C"></a>local</h3>
<div class="listingblock">
<div class="content">
<pre>local ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the value of variable <em>a</em>, which will be restored at
the end of the current definition.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>variable v
1 v !  v ?  \ default value
: test ( -- )
  v local
  v ?  1887 v !  v ? ;
v ?  \ default value</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617267756D656E7473">arguments</a></code>, <code><a href="#entry616E6F6E">anon</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.local.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F63617465-src-lib-002-need-fs"><a id="entry6C6F63617465"></a>locate</h3>
<div class="listingblock">
<div class="content">
<pre>locate ( "name" -- block | false )</pre>
</div>
</div>
<div class="paragraph">
<p>Locate the first block whose header contains <em>name</em>
(surrounded by spaces), and return its number <em>block</em>. If
not found, return <em>false</em>.  The search is case-sensitive.</p>
</div>
<div class="paragraph">
<p>Only the blocks delimited by <code><a href="#entry66697273742D6C6F63617461626C65">first-locatable</a></code> and
<code><a href="#entry6C6173742D6C6F63617461626C65">last-locatable</a></code> are searched.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6361746564">located</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F636174652D6E656564-src-lib-002-need-fs"><a id="entry6C6F636174652D6E656564"></a>locate-need</h3>
<div class="listingblock">
<div class="content">
<pre>locate-need ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>name</em> is not found in the current search order, locate
the first block where <em>name</em> is included is the block
header (surrounded by spaces), and load it.  If not found,
throw an exception #-268 ("needed, but not located").</p>
</div>
<div class="paragraph">
<p>This is the default action of the deferred word <code><a href="#entry6E656564">need</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F636174652D6E6565646564-src-lib-002-need-fs"><a id="entry6C6F636174652D6E6565646564"></a>locate-needed</h3>
<div class="listingblock">
<div class="content">
<pre>locate-needed ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the string <em>ca len</em> is not the name of a word found in
the current search order, locate the first block where <em>ca
len</em> is included in the block header (surrounded by
spaces), and load it.  If not found, throw an exception
#-268 ("needed, but not located").</p>
</div>
<div class="paragraph">
<p>This is the default action of the deferred word <code><a href="#entry6E6565646564">needed</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F636174652D72656E656564-src-lib-002-need-fs"><a id="entry6C6F636174652D72656E656564"></a>locate-reneed</h3>
<div class="listingblock">
<div class="content">
<pre>locate-reneed ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Locate the first block whose header contains <em>name</em>
(surrounded by spaces), and load it.  If not found, throw
an exception #-268 ("needed, but not located").</p>
</div>
<div class="paragraph">
<p>This is the default action of the deferred word <code><a href="#entry72656E656564">reneed</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F636174652D72656E6565646564-src-lib-002-need-fs"><a id="entry6C6F636174652D72656E6565646564"></a>locate-reneeded</h3>
<div class="listingblock">
<div class="content">
<pre>locate-reneeded ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Locate the first block whose header contains the string <em>ca
len</em> (surrounded by spaces), and load it. If not found,
throw an exception #-268 ("needed, but not located").</p>
</div>
<div class="paragraph">
<p>This is the default action of the deferred word
<code><a href="#entry72656E6565646564">reneeded</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F6361746564-src-lib-002-need-fs"><a id="entry6C6F6361746564"></a>located</h3>
<div class="listingblock">
<div class="content">
<pre>located ( ca len -- block | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Locate the first block whose header contains the string <em>ca
len</em> (surrounded by spaces), and return its number. If not
found, return zero.  The search is case-sensitive.</p>
</div>
<div class="paragraph">
<p>Only the blocks delimited by <code><a href="#entry66697273742D6C6F63617461626C65">first-locatable</a></code> and
<code><a href="#entry6C6173742D6C6F63617461626C65">last-locatable</a></code> are searched`.</p>
</div>
<div class="paragraph">
<p>This is a deferred word whose default action is
<code><a href="#entry286C6F636174656429">(located)</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6565642D66726F6D">need-from</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F672D696E2D6469736B-src-kernel-plus3dos-z80s"><a id="entry6C6F672D696E2D6469736B"></a>log-in-disk</h3>
<div class="listingblock">
<div class="content">
<pre>log-in-disk ( n -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Log in a new disk in phyisical drive unit <em>n</em> (0..1).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F6F70-src-kernel-z80s"><a id="entry6C6F6F70"></a>loop</h3>
<div class="listingblock">
<div class="content">
<pre>loop
  Compilation: ( do-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <code><a href="#entry286C6F6F7029">(loop)</a></code> and resolve the <em>do-sys</em> address left by
<code><a href="#entry646F">do</a></code>, or <code><a href="#entry3F646F">?do</a></code>.</p>
</div>
<div class="paragraph">
<p><code>loop</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE),
Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B6C6F6F70">+loop</a></code>, <code><a href="#entry2D646F">-do</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F776572-src-kernel-z80s"><a id="entry6C6F776572"></a>lower</h3>
<div class="listingblock">
<div class="content">
<pre>lower ( c -- c' )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>c</em> to lowercase <em>c'</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F77657273">lowers</a></code>, <code><a href="#entry7570706572">upper</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F7765725F-src-kernel-z80s"><a id="entry6C6F7765725F"></a>lower_</h3>
<div class="listingblock">
<div class="content">
<pre>lower_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a routine that converts to uppercase the
ASCII character holad in the A register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F776572">lower</a></code>, <code><a href="#entry75707065725F">upper_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C6F77657273-src-lib-strings-MISC-fs"><a id="entry6C6F77657273"></a>lowers</h3>
<div class="listingblock">
<div class="content">
<pre>lowers ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert string <em>ca len</em> to lowercase.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry757070657273">uppers</a></code>, <code><a href="#entry6C6F776572">lower</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C7368696674-src-lib-math-operators-1-cell-fs"><a id="entry6C7368696674"></a>lshift</h3>
<div class="listingblock">
<div class="content">
<pre>lshift ( x1 u -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Perform a logical left shift of <em>u</em> bit-places on <em>x</em>,
giving <em>x2</em>. Put zeroes into the least significant  bits
vacated by the shift.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry727368696674">rshift</a></code>, <code><a href="#entry3F7368696674">?shift</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6C74-src-lib-tool-list-blocks-fs"><a id="entry6C74"></a>lt</h3>
<div class="listingblock">
<div class="content">
<pre>lt ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List top half of screen hold in <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6D">lm</a></code>, <code><a href="#entry6C62">lb</a></code>, <code><a href="#entry6C697374">list</a></code>, <code><a href="#entry6C6973742D6C696E6573">list-lines</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D-src-lib-editor-specforth-fs"><a id="entry6D"></a>m</h3>
<div class="listingblock">
<div class="content">
<pre>m ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Move the cursor by <em>n</em> characters. The position of the
cursor on its line is shown by a "_" (underline).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D2A-src-kernel-z80s"><a id="entry6D2A"></a>m*</h3>
<div class="listingblock">
<div class="content">
<pre>m* ( n1 n2 -- d )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>n1</em> by <em>n2</em> producing the result <em>d</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: m* ( n1 n2 -- d )
  2dup xor &gt;r
  abs swap abs um*
  r&gt; ?dnegate ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D2A2F-src-lib-math-operators-2-cell-fs"><a id="entry6D2A2F"></a>m*/</h3>
<div class="listingblock">
<div class="content">
<pre>m*/ ( d1 n1 +n2 -- d2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>d1</em> by <em>n1</em> producing the triple-cell
intermediate result <em>t</em>.  Divide <em>t</em> by <em>+n2</em> giving the
double-cell quotient <em>d2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2A2F">*/</a></code>, <code><a href="#entry6D2A">m*</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.2-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D2B-src-lib-math-operators-2-cell-fs"><a id="entry6D2B"></a>m+</h3>
<div class="listingblock">
<div class="content">
<pre>m+ ( d1|ud1 n -- d2|ud2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n</em> to <em>d1|ud1</em>, giving the sum <em>d2|ud2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (DOUBLE) Forth-2012 (DOUBLE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.2-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D2F-src-kernel-z80s"><a id="entry6D2F"></a>m/</h3>
<div class="listingblock">
<div class="content">
<pre>m/ ( d n1 -- n2 n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>A mixed magnitude math operator which leaves the signed
remainder <em>n2</em> and signed quotient <em>n3</em> from a double number
dividend and divisor <em>n1</em>.</p>
</div>
<div class="paragraph">
<p><code>m/</code> is deferred and by default its action is <code><a href="#entry736D2F72656D">sm/rem</a></code>, so
it does a symmetric division (the  remainder takes its sign
from the dividend), as in fig-Forth.  It can be set to execute
<code><a href="#entry666D2F6D6F64">fm/mod</a></code> instead.</p>
</div>
<div class="paragraph">
<p><code>m/</code> is executed by all other division operators.  Therefore
setting it to execute either <code><a href="#entry736D2F72656D">sm/rem</a></code> or <code><a href="#entry666D2F6D6F64">fm/mod</a></code> will change
the behaviour of all division operators.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D3F-src-lib-assembler-fs"><a id="entry6D3F"></a>m?</h3>
<div class="listingblock">
<div class="content">
<pre>m? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7A3F">z?</a></code>, <code><a href="#entry6E7A3F">nz?</a></code>, <code><a href="#entry633F">c?</a></code>, <code><a href="#entry6E633F">nc?</a></code>, <code><a href="#entry706F3F">po?</a></code>, <code><a href="#entry70653F">pe?</a></code>, <code><a href="#entry703F">p?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6163726F-src-lib-assembler-macro-fs"><a id="entry6D6163726F"></a>macro</h3>
<div class="listingblock">
<div class="content">
<pre>macro ( name -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the definition of an assembler macro <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>macro dos-in, ( -- ) DB c, #231 c, endm
  \ Assemble the Z80 instruction `in a,(#231)`, to page in
  \ the Plus D memory.</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E646D">endm</a></code>, <code><a href="#entry61736D">asm</a></code>, <code><a href="#entry636F6465">code</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.macro.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6167656E7461-src-lib-display-attributes-fs"><a id="entry6D6167656E7461"></a>magenta</h3>
<div class="listingblock">
<div class="content">
<pre>magenta ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 3, the value that represents the
magenta color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry726564">red</a></code>, <code><a href="#entry677265656E">green</a></code>, <code><a href="#entry6379616E">cyan</a></code>,
<code><a href="#entry79656C6C6F77">yellow</a></code>, <code><a href="#entry7768697465">white</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D616B652D626C6F636B2D6368617273-src-lib-graphics-udg-fs"><a id="entry6D616B652D626C6F636B2D6368617273"></a>make-block-chars</h3>
<div class="listingblock">
<div class="content">
<pre>make-block-chars ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the bit patterns of the 16 ZX Spectrum block
characters, originally assigned to character codes
128..143, and store them (128 bytes in total) from address
<em>a</em>.</p>
</div>
<div class="paragraph">
<p><code>make-block-chars</code> is provided for easier conversion of
BASIC programs that use the original block characters.
These characters are part of the ZX Spectrum character set,
but they are not included in the ROM font. Instead, their
bitmaps are built on the fly by the BASIC ROM printing
routine. In Solo Forth there&#8217;s no such restriction, and
characters 0..255 can be redefined by the user.</p>
</div>
<div class="paragraph">
<p><code>make-block-chars</code> is written in Z80 and uses 18 B of
code space, but the word <code><a href="#entry626C6F636B2D6368617273">block-chars</a></code> is provided as an
alternative.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D616B652D746872752D696E646578-src-lib-blocks-indexer-thru-fs"><a id="entry6D616B652D746872752D696E646578"></a>make-thru-index</h3>
<div class="listingblock">
<div class="content">
<pre>make-thru-index ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create the blocks index and activate it. The current word
list and the current search order are preserved.</p>
</div>
<div class="paragraph">
<p><code>make-thru-index</code> first creates a blocks index, i.e. a
word list from the names that are on the index (header)
line of every searchable block, ignoring duplicates;
second, it executes <code><a href="#entry7573652D746872752D696E646578">use-thru-index</a></code> to activate the blocks
index, changing the default behaivour of <code><a href="#entry6E656564">need</a></code> and related
words.</p>
</div>
<div class="paragraph">
<p>The words in the index have a fake execution token, which
is the block they belong to.  This way, after indexing all
the disk blocks only once, <code><a href="#entry6E656564">need</a></code> will search the word list
and load the block of the word found. On the contrary, the
default action of <code><a href="#entry6E656564">need</a></code> is to search all the blocks every
time.</p>
</div>
<div class="paragraph">
<p>The default action of <code><a href="#entry6E656564">need</a></code> and related words can be
restored with <code><a href="#entry7573652D6E6F2D696E646578">use-no-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.thru.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61726B6572-src-lib-tool-marker-fs"><a id="entry6D61726B6572"></a>marker</h3>
<div class="listingblock">
<div class="content">
<pre>marker ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition "name". When "name" is executed, it
will restore the data-space pointer, the word lists
pointer, the compilation word list, the search order and
the configuration of word lists to the state they had just
prior to the definition of "name".</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.marker.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61726B65722C-src-lib-tool-marker-fs"><a id="entry6D61726B65722C"></a>marker,</h3>
<div class="listingblock">
<div class="content">
<pre>marker, ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the names pointer, the latest definition pointers,
the word lists pointer, the current compilation word list,
the search order and the configuration of word lists at the
current data-space pointer, and return its address <em>a</em>, for
later restoration by <code><a href="#entry756E6D61726B6572">unmarker</a></code>.</p>
</div>
<div class="paragraph">
<p><code>marker,</code> is a factor of <code><a href="#entry6D61726B6572">marker</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.marker.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61736B2B6174747221-src-lib-display-attributes-fs"><a id="entry6D61736B2B6174747221"></a>mask+attr!</h3>
<div class="listingblock">
<div class="content">
<pre>mask+attr! ( b1 b2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>b1</em> as the current attribute mask
and <em>b2</em> as the current attribute.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61736B2B6174747240">mask+attr@</a></code>, <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry617474722D6D61736B21">attr-mask!</a></code></p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61736B2B617474722D736574746572-src-lib-display-attributes-fs"><a id="entry6D61736B2B617474722D736574746572"></a>mask+attr-setter</h3>
<div class="listingblock">
<div class="content">
<pre>mask+attr-setter ( b1 b2 "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition <em>name</em> that, when executed, will set
<em>b1</em> as the current attribute mask and <em>b2</em> as the
current attribute.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617474722D736574746572">attr-setter</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61736B2B617474723E7065726D-src-lib-display-attributes-fs"><a id="entry6D61736B2B617474723E7065726D"></a>mask+attr&gt;perm</h3>
<div class="listingblock">
<div class="content">
<pre>mask+attr&gt;perm ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the current attribute and mask permanent.</p>
</div>
<div class="paragraph">
<p>Note: Words that use attributes don&#8217;t use the OS permanent
attribute but the temporary one, which is called "current
attribute" in Solo Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61736B2B6174747240-src-lib-display-attributes-fs"><a id="entry6D61736B2B6174747240"></a>mask+attr@</h3>
<div class="listingblock">
<div class="content">
<pre>mask+attr@ ( -- b1 b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>b</em> as the current attribute mask.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry617474722D6D61736B21">attr-mask!</a></code>, <code><a href="#entry7065726D2D617474722D6D61736B40">perm-attr-mask@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61746368-src-lib-editor-specforth-fs"><a id="entry6D61746368"></a>match</h3>
<div class="listingblock">
<div class="content">
<pre>match ( ca1 len1 ca2 len2 -- true n3 | false n4 )</pre>
</div>
</div>
<div class="paragraph">
<p>Match the string <em>ca2 len2</em> with all strings contained in
the string <em>ca1 len1</em>. If found leave <em>n3</em> bytes until the
end of the matching string, else leave <em>n4</em> bytes to end of
line.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6178-src-kernel-z80s"><a id="entry6D6178"></a>max</h3>
<div class="listingblock">
<div class="content">
<pre>max ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D626C6F636B73-src-kernel-z80s"><a id="entry6D61782D626C6F636B73"></a>max-blocks</h3>
<div class="listingblock">
<div class="content">
<pre>max-blocks ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number <em>u</em> of maximum blocks available in the
system. The number depends on <code><a href="#entry23626C6F636B2D647269766573">#block-drives</a></code> and
<code><a href="#entry626C6F636B732F6469736B">blocks/disk</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D63686172-src-lib-environment-question-fs"><a id="entry6D61782D63686172"></a>max-char</h3>
<div class="listingblock">
<div class="content">
<pre>max-char  ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p><em>u</em> is the maximum value of any character in the character
set.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616464726573732D756E69742D62697473">address-unit-bits</a></code>, <code><a href="#entry2F636F756E7465642D737472696E67">/counted-string</a></code>,
<code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D64-src-lib-environment-question-fs"><a id="entry6D61782D64"></a>max-d</h3>
<div class="listingblock">
<div class="content">
<pre>max-d ( -- d )</pre>
</div>
</div>
<div class="paragraph">
<p><em>d</em> is the largest usable signed double.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D6E">max-n</a></code>, <code><a href="#entry6D61782D7564">max-ud</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D647269766573-src-kernel-z80s"><a id="entry6D61782D647269766573"></a>max-drives</h3>
<div class="listingblock">
<div class="content">
<pre>max-drives ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the maximum number of drives
available in the DOS.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66697273742D6472697665">first-drive</a></code>, <code><a href="#entry6472697665">drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D6573632D6F72646572-src-lib-strings-escaped-fs"><a id="entry6D61782D6573632D6F72646572"></a>max-esc-order</h3>
<div class="listingblock">
<div class="content">
<pre>max-esc-order ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the maximum number of word lists in
the escaped strings search order.</p>
</div>
<div class="paragraph">
<p>Its default value is 4, but the application can define this
constant with any other value before loading the words that
need it, and it will be kept.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6573632D636F6E74657874">esc-context</a></code>, <code><a href="#entry236573632D6F72646572">#esc-order</a></code>, <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>,
<code><a href="#entry6765742D6573632D6F72646572">get-esc-order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D6C2D72656673-src-lib-assembler-labels-fs"><a id="entry6D61782D6C2D72656673"></a>max-l-refs</h3>
<div class="listingblock">
<div class="content">
<pre>max-l-refs  ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p><em>ca</em> holds a byte, which is the maximum number (count) of
unresolved label referenced that can be created by <code><a href="#entry726C23">rl#</a></code> or
<code><a href="#entry616C23">al#</a></code>.  Its default value is 16. The application can change
the value, but the default one should be restored after the
code word has been compiled.</p>
</div>
<div class="paragraph">
<p><code>max-l-refs</code> is used by <code><a href="#entry696E69742D6C6162656C73">init-labels</a></code> to allocate the
<code><a href="#entry6C2D72656673">l-refs</a></code> table.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>need assembler  also assembler need l:
max-l-refs c@ #16 max-l-refs c!
previous

code my-word ( -- )
  \ Z80 code that needs #16 label references
end-code

max-l-refs c! \ restore the default value</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D6C6162656C73">max-labels</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D6C6162656C73-src-lib-assembler-labels-fs"><a id="entry6D61782D6C6162656C73"></a>max-labels</h3>
<div class="listingblock">
<div class="content">
<pre>max-labels  ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p><em>ca</em> holds a byte, which is the maximum number (count) of
labels that can be defined by <code><a href="#entry6C3A">l:</a></code>.  Its default value is
8. The application can change the value, but the default
one should be restored after the code word has been
compiled.</p>
</div>
<div class="paragraph">
<p><code>max-labels</code> is used by <code><a href="#entry696E69742D6C6162656C73">init-labels</a></code> to allocate the
<code><a href="#entry6C6162656C73">labels</a></code> table.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>need assembler  also assembler need l:
max-labels c@ #24 max-labels c!
previous

code my-word ( -- )
  \ Z80 code that needs #24 labels
end-code

max-labels c! \ restore the default value</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D6C2D72656673">max-l-refs</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D6E-src-lib-environment-question-fs"><a id="entry6D61782D6E"></a>max-n</h3>
<div class="listingblock">
<div class="content">
<pre>max-n ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the largest usable signed integer.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D75">max-u</a></code>, <code><a href="#entry6D61782D64">max-d</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D6F72646572-src-kernel-z80s"><a id="entry6D61782D6F72646572"></a>max-order</h3>
<div class="listingblock">
<div class="content">
<pre>max-order ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the maximum number <em>n</em> of word lists
in the search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6E74657874">context</a></code>, <code><a href="#entry236F72646572">#order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry6765742D6F72646572">get-order</a></code>,
<code><a href="#entry3E6F72646572">&gt;order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D75-src-lib-environment-question-fs"><a id="entry6D61782D75"></a>max-u</h3>
<div class="listingblock">
<div class="content">
<pre>max-u ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p><em>u</em> is the largest usable unsigned integer.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D6E">max-n</a></code>, <code><a href="#entry6D61782D7564">max-ud</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D61782D7564-src-lib-environment-question-fs"><a id="entry6D61782D7564"></a>max-ud</h3>
<div class="listingblock">
<div class="content">
<pre>max-ud ( -- ud )</pre>
</div>
</div>
<div class="paragraph">
<p><em>ud</em> is the largest usable unsigned double.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D61782D75">max-u</a></code>, <code><a href="#entry6D61782D64">max-d</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D656E75-src-lib-menu-sinclair-fs"><a id="entry6D656E75"></a>menu</h3>
<div class="listingblock">
<div class="content">
<pre>menu  ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Activate the current menu, which has been set by <code><a href="#entry7365742D6D656E75">set-menu</a></code>
and displayed by <code><a href="#entry2E6D656E75">.menu</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E65772D6D656E75">new-menu</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/menu.sinclair.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6574686F64-src-lib-objects-mini-oof-fs"><a id="entry6D6574686F64"></a>method</h3>
<div class="listingblock">
<div class="content">
<pre>method ( m v "name" -- m' `)</pre>
</div>
</div>
<div class="paragraph">
<p>Define a selector.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6964646C652D6F6374617665-src-lib-sound-48-fs"><a id="entry6D6964646C652D6F6374617665"></a>middle-octave</h3>
<div class="listingblock">
<div class="content">
<pre>middle-octave ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address of a 12-cell table that contains the
frequencies in dHz (tenths of Hz) of the middle octave.
They are used by <code><a href="#entry626565703E64687A">beep&gt;dhz</a></code> to calculate the frequency of
any note.</p>
</div>
<div class="paragraph">
<p>Here is a diagram to show the offsets of all the notes in
the table, on the piano (extracted from the manual of the
ZX Spectrum +3 transcripted by Russell et al.):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>| | C#| D#| | | F#| G#| A#| |
| | Db| Eb| | | Gb| Ab| Bb| |
| | 1 | 3 | | | 6 | 8 |10 | |
| |___|___| | |___|___|___| |
|   |   |   |   |   |   |   |
| 0 | 2 | 4 | 5 | 7 | 9 |11 |
|___|___|___|___|___|___|___|
  C   D   E   F   G   A   B</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62656570">beep</a></code>, <code><a href="#entry2F6F6374617665">/octave</a></code>, <code><a href="#entry6F63746176652D6368616E676572">octave-changer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D696E-src-kernel-z80s"><a id="entry6D696E"></a>min</h3>
<div class="listingblock">
<div class="content">
<pre>min ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64-src-kernel-z80s"><a id="entry6D6F64"></a>mod</h3>
<div class="listingblock">
<div class="content">
<pre>mod ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>n1</em> by <em>n2</em>, giving the single-cell remainder <em>n3</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: mod ( n1 n2 -- n3 ) /mod drop ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-94, Forth-2012.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F6D6F64">/mod</a></code>, <code><a href="#entry2F5F6D6F64">/_mod</a></code>, <code><a href="#entry2F2D72656D">/-rem</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64652D3332-src-lib-display-mode-32-fs"><a id="entry6D6F64652D3332"></a>mode-32</h3>
<div class="listingblock">
<div class="content">
<pre>mode-32 ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the default 32 CPL display mode. Usually this is not
needed by the application, except when any other mode is
used, e.g.  <code><a href="#entry6D6F64652D333269736F">mode-32iso</a></code>, <code><a href="#entry6D6F64652D3432">mode-42</a></code> or <code><a href="#entry6D6F64652D3634">mode-64</a></code>.</p>
</div>
<div class="paragraph">
<p>When any other mode is loaded, <code>mode-32</code> is automatically
loaded and made the default display mode (therefore
restored by <code><a href="#entry726573746F72652D6D6F6465">restore-mode</a></code>, which is called by <code><a href="#entry7761726D">warm</a></code> and
<code><a href="#entry636F6C64">cold</a></code>).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63757272656E742D6D6F6465">current-mode</a></code>, <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry7365742D6D6F64652D6F7574707574">set-mode-output</a></code>,
<code><a href="#entry636F6C756D6E73">columns</a></code>, <code><a href="#entry726F7773">rows</a></code>, <code><a href="#entry6D6F646533322D656D6974">mode32-emit</a></code>, <code><a href="#entry6D6F64652D33322D7879">mode-32-xy</a></code>,
<code><a href="#entry6D6F64652D33322D61742D7879">mode-32-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.mode.32.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64652D33322D61742D7879-src-kernel-z80s"><a id="entry6D6F64652D33322D61742D7879"></a>mode-32-at-xy</h3>
<div class="listingblock">
<div class="content">
<pre>mode-32-at-xy ( col row -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Default action of <code><a href="#entry61742D7879">at-xy</a></code>, in <code><a href="#entry6D6F64652D3332">mode-32</a></code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The system will crash if the coordinates are out of
screen.  For the sake of speed, no check is done.  If needed,
the application can use a wrapper word.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64652D33322D656D6974-src-kernel-z80s"><a id="entry6D6F64652D33322D656D6974"></a>mode-32-emit</h3>
<div class="listingblock">
<div class="content">
<pre>mode-32-emit ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Send character <em>c</em> to the current channel, calling the ROM
routine at $0010.</p>
</div>
<div class="paragraph">
<p><code>mode-32-emit</code> is the default action of <code><a href="#entry656D6974">emit</a></code>.</p>
</div>
<div class="paragraph">
<p><code>mode-32-emit</code> uses <code><a href="#entry6C6173742D666F6E742D63686172">last-font-char</a></code> the following way:
characters up to and including <code><a href="#entry6C6173742D666F6E742D63686172">last-font-char</a></code> (by default,
0..127) are displayed through the ROM routine, while higher
characters (by default, 128..255) are displayed by <code><a href="#entry656D69742D756467">emit-udg</a></code>
from the current UDG set.  The following table shows the
effect of changing the value of <code><a href="#entry6C6173742D666F6E742D63686172">last-font-char</a></code>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">126</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Characters 0..126 are printed by the ROM;
        characters 127..255 are printed by <code><a href="#entry656D69742D756467">emit-udg</a></code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">127</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Characters 0..127 are printed by the ROM;
        characters 128..255 are printed by <code><a href="#entry656D69742D756467">emit-udg</a></code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">143</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Characters 0..143 are printed by the ROM
        (this range includes the block graphics);
        characters 144..255 are printed by <code><a href="#entry656D69742D756467">emit-udg</a></code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">162</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Characters 0..162 are printed by the ROM
        (this range includes also the 128-BASIC UDG set 144..162,
        corresponding to UDG characters 0..18 in Solo Forth);
        characters 163..255 are printed by <code><a href="#entry656D69742D756467">emit-udg</a></code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">255</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Characters 0..255 are printed by the ROM
        (this range includes also the 128-BASIC tokens);
        no character is printed by <code><a href="#entry656D69742D756467">emit-udg</a></code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When a standard character set is required, without the ROM
interpreting characters 128..255 its own way, <code><a href="#entry6D6F64652D333269736F2D656D6974">mode-32iso-emit</a></code>
can be used instead.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry7365742D756467">set-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64652D33322D7879-src-kernel-z80s"><a id="entry6D6F64652D33322D7879"></a>mode-32-xy</h3>
<div class="listingblock">
<div class="content">
<pre>mode-32-xy ( -- col row )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current column and row, in <code><a href="#entry6D6F64652D3332">mode-32</a></code>.</p>
</div>
<div class="paragraph">
<p><code>mode-32-xy</code> is the default action of <code><a href="#entry7879">xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: (mode_32-xy) ( -- col row )
  24 23689 c@ -
  33 23688 c@ - dup 32 = if  drop 1+ 0  then  swap ;
  \ 23688 = OS variable S_POSX
  \ 23689 = OS variable S_POSY</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64652D333269736F-src-lib-display-mode-32iso-fs"><a id="entry6D6F64652D333269736F"></a>mode-32iso</h3>
<div class="listingblock">
<div class="content">
<pre>mode-32iso ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A 32 CPL display mode,  an alternative to the default
<code><a href="#entry6D6F64652D3332">mode-32</a></code>.  The only difference with <code><a href="#entry6D6F64652D3332">mode-32</a></code> is
<code>mode-32iso</code> can use a ISO character set, i.e. it
displays characters 32..255 from the current font.  See
<code><a href="#entry6D6F64652D333269736F2D656D6974">mode-32iso-emit</a></code> for details.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63757272656E742D6D6F6465">current-mode</a></code>, <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry7365742D6D6F64652D6F7574707574">set-mode-output</a></code>,
<code><a href="#entry636F6C756D6E73">columns</a></code>, <code><a href="#entry726F7773">rows</a></code>, <code><a href="#entry6D6F64652D33322D7879">mode-32-xy</a></code>, <code><a href="#entry6D6F64652D33322D61742D7879">mode-32-at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.mode.32iso.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64652D333269736F2D656D6974-src-lib-display-mode-32iso-fs"><a id="entry6D6F64652D333269736F2D656D6974"></a>mode-32iso-emit</h3>
<div class="listingblock">
<div class="content">
<pre>mode-32iso-emit ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Send character <em>c</em> to the current channel, calling the ROM
routine at $0010, and assuming the current font contains
printable characters 32..255.</p>
</div>
<div class="paragraph">
<p>In order to force the ROM routine interpret characters
128..255 as ordinary characters (not block graphics, user
defined graphics or BASIC tokens, as <code><a href="#entry6D6F64652D33322D656D6974">mode-32-emit</a></code> does),
<code>mode-32iso-emit</code> modifies <em>c</em> if needed and moves the
current font address accordingly before calling the ROM.
As a result, the ROM routine treats character ranges
128..223 and 224..255 as 32..127 and 32..63 respectively.</p>
</div>
<div class="paragraph">
<p><code>mode-32iso-emit</code> is an alternative action of <code><a href="#entry656D6974">emit</a></code>,
useful when a ISO character set is required (or any
character set with more than 128 characters). A similar
result could be obtained with <code><a href="#entry6D6F64652D33322D656D6974">mode-32-emit</a></code> and
<code><a href="#entry6C6173742D666F6E742D63686172">last-font-char</a></code>, by treating the characters greater than
128 as UDG and using <code><a href="#entry7365742D756467">set-udg</a></code>.  The advantage of
<code><a href="#entry6D6F64652D333269736F2D656D6974">mode-32iso-emit</a></code> is the ISO font can be managed (e.g.
built, loaded from disk, allocated, etc.) as a whole, using
only the font address, and reserving the full UDG set for
graphics.</p>
</div>
<div class="paragraph">
<p><code>mode-32iso-emit</code> is activated by <code><a href="#entry6D6F64652D333269736F">mode-32iso</a></code>, i.e.
it&#8217;s set as the action of <code><a href="#entry656D6974">emit</a></code>, though it can be used
alone.</p>
</div>
<div class="paragraph">
<p><code>mode-32iso-emit</code> is not affected by <code><a href="#entry6C6173742D666F6E742D63686172">last-font-char</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666F6E74">set-font</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.mode.32iso.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F64756C65-src-lib-modules-module-fs"><a id="entry6D6F64756C65"></a>module</h3>
<div class="listingblock">
<div class="content">
<pre>module ( "name" -- parent-wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Start the definition of a new module named <em>name</em>.
<code><a href="#entry656E642D6D6F64756C65">end-module</a></code> ends the module and <code><a href="#entry6578706F7274">export</a></code> exports a word.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>module greet

  : hello ( -- ) ." Hello" ;
  : mods ( -- ) ." Modules" ;

  : hi ( -- ) hello ." , " mods ." !" cr ;

export hi

end-module</pre>
</div>
</div>
<div class="paragraph">
<p>Now only the exported definitions of the module are
available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>hi      \ displays "Hello, Modules!"
hello   \ error, not found</pre>
</div>
</div>
<div class="paragraph">
<p>The module name is defined as a constant that holds the
word list identifier the module words are defined into.
Therefore, to expose the internal words of a module, you
can use <code>name &gt;order</code>, where <em>name</em> is the name of the
module.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E7465726E616C">internal</a></code>, <code><a href="#entry69736F6C617465">isolate</a></code>, <code><a href="#entry7061636B616765">package</a></code>, <code><a href="#entry707269766174697A65">privatize</a></code>,
<code><a href="#entry7365636C7573696F6E">seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.module.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F72652D776F7264733F-src-lib-tool-list-words-fs"><a id="entry6D6F72652D776F7264733F"></a>more-words?</h3>
<div class="listingblock">
<div class="content">
<pre>more-words? ( nt|0 -- nt|0 f )</pre>
</div>
</div>
<div class="paragraph">
<p>A common factor of <code><a href="#entry776F726473">words</a></code> and <code><a href="#entry776F7264732D6C696B65">words-like</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F7665-src-kernel-z80s"><a id="entry6D6F7665"></a>move</h3>
<div class="listingblock">
<div class="content">
<pre>move ( a1 a2 len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F76653C666172-src-lib-memory-far-fs"><a id="entry6D6F76653C666172"></a>move&lt;far</h3>
<div class="listingblock">
<div class="content">
<pre>move&lt;far ( a1 a2 len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, copy <em>len</em> consecutive
cells from far-memory address <em>a1</em> to main-memory
address <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D6F76653E666172-src-lib-memory-far-fs"><a id="entry6D6F76653E666172"></a>move&gt;far</h3>
<div class="listingblock">
<div class="content">
<pre>move&gt;far ( a1 a2 len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, copy <em>len</em> consecutive
cells from main-memory address <em>a1</em> to far-memory
address <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.far.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D73-src-lib-time-fs"><a id="entry6D73"></a>ms</h3>
<div class="listingblock">
<div class="content">
<pre>ms ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wait at least <em>u</em> ms (miliseconds).</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FACILITY EXT), Forth-202 (FACILITY
EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365636F6E6473">seconds</a></code>, <code><a href="#entry6672616D6573">frames</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6D742A-src-lib-math-operators-3-cell-fs"><a id="entry6D742A"></a>mt*</h3>
<div class="listingblock">
<div class="content">
<pre>mt*   ( d n -- t )</pre>
</div>
</div>
<div class="paragraph">
<p><em>t</em> is the signed product of <em>d</em> times <em>n</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.3-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E-src-lib-editor-specforth-fs"><a id="entry6E"></a>n</h3>
<div class="listingblock">
<div class="content">
<pre>n ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Find the next occurrence of the string found by an <code><a href="#entry66">f</a></code>
command.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E21-src-lib-memory-MISC-fs"><a id="entry6E21"></a>n!</h3>
<div class="listingblock">
<div class="content">
<pre>n! ( x[u]..x[1] u a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>u</em> is not zero, store <em>u</em> cells at address <em>a</em>, being
<em>x[1]</em> the first cell stored there and <em>x[u]</em> the last one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6E21">nn!</a></code>, <code><a href="#entry21">!</a></code>, <code><a href="#entry6E40">n@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E2C-src-lib-memory-MISC-fs"><a id="entry6E2C"></a>n,</h3>
<div class="listingblock">
<div class="content">
<pre>n, ( x[u]..x[1] u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>u</em> is not zero, store <em>u</em> cells <em>x[u]..x[1]</em> into data
space, being <em>x[1]</em> the first one stored and <em>x[u]</em> the
last one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2C">,</a></code>, <code><a href="#entry6E6E2C">nn,</a></code>, <code><a href="#entry6E40">n@</a></code>, <code><a href="#entry6E21">n!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E3E72-src-lib-return_stack-fs"><a id="entry6E3E72"></a>n&gt;r</h3>
<div class="listingblock">
<div class="content">
<pre>n&gt;r ( x#1..x#n n -- ) ( R: -- x#1..x#n n )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove <em>n+1</em> items from the  data stack and store them  for
later retrieval by <code><a href="#entry6E723E">nr&gt;</a></code>.  The return stack may  be used to
store the data. Until this data has been retrieved by
<code><a href="#entry6E723E">nr&gt;</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>this data will not be overwritten by a subsequent
invocation of <code><a href="#entry6E3E72">n&gt;r</a></code> and</p>
</li>
<li>
<p>a program may not access data placed on the return stack
before the invocation of <code><a href="#entry6E3E72">n&gt;r</a></code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/return_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E40-src-lib-memory-MISC-fs"><a id="entry6E40"></a>n@</h3>
<div class="listingblock">
<div class="content">
<pre>n@ ( a u -- x[u]..x[1] )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>u</em> is not zero, read <em>u</em> cells <em>x[u]..x[1]</em> from <em>a</em>,
being <em>x[1]</em> the first one stored and <em>x[u]</em> the last one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6E40">nn@</a></code>, <code><a href="#entry40">@</a></code>, <code><a href="#entry6E6E21">nn!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D652D696E64657865643F-src-lib-blocks-indexer-COMMON-fs"><a id="entry6E616D652D696E64657865643F"></a>name-indexed?</h3>
<div class="listingblock">
<div class="content">
<pre>name-indexed? ( ca len -- false | block true )</pre>
</div>
</div>
<div class="paragraph">
<p>Search the index for word <em>ca len</em>. If found, return
its <em>block</em> and <em>true</em>, else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653C6E616D65-src-lib-compilation-fs"><a id="entry6E616D653C6E616D65"></a>name&lt;name</h3>
<div class="listingblock">
<div class="content">
<pre>name&lt;name ( nt1 -- nt2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the previous <em>nt2</em> from <em>nt1</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E616D653E6E616D65">name&gt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E-src-kernel-z80s"><a id="entry6E616D653E"></a>name&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt; ( nt -- xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: name&gt; ( nt -- xt ) [ 2 cells ] literal - far@ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E626F6479-src-lib-compilation-fs"><a id="entry6E616D653E626F6479"></a>name&gt;body</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;body ( nt -- pfa )</pre>
</div>
</div>
<div class="paragraph">
<p>Get <em>pfa</em> from its <em>nt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626F64793E6E616D65">body&gt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E636F6D70696C65-src-lib-compilation-fs"><a id="entry6E616D653E636F6D70696C65"></a>name&gt;compile</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;compile ( nt -- x xt )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation token <em>x xt</em> represents the compilation
semantics of the word <em>nt</em>. The  returned <em>xt</em> has the
stack effect ( i*x  x&#8201;&#8212;&#8201;j*x  ).  Executing <em>xt</em> consumes
<em>x</em> and performs the compilation semantics of the word
represented by <em>nt</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry28636F6D702729">(comp')</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E696D6D6564696174653F-src-kernel-z80s"><a id="entry6E616D653E696D6D6564696174653F"></a>name&gt;immediate?</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;immediate? ( nt -- xt f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the word <em>nt</em> immediate?</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: name&gt;immediate? ( nt -- xt f ) dup name&gt; swap immediate? ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696D6D6564696174653F">immediate?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E696E74657270726574-src-lib-compilation-fs"><a id="entry6E616D653E696E74657270726574"></a>name&gt;interpret</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;interpret ( nt -- xt | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>xt</em> that represents the interpretation semantics of
the word <em>nt</em>. If <em>nt</em> has no interpretation semantics,
return zero.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E6C696E6B-src-lib-compilation-fs"><a id="entry6E616D653E6C696E6B"></a>name&gt;link</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;link ( nt -- lfa )</pre>
</div>
</div>
<div class="paragraph">
<p>Get <em>lfa</em> from its <em>nt</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C696E6B3E6E616D65">link&gt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E6E616D65-src-lib-compilation-fs"><a id="entry6E616D653E6E616D65"></a>name&gt;name</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;name ( nt1 -- nt2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the next <em>nt2</em> from <em>nt1</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E616D653C6E616D65">name&lt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E737472-src-kernel-z80s"><a id="entry6E616D653E737472"></a>name&gt;str</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;str ( nt -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the name token <em>nt</em> to its name string <em>ca len</em> in
far memory.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: name&gt;str ( nt -- ca len ) farcount word-length-mask and ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E616D653E737472696E67">name&gt;string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E616D653E737472696E67-src-kernel-z80s"><a id="entry6E616D653E737472696E67"></a>name&gt;string</h3>
<div class="listingblock">
<div class="content">
<pre>name&gt;string ( nt -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the name token <em>nt</em> to its name string <em>ca len</em>
in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: name&gt;string ( nt -- ca len )
  name&gt;str allocate-stringer ( ca1 len ca )
  2dup swap 2&gt;r ( R: ca len ) -rot ( ca ca1 len )
  0 ?do ( ca ca1 )
    2dup farc@ swap i + c! char+
  loop  2drop default-bank 2r&gt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E616D653E737472">name&gt;str</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E633F-src-lib-assembler-fs"><a id="entry6E633F"></a>nc?</h3>
<div class="listingblock">
<div class="content">
<pre>nc? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7A3F">z?</a></code>, <code><a href="#entry6E7A3F">nz?</a></code>, <code><a href="#entry633F">c?</a></code>, <code><a href="#entry706F3F">po?</a></code>, <code><a href="#entry70653F">pe?</a></code>, <code><a href="#entry703F">p?</a></code>, <code><a href="#entry6D3F">m?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E64726F70-src-lib-data_stack-fs"><a id="entry6E64726F70"></a>ndrop</h3>
<div class="listingblock">
<div class="content">
<pre>ndrop ( x1..xn n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Drop <em>n</em> cell items from the stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry326E64726F70">2ndrop</a></code>, <code><a href="#entry64726F70">drop</a></code>, <code><a href="#entry3264726F70">2drop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E656564-src-lib-002-need-fs"><a id="entry6E656564"></a>need</h3>
<div class="listingblock">
<div class="content">
<pre>need ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>name</em> is not found in the current search order, locate
the first block where <em>name</em> is included is the block
header (surrounded by spaces), and load it.  If not found,
throw an exception #-268 ("needed, but not located").</p>
</div>
<div class="paragraph">
<p>This is a deferred word whose default action is
<code><a href="#entry6C6F636174652D6E656564">locate-need</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6565642D66726F6D-src-lib-002-need-fs"><a id="entry6E6565642D66726F6D"></a>need-from</h3>
<div class="listingblock">
<div class="content">
<pre>need-from ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Locate the first block whose header contains <em>name</em>
(surrounded by spaces), and set it the first one <code><a href="#entry6C6F6361746564">located</a></code>
will search from. If not found, throw an exception #-268
("needed, but not located").</p>
</div>
<div class="paragraph">
<p><code>need-from</code> is intended to prevent undesired name clashes
during the execution of <code><a href="#entry6E656564">need</a></code> and related words. <em>name</em> is
supposed to be a conventional marker.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>( x )

: x ( -- ) ." Wrong x!" ;

( use-x )

need-from ==data-structures== need x

x

( y ==data-structures== )

: y ." Y data structure; ;

( x )

: x ." X data structure; ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6565642D68657265-src-lib-002-need-fs"><a id="entry6E6565642D68657265"></a>need-here</h3>
<div class="listingblock">
<div class="content">
<pre>need-here ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>name</em> is not a word found in the current search order,
load the current block.</p>
</div>
<div class="paragraph">
<p>This is a faster alternative to <code><a href="#entry6E656564">need</a></code>, when the needed
word is in the same block, and conditional compilation is
used with <code><a href="#entry3F5C">?]&gt;&gt;`, `&lt;&lt;entry3F28, pass:c[?(</a></code> or <code><a href="#entry5B69665D">[if]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6565646564-src-lib-002-need-fs"><a id="entry6E6565646564"></a>needed</h3>
<div class="listingblock">
<div class="content">
<pre>needed ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the string <em>ca len</em> is not the name of a word found in
the current search order, load the first block where <em>ca
len</em> is included in the block header (surrounded by
spaces).  If not found, throw an exception #-268 ("needed,
but not located").</p>
</div>
<div class="paragraph">
<p>This is a deferred word whose default action is
<code><a href="#entry6C6F636174652D6E6565646564">locate-needed</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6567617465-src-kernel-z80s"><a id="entry6E6567617465"></a>negate</h3>
<div class="listingblock">
<div class="content">
<pre>negate ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Negate <em>n1</em>, giving its arithmetic inverse <em>n2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required
Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F6E6567617465">?negate</a></code>, <code><a href="#entry303D">0=</a></code>, <code><a href="#entry696E7665727365">inverse</a></code>, <code><a href="#entry646E6567617465">dnegate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E656974686572-src-lib-math-operators-1-cell-fs"><a id="entry6E656974686572"></a>neither</h3>
<div class="listingblock">
<div class="content">
<pre>neither ( x1 x2 x3 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>true</em> if <em>x1</em> is not equal to either <em>x2</em> or <em>x3</em>;
else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656974686572">either</a></code>, <code><a href="#entry6966656C7365">ifelse</a></code>, <code><a href="#entry616E793F">any?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6573742D736F75726365-src-kernel-z80s"><a id="entry6E6573742D736F75726365"></a>nest-source</h3>
<div class="listingblock">
<div class="content">
<pre>nest-source ( R: -- source-sys )</pre>
</div>
</div>
<div class="paragraph">
<p><em>source-sys</em> describe the current source specification for
later use by <code><a href="#entry756E6E6573742D736F75726365">unnest-source</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: nest-source ( R: -- source-sys )
  r&gt;
  source 2&gt;r
  source-id &gt;r
  &gt;in @ &gt;r
  blk @ &gt;r
  #tib @ &gt;r
  &gt;r  ; compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6577-src-lib-objects-mini-oof-fs"><a id="entry6E6577"></a>new</h3>
<div class="listingblock">
<div class="content">
<pre>new ( class -- o )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a new incarnation of the class <em>class</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E65772D6D656E75-src-lib-menu-sinclair-fs"><a id="entry6E65772D6D656E75"></a>new-menu</h3>
<div class="listingblock">
<div class="content">
<pre>new-menu ( a1 a2 ca len x y n1 n2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the current menu to cursor coordinates <em>x y</em>,
<em>n2</em> options, <em>n1</em> characters width, title <em>ca len</em>,
actions table <em>a1</em> (a cell array of <em>n2</em> execution tokens)
and option texts table <em>a2</em> (a cell array of <em>n2</em> addresses
of counted strings).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E65772D6D656E75">new-menu</a></code>, <code><a href="#entry2E6D656E75">.menu</a></code>, <code><a href="#entry6D656E75">menu</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/menu.sinclair.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E65772D6D656E75-src-lib-menu-sinclair-fs">new-menu</h3>
<div class="listingblock">
<div class="content">
<pre>new-menu ( a1 a2 ca len x y n1 n2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set, display at cursor coordinates <em>x y</em> and activate a new
menu of <em>n2</em> options, <em>n1</em> characters width, title <em>ca
len</em>, actions table <em>a1</em> (a cell array of <em>n2</em> execution
tokens) and option texts table <em>a2</em> (a cell array of <em>n2</em>
addresses of counted strings).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6D656E75">set-menu</a></code>, <code><a href="#entry2E6D656E75">.menu</a></code>, <code><a href="#entry6D656E75">menu</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/menu.sinclair.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E65772D6E65656465642D776F7264-src-lib-002-need-fs"><a id="entry6E65772D6E65656465642D776F7264"></a>new-needed-word</h3>
<div class="listingblock">
<div class="content">
<pre>new-needed-word ( ca1 len -- ca2 len' )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove trailing and leading spaces from the word <em>ca1 len</em>,
which is the parameter of the latest <code><a href="#entry6E656564">need</a></code> <code><a href="#entry6E6565646564">needed</a></code>,
<code><a href="#entry72656E656564">reneed</a></code> or <code><a href="#entry72656E6565646564">reneeded</a></code>, store it in the <code><a href="#entry737472696E676572">stringer</a></code>
and return it as <em>ca2 len'</em> for further processing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6577746F6E2D73717274-src-lib-math-operators-1-cell-fs"><a id="entry6E6577746F6E2D73717274"></a>newton-sqrt</h3>
<div class="listingblock">
<div class="content">
<pre>newton-sqrt ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Integer square root <em>n2</em> of radicand <em>n1</em> by Newton&#8217;s
method. <code>newton-sqrt</code> is 7..8 times slower than
<code><a href="#entry626164656E2D73717274">baden-sqrt</a></code>.</p>
</div>
<div class="paragraph">
<p>Loading <code>newton-sqrt</code> makes it the action of <code><a href="#entry73717274">sqrt</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E657874-src-kernel-z80s"><a id="entry6E657874"></a>next</h3>
<div class="listingblock">
<div class="content">
<pre>next ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> of the main entry point of the Forth
inner interpreter.  It is the address Forth words jump to at
the end.  The code at <em>a</em> executes the word whose execution
token is in the address pointed by the Forth IP (the Z80 BC
register).</p>
</div>
<div class="paragraph">
<p>In Solo Forth, the Z80 IX register holds <em>a</em>, which must be
preserved across Forth words.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70757368686C">pushhl</a></code>, <code><a href="#entry70757368686C6465">pushhlde</a></code>, <code><a href="#entry7075736861">pusha</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6578746E616D65-src-lib-define-MISC-fs"><a id="entry6E6578746E616D65"></a>nextname</h3>
<div class="listingblock">
<div class="content">
<pre>nextname ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>The next defined word will have the name <em>ca len</em>; the
defining word will leave the input stream alone.
<code>nextname</code> works with any defining word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6578746E616D652D686561646572">nextname-header</a></code>, <code><a href="#entry6E6578746E616D652D737472696E67">nextname-string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6578746E616D652D686561646572-src-lib-define-MISC-fs"><a id="entry6E6578746E616D652D686561646572"></a>nextname-header</h3>
<div class="listingblock">
<div class="content">
<pre>nextname-header ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a dictionary header using the name string set by
<code><a href="#entry6E6578746E616D65">nextname</a></code>.  Then restore the default action of
<code><a href="#entry686561646572">header</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6578746E616D652D737472696E67">nextname-string</a></code>.
<code><a href="#entry64656661756C742D686561646572">default-header</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6578746E616D652D737472696E67-src-lib-define-MISC-fs"><a id="entry6E6578746E616D652D737472696E67"></a>nextname-string</h3>
<div class="listingblock">
<div class="content">
<pre>nextname-string ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double variable that may hold the address and length of a
name to be used by the next defining word.  This variable
is set by <code><a href="#entry6E6578746E616D65">nextname</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6578746E616D652D686561646572">nextname-header</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6970-src-kernel-z80s"><a id="entry6E6970"></a>nip</h3>
<div class="listingblock">
<div class="content">
<pre>nip ( x1 x2 -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Drop the first item below the top of stack.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64726F70">drop</a></code>, <code><a href="#entry7475636B">tuck</a></code>, <code><a href="#entry326E6970">2nip</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6E21-src-lib-memory-MISC-fs"><a id="entry6E6E21"></a>nn!</h3>
<div class="listingblock">
<div class="content">
<pre>nn! ( x[u]..x[1] u a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the count <em>u</em> at <em>a</em>.  If <em>u</em> is not zero, store also
<em>u</em> cells <em>x[u]..x[1]</em> at the next cell address, being
<em>x[1]</em> the first one stored and <em>x[u]</em> the last one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E21">n!</a></code>, <code><a href="#entry21">!</a></code>, <code><a href="#entry6E6E40">nn@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6E2C-src-lib-memory-MISC-fs"><a id="entry6E6E2C"></a>nn,</h3>
<div class="listingblock">
<div class="content">
<pre>nn, ( x[u]..x[1] u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the count <em>u</em> into data space.  If <em>u</em> is not zero,
store also <em>u</em> cells <em>x[u]..x[1]</em> into data space, being
<em>x[1]</em> the first one stored and <em>x[u]</em> the last one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2C">,</a></code>, <code><a href="#entry6E2C">n,</a></code>, <code><a href="#entry6E6E21">nn!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6E40-src-lib-memory-MISC-fs"><a id="entry6E6E40"></a>nn@</h3>
<div class="listingblock">
<div class="content">
<pre>nn@ ( a -- x[1]..x[u] u | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Read the count <em>u</em> from <em>a</em>.  If it&#8217;s zero, return it.  If
<em>u</em> is not zero, read <em>u</em> cells <em>x[u]..x[1]</em> from the next
cell address, being <em>x[1]</em> the first cell stored there and
<em>x[u]</em> the last one.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E40">n@</a></code>, <code><a href="#entry40">@</a></code>, <code><a href="#entry6E6E21">nn!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6F2D7761726E696E67733F-src-lib-compilation-fs"><a id="entry6E6F2D7761726E696E67733F"></a>no-warnings?</h3>
<div class="listingblock">
<div class="content">
<pre>no-warnings? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Are the warnings deactivated?</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry3F7761726E">?warn</a></code>, <code><a href="#entry7761726E696E6773">warnings</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6F6E616D653F-src-kernel-z80s"><a id="entry6E6F6E616D653F"></a>noname?</h3>
<div class="listingblock">
<div class="content">
<pre>noname? ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds a flag: Was the word being defined
created by <code><a href="#entry3A6E6F6E616D65">:noname</a></code>? <code>noname?</code> is set by <code><a href="#entry3A6E6F6E616D65">:noname</a></code> and
reset by <code><a href="#entry3B">;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6F6F70-src-kernel-z80s"><a id="entry6E6F6F70"></a>noop</h3>
<div class="listingblock">
<div class="content">
<pre>noop ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do nothing.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6F6F705F">noop_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6F6F705F-src-kernel-z80s"><a id="entry6E6F6F705F"></a>noop_</h3>
<div class="listingblock">
<div class="content">
<pre>noop_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a routine that does nothing, except
executing a Z80 <code>ret</code> to return.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E6F6F70">noop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6F742D626C6F636B2D6472697665-src-lib-dos-COMMON-fs"><a id="entry6E6F742D626C6F636B2D6472697665"></a>not-block-drive</h3>
<div class="listingblock">
<div class="content">
<pre>not-block-drive ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p><em>c</em> is a constant identifier used by <code><a href="#entry7365742D626C6F636B2D647269766573">set-block-drives</a></code>,
<code><a href="#entry2D626C6F636B2D647269766573">-block-drives</a></code> and other related words to mark unused
elements of <code><a href="#entry626C6F636B2D647269766573">block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E6F742D7265646566696E65643F-src-lib-compilation-fs"><a id="entry6E6F742D7265646566696E65643F"></a>not-redefined?</h3>
<div class="listingblock">
<div class="content">
<pre>not-redefined? ( ca len -- ca len xt false | ca len true )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the word name <em>ca len</em> not yet defined in the
compilation word list?</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry3F7761726E">?warn</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E70-src-kernel-z80s"><a id="entry6E70"></a>np</h3>
<div class="listingblock">
<div class="content">
<pre>np ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address that holds the name-space pointer, which points to
the next free address where the next word header will be
stored.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E7021-src-kernel-z80s"><a id="entry6E7021"></a>np!</h3>
<div class="listingblock">
<div class="content">
<pre>np! ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>a</em> into the name-space pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E7030-src-kernel-z80s"><a id="entry6E7030"></a>np0</h3>
<div class="listingblock">
<div class="content">
<pre>np0 ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E7040-src-kernel-z80s"><a id="entry6E7040"></a>np@</h3>
<div class="listingblock">
<div class="content">
<pre>np@ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the content of the name-space pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E723E-src-lib-return_stack-fs"><a id="entry6E723E"></a>nr&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>nr&gt; ( -- x#1..x#n n ) ( R: x#1..x#n n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Retrieve the items previously stored by an invocation of
<code><a href="#entry6E3E72">n&gt;r</a></code>.  <em>n</em> is the number of items placed on the  data
stack.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/return_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E75663F-src-lib-keyboard-MISC-fs"><a id="entry6E75663F"></a>nuf?</h3>
<div class="listingblock">
<div class="content">
<pre>nuf? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>If no key is pressed return <em>false</em>.  If a key is pressed,
discard it and wait for a second key. Then return <em>true</em> if
it&#8217;s a carriage return, else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: listing ( -- )
  begin  ." bla " nuf?  until  ." Aborted" ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E756D626572-src-lib-math-number-conversion-fs"><a id="entry6E756D626572"></a>number</h3>
<div class="listingblock">
<div class="content">
<pre>number ( ca len -- n | d )</pre>
</div>
</div>
<div class="paragraph">
<p>Attempt to convert a string <em>ca len</em> into a number. If
a valid point is found, return <em>d</em>; if there is no
valid point, return <em>n</em>. If conversion fails due to an
invalid character, an exception #-275 is thrown.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E756D6265723F">number?</a></code>, <code><a href="#entry3E6E756D626572">&gt;number</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.number.conversion.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E756D6265722D62617365-src-kernel-z80s"><a id="entry6E756D6265722D62617365"></a>number-base</h3>
<div class="listingblock">
<div class="content">
<pre>number-base ( ca len -- ca' len' n )</pre>
</div>
</div>
<div class="paragraph">
<p>If the first char of string <em>ca len</em> is a radix prefix,
return its value <em>n</em> and the updated string <em>ca' len'</em> (which
does not include the radix prefix).  Otherwise return <em>ca
len</em> untouched and the current value of <code><a href="#entry62617365">base</a></code> <em>n</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: number-base ( ca len -- ca' len' n )
  dup if
   over c@
   dup '$' = if  drop 1 /string #16  exit  then
   dup '%' = if  drop 1 /string  #2  exit  then
       '#' = if       1 /string #10  exit  then
  then
  base @ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E756D6265722D706F696E743F-src-kernel-z80s"><a id="entry6E756D6265722D706F696E743F"></a>number-point?</h3>
<div class="listingblock">
<div class="content">
<pre>number-point? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is character <em>c</em> a valid point in a number?  <code>number-point?</code>
is a deferred word used in <code><a href="#entry6E756D6265723F">number?</a></code>. Its default action is
<code><a href="#entry7374616E646172642D6E756D6265722D706F696E743F">standard-number-point?</a></code>, which only allows the period.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C61737369632D6E756D6265722D706F696E743F">classic-number-point?</a></code>, <code><a href="#entry657874656E6465642D6E756D6265722D706F696E743F">extended-number-point?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E756D6265723F-src-kernel-z80s"><a id="entry6E756D6265723F"></a>number?</h3>
<div class="listingblock">
<div class="content">
<pre>number? ( ca len -- 0 | n 1 | d 2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert a string <em>ca len</em> to a number, using the current value
of <code><a href="#entry62617365">base</a></code>.. Return 0 if the conversion is not possible. If the
result is a single number, return <em>n</em> and 1. If the result is
a double number, return <em>d</em> and 2.</p>
</div>
<div class="paragraph">
<p><code>number?</code> accepts valid point anywhere on the number and
updates <code><a href="#entry64706C">dpl</a></code> with the position of the last one. If no point
is found, <code><a href="#entry64706C">dpl</a></code> contains -1.</p>
</div>
<div class="paragraph">
<p>Characters between single quotes are recognized, after
Forth-2012.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: number? ( ca len -- 0 | n 1 | d 2 )

  dup 0= if  2drop 0 exit  then  \ reject empty strings

  2dup char? if  nip nip 1 exit  then  \ char format

  over c@ number-point?  \ first char is a point?
  if  2drop 0 exit  then  \ is so, reject the string

  base @ &gt;r  number-base base ! ( R: radix )
  skip-sign? &gt;r                 ( R: radix sign )
  0 0 2swap  dpl on

  begin ( d ca len ) &gt;number dup  while

    over c@ number-point? 0=   \ invalid point?
    if  2drop 2drop rdrop r&gt; base ! 0 exit  then

    dup dpl @ =   \ previous char was a point?
    if  2drop 2drop rdrop r&gt; base ! 0 exit  then

    dup 1- dpl !  \ update the position of the last point
    1 /string     \ skip the point

  repeat

  2drop                     \ discard the empty string
  dpl @ 0&lt;                  \ single-cell number?
  if    d&gt;s r&gt; ?negate  1   \ single-cell number
  else  r&gt; ?dnegate  2      \ double-cell number
  then  r&gt; base !  ;        \ restore the radix</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E6E756D626572">&gt;number</a></code>, <code><a href="#entry6E756D6265722D706F696E743F">number-point?</a></code>, <code><a href="#entry736B69702D7369676E3F">skip-sign?</a></code>, <code><a href="#entry64706C">dpl</a></code>,
<code><a href="#entry6E756D626572">number</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E7570-src-lib-data_stack-fs"><a id="entry6E7570"></a>nup</h3>
<div class="listingblock">
<div class="content">
<pre>nup ( x1 x2 -- x1 x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>This word is defined in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: nup ( x1 x2 -- x1 x1 x2 ) over swap ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry647570">dup</a></code>, <code><a href="#entry7475636B">tuck</a></code>, <code><a href="#entry64727570">drup</a></code>, <code><a href="#entry646970">dip</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E78-src-lib-tool-list-blocks-fs"><a id="entry6E78"></a>nx</h3>
<div class="listingblock">
<div class="content">
<pre>nx ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Give next quick index, calculated from <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7178">qx</a></code>, <code><a href="#entry7078">px</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6E7A3F-src-lib-assembler-fs"><a id="entry6E7A3F"></a>nz?</h3>
<div class="listingblock">
<div class="content">
<pre>nz? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7A3F">z?</a></code>, <code><a href="#entry633F">c?</a></code>, <code><a href="#entry6E633F">nc?</a></code>, <code><a href="#entry706F3F">po?</a></code>, <code><a href="#entry70653F">pe?</a></code>, <code><a href="#entry703F">p?</a></code>, <code><a href="#entry6D3F">m?</a></code>,
<code><a href="#entry3F7265742C">?ret,</a></code>, <code><a href="#entry3F6A702C">?jp,</a></code>, <code><a href="#entry3F6A72">?jr</a></code>, <code><a href="#entry3F63616C6C">?call</a></code>, <code><a href="#entry726966">rif</a></code>, <code><a href="#entry727768696C65">rwhile</a></code>, <code><a href="#entry72756E74696C">runtil</a></code>,
<code><a href="#entry616966">aif</a></code>, <code><a href="#entry617768696C65">awhile</a></code>, <code><a href="#entry61756E74696C">auntil</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F626A656374-src-lib-objects-mini-oof-fs"><a id="entry6F626A656374"></a>object</h3>
<div class="listingblock">
<div class="content">
<pre>object ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>The base class of all objets.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F6372-src-lib-graphics-ocr-fs"><a id="entry6F6372"></a>ocr</h3>
<div class="listingblock">
<div class="content">
<pre>ocr ( col row -- c | 0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Try to recognize the character printed at the given cursor
coordinates, using the font whose first printable character
is pointed by the variable <code><a href="#entry6F63722D63686172736574">ocr-charset</a></code>. The variable
<code><a href="#entry6F63722D6368617273">ocr-chars</a></code> holds the number of characters in the set, and
<code><a href="#entry6F63722D6669727374">ocr-first</a></code> holds the code of its first character.  If
succesful, return the character number <em>c</em> according to the
said variables. Otherwise return 0. Inverse characters are
not recognized.</p>
</div>
<div class="paragraph">
<p>Note: The name <code><a href="#entry6F6372">ocr</a></code> stands for "Optical Character
Recognition".</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D6F6372">udg-ocr</a></code>, <code><a href="#entry61736369692D6F6372">ascii-ocr</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.ocr.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F63722D6368617273-src-lib-graphics-ocr-fs"><a id="entry6F63722D6368617273"></a>ocr-chars</h3>
<div class="listingblock">
<div class="content">
<pre>ocr-chars ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the number of chars used by
<code><a href="#entry6F6372">ocr</a></code>, from the address pointed by <code><a href="#entry6F63722D63686172736574">ocr-charset</a></code>. By
default it contais 95, the number of printable ASCII chars
in the ROM charset.</p>
</div>
<div class="paragraph">
<p>The configuration of <code><a href="#entry6F6372">ocr</a></code>, including this variable, can be
changed by <code><a href="#entry61736369692D6F6372">ascii-ocr</a></code> and <code><a href="#entry7564672D6F6372">udg-ocr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F63722D6669727374">ocr-first</a></code>, <code><a href="#entry6F63722D63686172736574">ocr-charset</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.ocr.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F63722D63686172736574-src-lib-graphics-ocr-fs"><a id="entry6F63722D63686172736574"></a>ocr-charset</h3>
<div class="listingblock">
<div class="content">
<pre>ocr-charset ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Variable that holds the address of the first printable char
in the charset used by <code><a href="#entry6F6372">ocr</a></code>. By default it contains
0x3D00, the address of the space char in the ROM charset.</p>
</div>
<div class="paragraph">
<p>The configuration of <code><a href="#entry6F6372">ocr</a></code>, including this variable, can be
changed by <code><a href="#entry61736369692D6F6372">ascii-ocr</a></code> and <code><a href="#entry7564672D6F6372">udg-ocr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F63722D6368617273">ocr-chars</a></code>, <code><a href="#entry6F63722D6669727374">ocr-first</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.ocr.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F63722D6669727374-src-lib-graphics-ocr-fs"><a id="entry6F63722D6669727374"></a>ocr-first</h3>
<div class="listingblock">
<div class="content">
<pre>ocr-first ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the code of the first
printable char in the charset used by <code><a href="#entry6F6372">ocr</a></code>, pointed by
<code><a href="#entry6F63722D63686172736574">ocr-charset</a></code>.  By default it contais <code><a href="#entry626C">bl</a></code>, the code of the
space character.</p>
</div>
<div class="paragraph">
<p>The configuration of <code><a href="#entry6F6372">ocr</a></code>, including this variable, can be
changed by <code><a href="#entry61736369692D6F6372">ascii-ocr</a></code> and <code><a href="#entry7564672D6F6372">udg-ocr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F63722D6368617273">ocr-chars</a></code>, <code><a href="#entry6F63722D63686172736574">ocr-charset</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.ocr.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F63746176652D6368616E676572-src-lib-sound-48-fs"><a id="entry6F63746176652D6368616E676572"></a>octave-changer</h3>
<div class="listingblock">
<div class="content">
<pre>octave-changer ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Execution table that contains the three execution tokens
used to calculate the frequency of notes from any octave.
<em>a</em> is the address of the second execution token (cell
offset 0).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6368616E67652D6F6374617665">change-octave</a></code>, <code><a href="#entry626565703E64687A">beep&gt;dhz</a></code>, <code><a href="#entry6D6964646C652D6F6374617665">middle-octave</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F64643F-src-lib-math-operators-1-cell-fs"><a id="entry6F64643F"></a>odd?</h3>
<div class="listingblock">
<div class="content">
<pre>odd? ( n -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>n</em> an odd number?</p>
</div>
<div class="paragraph">
<p><code>odd?</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: odd? ( n -- f ) 1 and 0&lt;&gt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F64643F">odd?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F66-src-lib-flow-case-fs"><a id="entry6F66"></a>of</h3>
<div class="listingblock">
<div class="content">
<pre>of
  Compilation: ( -- orig )
  Run-time: ( x1 x2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>of</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.case.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F6666-src-kernel-z80s"><a id="entry6F6666"></a>off</h3>
<div class="listingblock">
<div class="content">
<pre>off ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>false</em> at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F6B-src-kernel-z80s"><a id="entry6F6B"></a>ok</h3>
<div class="listingblock">
<div class="content">
<pre>ok ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word called by <code><a href="#entry71756974">quit</a></code> after interpreting a command.
Its default action is the word <code><a href="#entry2E6F6B">.ok</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F6E-src-kernel-z80s"><a id="entry6F6E"></a>on</h3>
<div class="listingblock">
<div class="content">
<pre>on ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>true</em> at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F6E6C79-src-kernel-z80s"><a id="entry6F6E6C79"></a>only</h3>
<div class="listingblock">
<div class="content">
<pre>only ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the search order to the minimum search order.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: only ( -- ) -1 set-order ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH EXT), Forth-2012 (SEARCH EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C736F">also</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry70726576696F7573">previous</a></code>, <code><a href="#entry6F72646572">order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F6E6C792D6F6E652D70726573736564-src-lib-keyboard-MISC-fs"><a id="entry6F6E6C792D6F6E652D70726573736564"></a>only-one-pressed</h3>
<div class="listingblock">
<div class="content">
<pre>only-one-pressed ( -- false | bitmask port true )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the key identifier of the key pressed, if there&#8217;s
only one key pressed.  <em>bitmask</em> is the key bitmask and
<em>port</em> is the keyboard row port.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6B6B2D706F727473">kk-ports</a></code>, <code><a href="#entry70726573736564">pressed</a></code>, <code><a href="#entry707265737365643F">pressed?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F70656E2D6469736B-src-kernel-plus3dos-z80s"><a id="entry6F70656E2D6469736B"></a>open-disk</h3>
<div class="listingblock">
<div class="content">
<pre>open-disk ( c fid -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Open disk <em>c</em> ('A'..'P') as a single file <em>fid</em> (0..15).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7074696F6E-src-lib-flow-options-bracket-fs"><a id="entry6F7074696F6E"></a>option</h3>
<div class="listingblock">
<div class="content">
<pre>option ( x "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the action "name" of an option <em>x</em> in an <code>options[
]options</code> control structure.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry6F7074696F6E735B">options[</a></code> for a usage example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.options-bracket.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7074696F6E735B-src-lib-flow-options-bracket-fs"><a id="entry6F7074696F6E735B"></a>options[</h3>
<div class="listingblock">
<div class="content">
<pre>options[</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: (&#8201;&#8212;&#8201;a1 a2 a3 )</p>
</div>
<div class="paragraph">
<p>Start an <code>options[ ]options</code> structure.</p>
</div>
<div class="paragraph">
<p>The addresses left on the stack will be resolved by
<code><a href="#entry5D6F7074696F6E73">]options</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a1 = address of exit point</p>
</li>
<li>
<p>a2 = address of the xt of the default option</p>
</li>
<li>
<p>a3 = address of number of options</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: say10      ." dek" ;
: say100     ." cent" ;
: say1000    ." mil" ;
: say-other  ." alia" ;

: say ( n )
  options[
    10 option  say10
   100 option  say100
  1000 option  say1000
       default-option say-other
  ]options ;

10 say  100 say  1000 say  1001 say</pre>
</div>
</div>
<div class="paragraph">
<p><code>options[</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.options-bracket.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F72-src-kernel-z80s"><a id="entry6F72"></a>or</h3>
<div class="listingblock">
<div class="content">
<pre>or ( x1 x2 -- x3 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x3</em> is the bit-by-bit inclusive-or of <em>x1</em> with <em>x2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616E64">and</a></code>, <code><a href="#entry786F72">xor</a></code>, <code><a href="#entry6E6567617465">negate</a></code>, <code><a href="#entry303D">0=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F72646572-src-lib-tool-list-word_lists-fs"><a id="entry6F72646572"></a>order</h3>
<div class="listingblock">
<div class="content">
<pre>order ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the word lists in the search order in their search
order sequence, from first searched to last searched. Also
display the word list into which new definitions will be
placed.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (SEARCH EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2E636F6E74657874">.context</a></code>, <code><a href="#entry2E63757272656E74">.current</a></code>, <code><a href="#entry2E776F72646C697374">.wordlist</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7274686F64726177-src-lib-graphics-lines-fs"><a id="entry6F7274686F64726177"></a>orthodraw</h3>
<div class="listingblock">
<div class="content">
<pre>orthodraw ( gx gy gxinc gyinc len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Draw a line formed by <em>len</em> pixels, starting from <em>gx gy</em>
and using <em>gxinc gyinc</em> as increments to calculate the
coordinates of every next pixel.</p>
</div>
<div class="paragraph">
<p>The status of <code><a href="#entry696E7665727365">inverse</a></code> and <code><a href="#entry6F7665727072696E74">overprint</a></code> modes are obeyed;
the screen attributes and the system graphic coordinates
are updated.  That&#8217;s what makes <code>orthodraw</code> much slower
than <code><a href="#entry6F7274686F6C696E65">ortholine</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6164726177313736">adraw176</a></code>, <code><a href="#entry7264726177313736">rdraw176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7274686F6C696E65-src-lib-graphics-lines-fs"><a id="entry6F7274686F6C696E65"></a>ortholine</h3>
<div class="listingblock">
<div class="content">
<pre>ortholine ( gx gy gxinc gyinc len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Draw a line formed by <em>len</em> pixels, starting from <em>gx gy</em>
and using <em>gxinc gyinc</em> as increments to calculate the
coordinates of every next pixel.</p>
</div>
<div class="paragraph">
<p>The status of <code><a href="#entry696E7665727365">inverse</a></code> and <code><a href="#entry6F7665727072696E74">overprint</a></code> modes is ignored;
the attributes of the screen are not modified; and the
system graphic coordinates are not updated. That&#8217;s what
makes <code>ortholine</code> almost twice faster than <code><a href="#entry6F7274686F64726177">orthodraw</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726C696E65313736">rline176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D617474722D70-src-lib-system_variables-fs"><a id="entry6F732D617474722D70"></a>os-attr-p</h3>
<div class="listingblock">
<div class="content">
<pre>os-attr-p ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 1-byte system
variable ATTR_P, which holds the current permanent color
attribute, as set up by color statements.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F732D617474722D74">os-attr-t</a></code>, <code><a href="#entry61732D6D61736B2D70">as-mask-p</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D617474722D74-src-lib-system_variables-fs"><a id="entry6F732D617474722D74"></a>os-attr-t</h3>
<div class="listingblock">
<div class="content">
<pre>os-attr-t ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 1-byte system
variable ATTR_T, which holds the current temporary color
attribute, as set up by color statements.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F732D617474722D70">os-attr-p</a></code>, <code><a href="#entry6F732D6D61736B2D74">os-mask-t</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D6368616E73-src-lib-system_variables-fs"><a id="entry6F732D6368616E73"></a>os-chans</h3>
<div class="listingblock">
<div class="content">
<pre>os-chans ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of system variable
CHANS, which holds the address of channels data.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D6368617273-src-lib-system_variables-fs"><a id="entry6F732D6368617273"></a>os-chars</h3>
<div class="listingblock">
<div class="content">
<pre>os-chars ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address of system variable
CHARS, which holds the bitmap address of character 0 of the
current font (actual characters 32..127). By default this
system variables holds ROM address 15360 ($3C00).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry6765742D666F6E74">get-font</a></code>, <code><a href="#entry726F6D2D666F6E74">rom-font</a></code>, <code><a href="#entry6F732D756467">os-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D636F6F726473-src-lib-system_variables-fs"><a id="entry6F732D636F6F726473"></a>os-coords</h3>
<div class="listingblock">
<div class="content">
<pre>os-coords ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 2-byte system
variable COORDS which holds the graphic coordinates of the
last point plotted.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry6F732D636F6F726478">os-coordx</a></code>, <code><a href="#entry6F732D636F6F726479">os-coordy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D636F6F726478-src-lib-system_variables-fs"><a id="entry6F732D636F6F726478"></a>os-coordx</h3>
<div class="listingblock">
<div class="content">
<pre>os-coordx ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 1-byte system
variable COORDX which holds the graphic x coordinate of the
last point plotted.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry6F732D636F6F726473">os-coords</a></code>, <code><a href="#entry6F732D636F6F726479">os-coordy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D636F6F726479-src-lib-system_variables-fs"><a id="entry6F732D636F6F726479"></a>os-coordy</h3>
<div class="listingblock">
<div class="content">
<pre>os-coordy ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 1-byte system
variable COORDY which holds the graphic y coordinate of the
last point plotted.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry6F732D636F6F726473">os-coords</a></code>, <code><a href="#entry6F732D636F6F726478">os-coordx</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D666C61677332-src-lib-system_variables-fs"><a id="entry6F732D666C61677332"></a>os-flags2</h3>
<div class="listingblock">
<div class="content">
<pre>os-flags2 ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>ca</em> of 1-byte system
variable FLAGS2, which holds several flags.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636170736C6F636B">capslock</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D6672616D6573-src-lib-system_variables-fs"><a id="entry6F732D6672616D6573"></a>os-frames</h3>
<div class="listingblock">
<div class="content">
<pre>os-frames ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 3-byte system
variable FRAMES (least significant byte first), which holds
a frame counter incremented every 20 ms.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6672616D657340">frames@</a></code>, <code><a href="#entry6672616D657321">frames!</a></code>, <code><a href="#entry72657365742D6672616D6573">reset-frames</a></code>, <code><a href="#entry6672616D6573">frames</a></code>,
<code><a href="#entry3F6672616D6573">?frames</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D6D61736B2D70-src-lib-system_variables-fs"><a id="entry6F732D6D61736B2D70"></a>os-mask-p</h3>
<div class="listingblock">
<div class="content">
<pre>os-mask-p ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 1-byte system
variable MASK_P, which holds the permanent color attribute
mask, used for transparent colors, etc. Any bit that is 1
shows that the corresponding attribute bit is taken not
from <code><a href="#entry6F732D617474722D70">os-attr-p</a></code> but from what is already on the screen.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F732D617474722D70">os-attr-p</a></code>, <code><a href="#entry6F732D6D61736B2D74">os-mask-t</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D6D61736B2D74-src-lib-system_variables-fs"><a id="entry6F732D6D61736B2D74"></a>os-mask-t</h3>
<div class="listingblock">
<div class="content">
<pre>os-mask-t ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 1-byte system
variable MASK_T, which holds the temporary color attribute
mask, used for transparent colors, etc. Any bit that is 1
shows that the corresponding attribute bit is taken not
from <code><a href="#entry6F732D617474722D74">os-attr-t</a></code> but from what is already on the screen.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F732D617474722D74">os-attr-t</a></code>, <code><a href="#entry6F732D6D61736B2D70">os-mask-p</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D702D666C6167-src-lib-system_variables-fs"><a id="entry6F732D702D666C6167"></a>os-p-flag</h3>
<div class="listingblock">
<div class="content">
<pre>os-p-flag ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of 1-byte system
variable P_FLAG, which holds some flags related to
printing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D73656564-src-lib-system_variables-fs"><a id="entry6F732D73656564"></a>os-seed</h3>
<div class="listingblock">
<div class="content">
<pre>os-seed ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of system variable
SEED, which holds the seed of the BASIC random number
generator.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D7370-src-kernel-z80s"><a id="entry6F732D7370"></a>os-sp</h3>
<div class="listingblock">
<div class="content">
<pre>os-sp ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F732D756467-src-lib-system_variables-fs"><a id="entry6F732D756467"></a>os-udg</h3>
<div class="listingblock">
<div class="content">
<pre>os-udg ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the address <em>a</em> of system variable
UDG, which holds the address of the first character bitmap
of the current User Defined Graphics set (characters
128..255 or 0..255, depending on the words used to access
them).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D756467">set-udg</a></code>, <code><a href="#entry6765742D756467">get-udg</a></code>, <code><a href="#entry6F732D6368617273">os-chars</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/system_variables.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7468657263617365-src-lib-flow-thiscase-fs"><a id="entry6F7468657263617365"></a>othercase</h3>
<div class="listingblock">
<div class="content">
<pre>othercase ( x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark the start of the default option of a <code><a href="#entry7468697363617365">thiscase</a></code>
structure that checked <em>x</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7468697363617365">thiscase</a></code>, <code><a href="#entry696663617365">ifcase</a></code>, <code><a href="#entry6578697463617365">exitcase</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.thiscase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F74686572636173653E-src-lib-flow-cases-colon-fs"><a id="entry6F74686572636173653E"></a>othercase&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>othercase&gt; ( orig counter "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the default option of a <code><a href="#entry63617365733A">cases:</a></code> to be the word
"name" . This must be the last option of the structure and
is mandatory.  When no default action is required,
<code>othercase&gt; noop</code> can be used.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry63617365733A">cases:</a></code> for an usage example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.cases-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F75746C65742D6175746F6368617273-src-lib-display-fonts-fs"><a id="entry6F75746C65742D6175746F6368617273"></a>outlet-autochars</h3>
<div class="listingblock">
<div class="content">
<pre>outlet-autochars ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a modified, bolder copy of the ZX Spectrum ROM font
and store it at <em>a</em>. 768 bytes will be used from <em>a</em>. Then
activate the new font by modifing the contents of
<code><a href="#entry6F732D6368617273">os-chars</a></code>.</p>
</div>
<div class="paragraph">
<p>The code word of <code>outlet-autochars`</code> has been adapted from
the Autochars routine used by the Outlet magazine,
published in its issue #1 (1987-09).</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>create outlet-font  768 allot
need outlet-autochars
outlet-font outlet-autochars</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry726F6D2D666F6E74">rom-font</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.fonts.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F766572-src-kernel-z80s"><a id="entry6F766572"></a>over</h3>
<div class="listingblock">
<div class="content">
<pre>over ( x1 x2 -- x1 x2 x1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7665727072696E74-src-lib-display-attributes-fs"><a id="entry6F7665727072696E74"></a>overprint</h3>
<div class="listingblock">
<div class="content">
<pre>overprint ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is zero, turn the overprint mode off; else
turn it on.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F7665727072696E742D6F6E">overprint-on</a></code>, <code><a href="#entry6F7665727072696E742D6F6666">overprint-off</a></code>, <code><a href="#entry696E7665727365">inverse</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7665727072696E742D6F6666-src-lib-display-attributes-fs"><a id="entry6F7665727072696E742D6F6666"></a>overprint-off</h3>
<div class="listingblock">
<div class="content">
<pre>overprint-off ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Turn the overprint mode off.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F7665727072696E742D6F6E">overprint-on</a></code>, <code><a href="#entry6F7665727072696E74">overprint</a></code>, <code><a href="#entry696E76657273652D6F6666">inverse-off</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry6F7665727072696E742D6F6E-src-lib-display-attributes-fs"><a id="entry6F7665727072696E742D6F6E"></a>overprint-on</h3>
<div class="listingblock">
<div class="content">
<pre>overprint-on ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Turn the overprint mode on.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F7665727072696E742D6F6666">overprint-off</a></code>, <code><a href="#entry6F7665727072696E74">overprint</a></code>, <code><a href="#entry696E76657273652D6F6E">inverse-on</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70-src-lib-editor-specforth-fs"><a id="entry70"></a>p</h3>
<div class="listingblock">
<div class="content">
<pre>p ( n "ccc&lt;eol&gt;"  -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Put "ccc" on line <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry703F-src-lib-assembler-fs"><a id="entry703F"></a>p?</h3>
<div class="listingblock">
<div class="content">
<pre>p? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7A3F">z?</a></code>, <code><a href="#entry6E7A3F">nz?</a></code>, <code><a href="#entry633F">c?</a></code>, <code><a href="#entry6E633F">nc?</a></code>, <code><a href="#entry706F3F">po?</a></code>, <code><a href="#entry70653F">pe?</a></code>, <code><a href="#entry6D3F">m?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7061636B616765-src-lib-modules-package-fs"><a id="entry7061636B616765"></a>package</h3>
<div class="listingblock">
<div class="content">
<pre>package ( "name" -- wid0 wid1 )</pre>
</div>
</div>
<div class="paragraph">
<p>If the package <em>name</em> has been previously defined, open it.
Otherwise create it.</p>
</div>
<div class="paragraph">
<p><em>wid1</em> is the word list of the package <em>name</em>; <em>wid0</em>
is the word list in which the package <em>name</em> was created.</p>
</div>
<div class="paragraph">
<p><code><a href="#entry656E642D7061636B616765">end-package</a></code> ends the package; <code><a href="#entry7075626C6963">public</a></code> start public
definitions and <code><a href="#entry70726976617465">private</a></code> starts private definitions.</p>
</div>
<div class="paragraph">
<p>Syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>package package-name
... private definitions here ...
public
... public definitions here ...
private
... more private definitions maybe ...
end-package</pre>
</div>
</div>
<div class="paragraph">
<p>In the above, private definitions are placed in the
<code>package-name</code> word list.  Public definitions are placed
in whatever word list was current before <code>package
package-name</code>.  If a package called <code>package-name</code>
already exists prior to the above, then it is reused,
rather than redefined.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>package example

defer text
: ex1 ( -- ca len ) s" This is an example" ;
' ex1 ' text defer!

public

: .example ( -- ) text cr type ;

private

: ex2 ( -- ca len ) s" This is an example (cont.)" ;

end-package</pre>
</div>
</div>
<div class="paragraph">
<p>At this point, <code>.example</code> is a new word in whatever the
current wordlist was, and <code>text</code>, <code>ex1</code> and <code>ex2</code> are
all words in the <code>example</code> word list. <code>example</code> itself
is created in the current wordlist if it didn&#8217;t already
exist.  (if <code>example</code> exists and <strong>isn&#8217;t</strong> a package, this
is an unchecked error which will probably be revealed when
<code><a href="#entry7075626C6963">public</a></code> runs.)</p>
</div>
<div class="paragraph">
<p>If this code is in a library, code including the library
can then run <code>.example</code> freely.</p>
</div>
<div class="paragraph">
<p>If there&#8217;s some need to reopen the package, this is easily
done:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>package example

:noname ( -- ca len ) s" This is yet another example" ; '
text defer!

end-package

.example</pre>
</div>
</div>
<div class="paragraph">
<p>Use case: loading a package using library with a prelude:</p>
</div>
<div class="paragraph">
<p>Suppose that you need to load a package with some alien
definitions, you can put them in a package with the same
name before loading the code, and this will only affect
that package:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>package some-package

\ This package's code relies on `&lt;&lt;entry706C616365, pass:c[place]&gt;&gt;` appending a nul byte.

: place ( ca1 len1 ca2 -- ) 2dup + 0 swap c!  place ;

end-package

include some-lib.fs</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E7465726E616C">internal</a></code>, <code><a href="#entry69736F6C617465">isolate</a></code>, <code><a href="#entry6D6F64756C65">module</a></code>, <code><a href="#entry707269766174697A65">privatize</a></code>,
<code><a href="#entry7365636C7573696F6E">seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.package.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706164-src-kernel-z80s"><a id="entry706164"></a>pad</h3>
<div class="listingblock">
<div class="content">
<pre>pad ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address of a transient region that can be used to hold
data for intermediate processing. It&#8217;s a fixed offset above <code><a href="#entry68657265">here</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: pad ( -- ca ) here /hold + ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83 (Required
Word Set), Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F706164">/pad</a></code>, <code><a href="#entry2F686F6C64">/hold</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70616464696E672D737061636573-src-lib-display-type-fs"><a id="entry70616464696E672D737061636573"></a>padding-spaces</h3>
<div class="listingblock">
<div class="content">
<pre>padding-spaces ( len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len2</em> minus <em>len1</em> is a positive number, print that
number of spaces; else do nothing.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D6C6566742D6669656C64">type-left-field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70616765-src-kernel-z80s"><a id="entry70616765"></a>page</h3>
<div class="listingblock">
<div class="content">
<pre>page ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Move to another page for output.  On a terminal, <code>page</code> clears
the screen and resets the cursor position to the upper left
corner. On a printer, <code>page</code> performs a form feed.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Reference Word Set), Forth-83 (Uncontrolled
Reference Words), Forth-94 (FACILITY), Forth-2012 (FACILITY).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C73">cls</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70617065722E-src-lib-display-attributes-fs"><a id="entry70617065722E"></a>paper.</h3>
<div class="listingblock">
<div class="content">
<pre>paper. ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set paper color to <em>b</em> (0..9), by printing the
corresponding control characters.  If <em>b</em> is greater than
9, 9 is used instead.</p>
</div>
<div class="paragraph">
<p><code>paper.</code> is much slower than <code><a href="#entry7365742D7061706572">set-paper</a></code> or <code><a href="#entry6174747221">attr!</a></code>, but
it can handle pseudo-colors 8 (transparent) and 9
(contrast), setting the corresponding system variables
accordingly.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E6B2E">ink.</a></code>, <code><a href="#entry28302D392D636F6C6F722E">(0-9-color.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706170657279-src-lib-display-attributes-fs"><a id="entry706170657279"></a>papery</h3>
<div class="listingblock">
<div class="content">
<pre>papery ( b1 -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert paper color <em>b1</em> to its equivalent attribute <em>b2</em>.</p>
</div>
<div class="paragraph">
<p><code>papery</code> is an alias of <code><a href="#entry382A">8*</a></code>, which is written in Z80.
Its equivalent definition in Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: papery ( b1 -- b2 ) 8 * ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62726967687479">brighty</a></code>, <code><a href="#entry666C61736879">flashy</a></code>, <code><a href="#entry617474723E7061706572">attr&gt;paper</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code></p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7061727365-src-kernel-z80s"><a id="entry7061727365"></a>parse</h3>
<div class="listingblock">
<div class="content">
<pre>parse ( char "ccc&lt;char&gt;" -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>ccc</em> delimited by the delimiter <em>char</em>.  <em>ca</em> is the
address (within the input buffer) and <em>len</em> is the length of
the parsed string If the parse area was empty, the resulting
string has a zero length.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: parse ( char "ccc&lt;char&gt;" -- ca len )
  stream 2dup 2&gt;r rot scan
  dup if  char-  then
  2r&gt; rot - parsed
  tuck - ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry73747265616D">stream</a></code>, <code><a href="#entry7363616E">scan</a></code>, <code><a href="#entry706172736564">parsed</a></code>, <code><a href="#entry70617273652D6E616D65">parse-name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70617273652D616C6C-src-lib-parsing-fs"><a id="entry70617273652D616C6C"></a>parse-all</h3>
<div class="listingblock">
<div class="content">
<pre>parse-all ( "ccc" -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse the rest of the source.</p>
</div>
<div class="paragraph">
<p><code>parse-all</code> is a useful factor of Specforth editor&#8217;s
<code><a href="#entry74657874">text</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70617273652D6573632D636861723E6368617273-src-lib-strings-escaped-fs"><a id="entry70617273652D6573632D636861723E6368617273"></a>parse-esc-char&gt;chars</h3>
<div class="listingblock">
<div class="content">
<pre>parse-esc-char&gt;chars ( "c" -- c[n-1]..c[0] n )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse and translate a escaped char 'c' to a number of chars
<em>c[n-1]..c[0] and their count _n</em>.</p>
</div>
<div class="paragraph">
<p>The translation is done by searching the name of the
escaped char in the current search order, which has been
set by calling <code><a href="#entry7365742D6573632D737472696E672D6F72646572">set-esc-string-order</a></code> in
<code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70617273652D6573632D737472696E67-src-lib-strings-escaped-fs"><a id="entry70617273652D6573632D737472696E67"></a>parse-esc-string</h3>
<div class="listingblock">
<div class="content">
<pre>parse-esc-string ( "ccc&lt;quote&gt;"  -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse a text string delimited by a double quote,
translating some configurable characters that are escaped
with a backslash.  Return the translated string <em>ca len</em> in
the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>The characters that must be escaped depend on the search
order set by the deferred word <code><a href="#entry7365742D6573632D737472696E672D6F72646572">set-esc-string-order</a></code>,
whose default action is <code><a href="#entry7365742D7374616E646172642D6573632D737472696E672D6F72646572">set-standard-esc-string-order</a></code>.
Therefore, by default, the escaped characters are those
described in Forth-2012&#8217;s <code><a href="#entry735C22">s\"</a></code>.</p>
</div>
<div class="paragraph">
<p><code>parse-esc-string</code> is a common factor of <code><a href="#entry735C22">s\"</a></code> and <code><a href="#entry2E5C22">.\"</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2870617273652D6573632D737472696E6729">(parse-esc-string)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70617273652D6E616D65-src-kernel-z80s"><a id="entry70617273652D6E616D65"></a>parse-name</h3>
<div class="listingblock">
<div class="content">
<pre>parse-name ( "name"  -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em> and return it as string <em>ca len</em> within the input
buffer. If the parse area is empty or contains only white
space, the <em>len</em> is zero.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: parse-name ( "name"  -- ca len )
  stream                ( ca0 len0 )
  dup &gt;r   -leading     ( ca1 len1 ) ( R: len0 )
  over &gt;r  bl scan      ( ca2 len2 ) ( R: len0 ca1 )
  dup if  char-  then   \ skip trailing delimiter
  r&gt; r&gt; rot -  parsed   \ update `&lt;&lt;entry3E696E, pass:c[&gt;in]&gt;&gt;`
  tuck -                ( ca len )
  2dup parsed-name 2! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7061727365">parse</a></code>, <code><a href="#entry70617273652D6E616D652D74687275">parse-name-thru</a></code>, <code><a href="#entry776F7264">word</a></code>, <code><a href="#entry73747265616D">stream</a></code>,
<code><a href="#entry7363616E">scan</a></code>, <code><a href="#entry706172736564">parsed</a></code>, <code><a href="#entry7061727365642D6E616D65">parsed-name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70617273652D6E616D652D74687275-src-lib-parsing-fs"><a id="entry70617273652D6E616D652D74687275"></a>parse-name-thru</h3>
<div class="listingblock">
<div class="content">
<pre>parse-name-thru  ( "name" -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em> and return it as string <em>ca len</em> within the
input buffer. If the parse area is empty, use <code><a href="#entry726566696C6C">refill</a></code> to
fill it from the input source. If the input source is
exhausted, throw exception #-289 (input source exhausted).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70617273652D6E616D65">parse-name</a></code>, <code><a href="#entry7061727365">parse</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70617273652D737472696E67-src-kernel-z80s"><a id="entry70617273652D737472696E67"></a>parse-string</h3>
<div class="listingblock">
<div class="content">
<pre>parse-string ( Compilation: c "ccc&lt;char&gt;" -- )
             ( Interpretation: c "ccc&lt;char&gt;" -- ca len )
             ( Run-time:  -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706172736564-src-kernel-z80s"><a id="entry706172736564"></a>parsed</h3>
<div class="listingblock">
<div class="content">
<pre>parsed ( len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add the given <em>len</em> to <code><a href="#entry3E696E">&gt;in</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: parsed ( len -- ) &gt;in +! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7061727365">parse</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7061727365642D6E616D65-src-kernel-z80s"><a id="entry7061727365642D6E616D65"></a>parsed-name</h3>
<div class="listingblock">
<div class="content">
<pre>parsed-name ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double variable that holds the address and length of the
most recently name parsed by <code><a href="#entry70617273652D6E616D65">parse-name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7061757365-src-lib-multitask-muench-koh-fs"><a id="entry7061757365"></a>pause</h3>
<div class="listingblock">
<div class="content">
<pre>pause ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Allow another task to execute:
Stop current task and transfer control to the task of which
<code><a href="#entry737461747573">status</a></code> user variable is stored in <code><a href="#entry666F6C6C6F776572">follower</a></code> user variable
of current task.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7061757365-src-lib-time-fs">pause</h3>
<div class="listingblock">
<div class="content">
<pre>pause ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>u</em> 0 zero, stop execution until a key is pressed.
Otherwise stop execution during at least <em>u</em> frames of the
TV (there are 50 frames per second in in Europe and 60
frames per second in USA), or until a key is pressed.</p>
</div>
<div class="paragraph">
<p><code>pause</code> is a convenience that works like the homonymous
keyword of Sinclair BASIC.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry6672616D6573">frames</a></code>, <code><a href="#entry3F6672616D6573">?frames</a></code>, <code><a href="#entry6F732D6672616D6573">os-frames</a></code>, <code><a href="#entry3F7365636F6E6473">?seconds</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70653F-src-lib-assembler-fs"><a id="entry70653F"></a>pe?</h3>
<div class="listingblock">
<div class="content">
<pre>pe? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7A3F">z?</a></code>, <code><a href="#entry6E7A3F">nz?</a></code>, <code><a href="#entry633F">c?</a></code>, <code><a href="#entry6E633F">nc?</a></code>, <code><a href="#entry706F3F">po?</a></code>, <code><a href="#entry703F">p?</a></code>, <code><a href="#entry6D3F">m?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706572666F726D-src-kernel-z80s"><a id="entry706572666F726D"></a>perform</h3>
<div class="listingblock">
<div class="content">
<pre>perform ( a  -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the cell stored at <em>a</em> is zero, do nothing.  Otherwise
execute it as an execution token.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>perform</code> is called <code>@execute</code> in other Forth systems.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry65786563757465">execute</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7065726D2D6174747221-src-lib-display-attributes-fs"><a id="entry7065726D2D6174747221"></a>perm-attr!</h3>
<div class="listingblock">
<div class="content">
<pre>perm-attr! ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>b</em> as the permanent attribute.</p>
</div>
<div class="paragraph">
<p>Note: Words that use attributes don&#8217;t use the OS permanent
attribute but the temporary one, which is called "current
attribute" in Solo Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7065726D2D6174747240">perm-attr@</a></code>, <code><a href="#entry6174747221">attr!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7065726D2D617474722D6D61736B21-src-lib-display-attributes-fs"><a id="entry7065726D2D617474722D6D61736B21"></a>perm-attr-mask!</h3>
<div class="listingblock">
<div class="content">
<pre>perm-attr-mask! ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>b</em> as the permanent attribute mask.</p>
</div>
<div class="paragraph">
<p>Note: Words that use attributes don&#8217;t use the OS permanent
attribute but the temporary one, which is called "current
attribute" in Solo Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7065726D2D617474722D6D61736B40">perm-attr-mask@</a></code>, <code><a href="#entry617474722D6D61736B21">attr-mask!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7065726D2D617474722D6D61736B40-src-lib-display-attributes-fs"><a id="entry7065726D2D617474722D6D61736B40"></a>perm-attr-mask@</h3>
<div class="listingblock">
<div class="content">
<pre>perm-attr-mask@ ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the permanent attribute mask <em>b</em>.</p>
</div>
<div class="paragraph">
<p>Note: Words that use attributes don&#8217;t use the OS permanent
attribute but the temporary one, which is called "current
attribute" in Solo Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7065726D2D617474722D6D61736B21">perm-attr-mask!</a></code>, <code><a href="#entry617474722D6D61736B40">attr-mask@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7065726D2D6174747240-src-lib-display-attributes-fs"><a id="entry7065726D2D6174747240"></a>perm-attr@</h3>
<div class="listingblock">
<div class="content">
<pre>perm-attr@ ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the permanent attribute <em>b</em>.</p>
</div>
<div class="paragraph">
<p>Note: Words that use attributes don&#8217;t use the OS permanent
attribute but the temporary one, which is called "current
attribute" in Solo Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7065726D2D6174747221">perm-attr!</a></code>, <code><a href="#entry6174747240">attr@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7069636B-src-lib-data_stack-fs"><a id="entry7069636B"></a>pick</h3>
<div class="listingblock">
<div class="content">
<pre>pick ( xu .. x1 x0 u -- xu .. x1 x0 xu )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726F6C6C">roll</a></code>, <code><a href="#entry726F74">rot</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706978656C2D70616E2D7269676874-src-lib-graphics-scroll-fs"><a id="entry706978656C2D70616E2D7269676874"></a>pixel-pan-right</h3>
<div class="listingblock">
<div class="content">
<pre>pixel-pan-right ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Pan the whole screen one pixel to the right.
<code>pixel-pan-right</code> is a wrapper that calls
<code><a href="#entry28706978656C2D70616E2D7269676874">(pixel-pan-right</a></code> saving the BC register.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry28706978656C2D70616E2D7269676874">(pixel-pan-right</a></code>, <code><a href="#entry706978656C732D70616E2D7269676874">pixels-pan-right</a></code>,
<code><a href="#entry706978656C2D7363726F6C6C2D7570">pixel-scroll-up</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.scroll.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706978656C2D7363726F6C6C2D7570-src-lib-graphics-scroll-fs"><a id="entry706978656C2D7363726F6C6C2D7570"></a>pixel-scroll-up</h3>
<div class="listingblock">
<div class="content">
<pre>pixel-scroll-up ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Scroll the whole screen one pixel up. <code>pixel-scroll-up</code>
is a wrapper that calls <code><a href="#entry28706978656C2D7363726F6C6C2D7570">(pixel-scroll-up</a></code> saving the BC
register.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706978656C2D70616E2D7269676874">pixel-pan-right</a></code>, <code><a href="#entry706978656C732D7363726F6C6C2D7570">pixels-scroll-up</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.scroll.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706978656C73-src-lib-graphics-pixels-fs"><a id="entry706978656C73"></a>pixels</h3>
<div class="listingblock">
<div class="content">
<pre>pixels ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number <em>u</em> of pixels that are set on the screen.
This is a deferred word set by <code><a href="#entry666173742D706978656C73">fast-pixels</a></code> or
<code><a href="#entry736C6F772D706978656C73">slow-pixels</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62697473">bits</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706978656C732D70616E2D7269676874-src-lib-graphics-scroll-fs"><a id="entry706978656C732D70616E2D7269676874"></a>pixels-pan-right</h3>
<div class="listingblock">
<div class="content">
<pre>pixels-pan-right ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Pan the whole screen <em>u</em> pixels to the right.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry706978656C2D70616E2D7269676874">pixel-pan-right</a></code>, <code><a href="#entry706978656C732D7363726F6C6C2D7570">pixels-scroll-up</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.scroll.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706978656C732D7363726F6C6C2D7570-src-lib-graphics-scroll-fs"><a id="entry706978656C732D7363726F6C6C2D7570"></a>pixels-scroll-up</h3>
<div class="listingblock">
<div class="content">
<pre>pixels-scroll-up ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Scroll the whole screen <em>u</em> pixels up.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706978656C2D7363726F6C6C2D7570">pixel-scroll-up</a></code>, <code><a href="#entry706978656C732D70616E2D7269676874">pixels-pan-right</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.scroll.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706C616365-src-kernel-z80s"><a id="entry706C616365"></a>place</h3>
<div class="listingblock">
<div class="content">
<pre>place ( ca1 len1 ca2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the string <em>ca1 len1</em> as a counted string at <em>ca2</em>.  The
source and destination strings are permitted to overlap.</p>
</div>
<div class="paragraph">
<p>An ambiguous condition exists if <em>len1</em> is greater than 255 or
the buffer at <em>ca2</em> is less than <em>len1</em>+1 characters.</p>
</div>
<div class="paragraph">
<p><code>place</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: place ( ca1 len1 ca2 -- ) 2dup c! char+ smove ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B706C616365">+place</a></code>, <code><a href="#entry736D6F7665">smove</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706C6179-src-lib-sound-128-fs"><a id="entry706C6179"></a>play</h3>
<div class="listingblock">
<div class="content">
<pre>play ( ca -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Play a 14-byte sound definition stored at <em>ca</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736F756E642C">sound,</a></code>, <code><a href="#entry736F756E64">sound</a></code>, <code><a href="#entry21736F756E64">!sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706C6F74-src-lib-graphics-pixels-fs"><a id="entry706C6F74"></a>plot</h3>
<div class="listingblock">
<div class="content">
<pre>plot ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set a pixel, changing its attribute on the screen and the
current graphic coordinates.  <em>gx</em> is 0..255; <em>gy</em> is
0..191.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry706C6F74313736">plot176</a></code>, <code><a href="#entry78793E677879">xy&gt;gxy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706C6F74313736-src-lib-graphics-pixels-fs"><a id="entry706C6F74313736"></a>plot176</h3>
<div class="listingblock">
<div class="content">
<pre>plot176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set a pixel, changing its attribute on the screen and the
current graphic coordinates, using only the top 176 pixel
rows of the screen (the lower 16 pixel rows are not used).
<em>gx</em> is 0..255; <em>gy</em> is 0..175.</p>
</div>
<div class="paragraph">
<p><code>plot176</code> is equivalent to Sinclair BASIC&#8217;s <code>PLOT</code>
command.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If parameters are out of range, the ROM will throw
a BASIC error, and the system will crash.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C313736">set-pixel176</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry78793E677879313736">xy&gt;gxy176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706F3F-src-lib-assembler-fs"><a id="entry706F3F"></a>po?</h3>
<div class="listingblock">
<div class="content">
<pre>po? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7A3F">z?</a></code>, <code><a href="#entry6E7A3F">nz?</a></code>, <code><a href="#entry633F">c?</a></code>, <code><a href="#entry6E633F">nc?</a></code>, <code><a href="#entry70653F">pe?</a></code>, <code><a href="#entry703F">p?</a></code>, <code><a href="#entry6D3F">m?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706F6C6172697479-src-lib-math-operators-1-cell-fs"><a id="entry706F6C6172697479"></a>polarity</h3>
<div class="listingblock">
<div class="content">
<pre>polarity ( n -- -1|0|1 )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is zero, return zero.
If <em>n</em> is negative, return negative one.
If <em>n</em> is positive, return positive one.</p>
</div>
<div class="paragraph">
<p><code>polarity</code> is written in Z80. This is an example
implementation in Forth:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: polarity ( n -- -1|0|1 )
  dup 0= ?exit  0&lt; ?dup ?exit  1 ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C3D3E">&lt;=&gt;</a></code>, <code><a href="#entry6E6567617465">negate</a></code>, <code><a href="#entry77697468696E">within</a></code>, <code><a href="#entry6265747765656E">between</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706F736974696F6E616C2D636173653A-src-lib-flow-positional-case-colon-fs"><a id="entry706F736974696F6E616C2D636173653A"></a>positional-case:</h3>
<div class="listingblock">
<div class="content">
<pre>positional-case: ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a positional case word <em>name</em>. At runtime, <em>name</em>
will execute the n-th word compiled in its definition,
depending upon the value on the stack. No range checking.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: say0 ( -- ) ." nul" ;
: say1 ( -- ) ." unu" ;
: say2 ( -- ) ." du" ;

positional-case: say ( n -- ) say0 say1 say2 ;

0 say cr 1 say cr 2 say cr</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.positional-case-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706F737369626C79-src-lib-compilation-fs"><a id="entry706F737369626C79"></a>possibly</h3>
<div class="listingblock">
<div class="content">
<pre>possibly ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  If <em>name</em> is the name of a word in the
current search order, execute it; else do nothing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry706F7374706F6E65-src-kernel-z80s"><a id="entry706F7374706F6E65"></a>postpone</h3>
<div class="listingblock">
<div class="content">
<pre>postpone ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Skip leading space delimiters. Parse name delimited by a
space. Find name. Append the compilation semantics of <em>name</em>
to the current definition.</p>
</div>
<div class="paragraph">
<p><code>postpone</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: postpone ( "name" -- )
  defined dup ?defined
  name&gt;immediate? 0= if compile compile then compile, ;
  immediate</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B636F6D70696C655D">[compile]</a></code>, <code><a href="#entry636F6D70696C65">compile</a></code>, <code><a href="#entry646566696E6564">defined</a></code>, <code><a href="#entry3F646566696E6564">?defined</a></code>,
<code><a href="#entry6E616D653E696D6D6564696174653F">name&gt;immediate?</a></code>, <code><a href="#entry636F6D70696C652C">compile,</a></code>, <code><a href="#entry306966">0if</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7072656669783F-src-lib-strings-MISC-fs"><a id="entry7072656669783F"></a>prefix?</h3>
<div class="listingblock">
<div class="content">
<pre>prefix? ( ca1 len1 ca2 len2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is string <em>ca2 len2</em> the prefix of string <em>ca1 len1</em>?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7375666669783F">suffix?</a></code>, <code><a href="#entry2D707265666978">-prefix</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70726573736564-src-lib-keyboard-MISC-fs"><a id="entry70726573736564"></a>pressed</h3>
<div class="listingblock">
<div class="content">
<pre>pressed ( -- false | bitmask port true )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the key identifier of the first key from the keys
table that happens to be pressed.  <em>bitmask</em> is the key
bitmask and <em>port</em> is the keyboard row port.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6B6B2D706F727473">kk-ports</a></code>, <code><a href="#entry6F6E6C792D6F6E652D70726573736564">only-one-pressed</a></code>, <code><a href="#entry707265737365643F">pressed?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry707265737365643F-src-lib-keyboard-MISC-fs"><a id="entry707265737365643F"></a>pressed?</h3>
<div class="listingblock">
<div class="content">
<pre>pressed? ( bitmask port -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is a key pressed?  <em>bitmask</em> is the key bitmask and <em>port</em>
is the keyboard row port.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70726573736564">pressed</a></code>, <code><a href="#entry6F6E6C792D6F6E652D70726573736564">only-one-pressed</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70726576696F7573-src-kernel-z80s"><a id="entry70726576696F7573"></a>previous</h3>
<div class="listingblock">
<div class="content">
<pre>previous ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove the top word list (the word list that is searched
first) from the search order.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: previous ( -- ) get-order nip 1- set-order ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH EXT), Forth-2012 (SEARCH EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E6F72646572">&gt;order</a></code>, <code><a href="#entry6765742D6F72646572">get-order</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70726576696F75732D6D6F6465-src-kernel-z80s"><a id="entry70726576696F75732D6D6F6465"></a>previous-mode</h3>
<div class="listingblock">
<div class="content">
<pre>previous-mode ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Variable that holds the xt of the word that activates the
screen mode that was active before executing <code><a href="#entry627965">bye</a></code>.  It&#8217;s
updated by <code><a href="#entry627965">bye</a></code>, and used by <code><a href="#entry7761726D">warm</a></code> to restore the current
mode.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7072696E7461626C652D61736369692D636861723F-src-lib-chars-fs"><a id="entry7072696E7461626C652D61736369692D636861723F"></a>printable-ascii-char?</h3>
<div class="listingblock">
<div class="content">
<pre>printable-ascii-char? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is <em>c</em> a printable ASCII character, i.e. in the range
32..126?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E7072696E7461626C652D61736369692D63686172">&gt;printable-ascii-char</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/chars.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7072696E746572-src-lib-display-control-fs"><a id="entry7072696E746572"></a>printer</h3>
<div class="listingblock">
<div class="content">
<pre>printer ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Select the printer as output.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646973706C6179">display</a></code>, <code><a href="#entry7072696E74696E67">printing</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7072696E74696E67-src-kernel-z80s"><a id="entry7072696E74696E67"></a>printing</h3>
<div class="listingblock">
<div class="content">
<pre>printing ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the address of a cell containing the printer flag.
<code>printing</code> is set by <code><a href="#entry7072696E746572">printer</a></code>, reset by <code><a href="#entry646973706C6179">display</a></code> and
checked by <code><a href="#entry70616765">page</a></code>. <code>printing</code> should not be changed directly
by the application.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70726976617465-src-lib-modules-package-fs"><a id="entry70726976617465"></a>private</h3>
<div class="listingblock">
<div class="content">
<pre>private ( wid0 wid1 -- wid0 wid1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark subsequent definitions invisible outside the current
package. This is the default condition following the usage
of <code><a href="#entry7061636B616765">package</a></code>.</p>
</div>
<div class="paragraph">
<p><em>wid1</em> is the word list of the current package; <em>wid0</em>
is the word list in which the current package was created.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E642D7061636B616765">end-package</a></code>, <code><a href="#entry7075626C6963">public</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.package.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry707269766174657B-src-lib-modules-privatize-fs"><a id="entry707269766174657B"></a>private{</h3>
<div class="listingblock">
<div class="content">
<pre>private{ ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start private definitions.  See <code><a href="#entry707269766174697A65">privatize</a></code> for a usage
example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.privatize.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry707269766174697A65-src-lib-modules-privatize-fs"><a id="entry707269766174697A65"></a>privatize</h3>
<div class="listingblock">
<div class="content">
<pre>privatize ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Hide all words defined between the latest valid pair of
<code><a href="#entry707269766174657B">private{</a></code> and <code><a href="#entry7D70726976617465">}private</a></code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>private{

\ Everything between `&lt;&lt;entry707269766174657B, pass:c[private{]&gt;&gt;` and `&lt;&lt;entry7D70726976617465, pass:c[}private]&gt;&gt;`
\ will become private.

: foo ;
: moo ;

}private

: goo   foo moo ;  \ can use `&lt;&lt;entry666F6F, pass:c[foo]&gt;&gt;` and `&lt;&lt;entry6D6F6F, pass:c[moo]&gt;&gt;`
privatize          \ hide `&lt;&lt;entry666F6F, pass:c[foo]&gt;&gt;` and `&lt;&lt;entry6D6F6F, pass:c[moo]&gt;&gt;`
' foo              \ will fail</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E7465726E616C">internal</a></code>, <code><a href="#entry69736F6C617465">isolate</a></code>, <code><a href="#entry6D6F64756C65">module</a></code>, <code><a href="#entry7061636B616765">package</a></code>,
<code><a href="#entry7365636C7573696F6E">seclusion</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.privatize.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7075626C6963-src-lib-modules-package-fs"><a id="entry7075626C6963"></a>public</h3>
<div class="listingblock">
<div class="content">
<pre>public ( wid0 wid1 -- wid0 wid1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark subsequent definitions available outside the current
package defined with <code><a href="#entry7061636B616765">package</a></code>.</p>
</div>
<div class="paragraph">
<p><em>wid1</em> is the word list of the current package; <em>wid0</em>
is the word list in which the current package was created.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656E642D7061636B616765">end-package</a></code>, <code><a href="#entry70726976617465">private</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.package.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7075736861-src-kernel-z80s"><a id="entry7075736861"></a>pusha</h3>
<div class="listingblock">
<div class="content">
<pre>pusha ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a secondary entry point of the Forth
inner interpreter.  The code at <em>a</em> pushes the A register onto
the stack and then continues at the address returned by
<code><a href="#entry6E657874">next</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70757368686C">pushhl</a></code>, <code><a href="#entry70757368686C6465">pushhlde</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70757368646F73696F72-src-kernel-plus3dos-z80s"><a id="entry70757368646F73696F72"></a>pushdosior</h3>
<div class="listingblock">
<div class="content">
<pre>pushdosior ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of an entry point to the Forth inner interpreter.
This entry point is jumped to at the end of a code word, in order
to convert a <em>dosior</em> into a <em>ior</em> and push it.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Input:
  A  = +3DOS error result (0..36)
Output (no error):
  TOS = zero
Output (error):
  TOS = Forth exception code (-1036..-1000)</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F73696F723E696F72">dosior&gt;ior</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70757368686C-src-kernel-z80s"><a id="entry70757368686C"></a>pushhl</h3>
<div class="listingblock">
<div class="content">
<pre>pushhl ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a secondary entry point of the Forth
inner interpreter.  The code at <em>a</em> pushes the HL register
onto the stack and then continues at the address returned by
<code><a href="#entry6E657874">next</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70757368686C6465">pushhlde</a></code>, <code><a href="#entry7075736861">pusha</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry70757368686C6465-src-kernel-z80s"><a id="entry70757368686C6465"></a>pushhlde</h3>
<div class="listingblock">
<div class="content">
<pre>pushhlde ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a secondary entry point of the Forth
inner interpreter.  The code at <em>a</em> pushes the DE and HL
registers onto the stack and then continues at the address
returned by <code><a href="#entry6E657874">next</a></code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
DE is pushed first, so HL is left on top of the stack.
This is equivalent to pushing the double number formed by both
registers, being HL the high part and DE the lower part.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70757368686C">pushhl</a></code>, <code><a href="#entry7075736861">pusha</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7078-src-lib-tool-list-blocks-fs"><a id="entry7078"></a>px</h3>
<div class="listingblock">
<div class="content">
<pre>px ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Give previous quick index, calculated from <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7178">qx</a></code>, <code><a href="#entry6E78">nx</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7175657279-src-kernel-z80s"><a id="entry7175657279"></a>query</h3>
<div class="listingblock">
<div class="content">
<pre>query ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the user input device the input source. Receive input
into the terminal input buffer, replacing any previous
contents. Make the result, whose address is returned by <code><a href="#entry746962">tib</a></code>,
the input buffer. Set <code><a href="#entry3E696E">&gt;in</a></code> to zero.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT, obsolescent).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry71756974-src-kernel-z80s"><a id="entry71756974"></a>quit</h3>
<div class="listingblock">
<div class="content">
<pre>quit ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7178-src-lib-tool-list-blocks-fs"><a id="entry7178"></a>qx</h3>
<div class="listingblock">
<div class="content">
<pre>qx ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Give a quick index. The number and width of the columns
depend on the current screen mode. The current block,
stored in <code><a href="#entry736372">scr</a></code>, is highlighted.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth&#8217;s <code>blocked</code> editor.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E78">nx</a></code>, <code><a href="#entry7078">px</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry71782D626F756E6473-src-lib-tool-list-blocks-fs"><a id="entry71782D626F756E6473"></a>qx-bounds</h3>
<div class="listingblock">
<div class="content">
<pre>qx-bounds ( -- u1 u2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Blocks to be included in the quick index, from block <em>u2</em>
to block <em>u1-1</em>. They depend on <code><a href="#entry736372">scr</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7178">qx</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry71782D636F6C756D6E73-src-lib-tool-list-blocks-fs"><a id="entry71782D636F6C756D6E73"></a>qx-columns</h3>
<div class="listingblock">
<div class="content">
<pre>qx-columns ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the number of columns (2..4) of the quick index. It
depends on the columns (32, 42, 64&#8230;&#8203;) of the current
screen mode.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7178">qx</a></code>, <code><a href="#entry2F71782D636F6C756D6E">/qx-column</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72-src-lib-editor-specforth-fs"><a id="entry72"></a>r</h3>
<div class="listingblock">
<div class="content">
<pre>r ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Replace line <em>n</em> with text in <code><a href="#entry706164">pad</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7223-src-lib-editor-COMMON-fs"><a id="entry7223"></a>r#</h3>
<div class="listingblock">
<div class="content">
<pre>r# ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds the location of the editing cursor,
an offset from the top of the current block. Its default
value is zero.</p>
</div>
<div class="paragraph">
<p>Origin: fig&#8217;Forth&#8217;s user variable <code><a href="#entry7223">r#</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry722740-src-lib-return_stack-fs"><a id="entry722740"></a>r'@</h3>
<div class="listingblock">
<div class="content">
<pre>r'@ ( -- x1 ) ( R: x1 x2 -- x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/return_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry723E-src-kernel-z80s"><a id="entry723E"></a>r&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>r&gt; ( -- x ) ( R: x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E72">&gt;r</a></code>, <code><a href="#entry7240">r@</a></code>, <code><a href="#entry32723E">2r&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry723E7879-src-lib-display-cursor-fs"><a id="entry723E7879"></a>r&gt;xy</h3>
<div class="listingblock">
<div class="content">
<pre>r&gt;xy ( -- ) ( R: col row -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Restore the current cursor coordinates from the return
stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E72">xy&gt;r</a></code>, <code><a href="#entry726573746F72652D6D6F6465">restore-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7240-src-kernel-z80s"><a id="entry7240"></a>r@</h3>
<div class="listingblock">
<div class="content">
<pre>r@ ( -- x ) ( R: x -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>See also. <code><a href="#entry3E72">&gt;r</a></code>, <code><a href="#entry723E">r&gt;</a></code>, <code><a href="#entry7264726F70">rdrop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72616D-src-kernel-z80s"><a id="entry72616D"></a>ram</h3>
<div class="listingblock">
<div class="content">
<pre>ram ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the total RAM size <em>n</em> in kibibytes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The RAM size includes the 8 KiB of the Plus D interface,
if present.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62616E6B73">banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72616E646F6D-src-lib-random-fs"><a id="entry72616E646F6D"></a>random</h3>
<div class="listingblock">
<div class="content">
<pre>random ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random number <em>n2</em> from 0 to <em>n1</em> minus 1.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726E64">rnd</a></code>, <code><a href="#entry72616E646F6D2D72616E6765">random-range</a></code>, <code><a href="#entry666173742D72616E646F6D">fast-random</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72616E646F6D2D72616E6765-src-lib-random-fs"><a id="entry72616E646F6D2D72616E6765"></a>random-range</h3>
<div class="listingblock">
<div class="content">
<pre>random-range ( n1 n2 -- n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random number from <em>n1</em> (min) to <em>n2</em> (max).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72616E646F6D">random</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72616E646F6D697A65-src-lib-random-fs"><a id="entry72616E646F6D697A65"></a>randomize</h3>
<div class="listingblock">
<div class="content">
<pre>randomize ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the seed used by <code><a href="#entry666173742D726E64">fast-rnd</a></code> and <code><a href="#entry666173742D72616E646F6D">fast-random</a></code> to <em>n</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72616E646F6D697A6530">randomize0</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72616E646F6D697A6530-src-lib-random-fs"><a id="entry72616E646F6D697A6530"></a>randomize0</h3>
<div class="listingblock">
<div class="content">
<pre>randomize0 ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the seed used by <code><a href="#entry666173742D726E64">fast-rnd</a></code> and <code><a href="#entry666173742D72616E646F6D">fast-random</a></code> to <em>n</em>;
if <em>n</em> is zero use the system frames counter instead.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72616E646F6D697A65">randomize</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726465707468-src-lib-return_stack-fs"><a id="entry726465707468"></a>rdepth</h3>
<div class="listingblock">
<div class="content">
<pre>rdepth ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/return_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7264726177313736-src-lib-graphics-lines-fs"><a id="entry7264726177313736"></a>rdraw176</h3>
<div class="listingblock">
<div class="content">
<pre>rdraw176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Draw a line relative <em>gx gy</em> to the current coordinates,
using only the top 176 pixel rows of the screen (the lower
16 pixel rows are not used). <em>gx</em> is 0..255; <em>gy</em> is
0..175.</p>
</div>
<div class="paragraph">
<p><code>rdraw176</code> is equivalent to Sinclair BASIC&#8217;s <code>DRAW</code>
command.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6164726177313736">adraw176</a></code>, <code><a href="#entry7264726177">rdraw</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7264726F70-src-kernel-z80s"><a id="entry7264726F70"></a>rdrop</h3>
<div class="listingblock">
<div class="content">
<pre>rdrop ( R: x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7240">r@</a></code>, <code><a href="#entry64726F70">drop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726561642D626C6F636B-src-kernel-z80s"><a id="entry726561642D626C6F636B"></a>read-block</h3>
<div class="listingblock">
<div class="content">
<pre>read-block ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Read disk block <em>u</em> to the buffer.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: read-block ( u -- ) read-mode transfer-block ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726561642D6D6F6465">read-mode</a></code>, <code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>, <code><a href="#entry77726974652D626C6F636B">write-block</a></code>,
<code><a href="#entry626C6F636B">block</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726561642D6D6F6465-src-kernel-plus3dos-z80s"><a id="entry726561642D6D6F6465"></a>read-mode</h3>
<div class="listingblock">
<div class="content">
<pre>read-mode ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the read mode for <code><a href="#entry7472616E736665722D736563746F72">transfer-sector</a></code> and <code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry77726974652D6D6F6465">write-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7265616C696173-src-lib-define-alias-fs"><a id="entry7265616C696173"></a>realias</h3>
<div class="listingblock">
<div class="content">
<pre>realias ( xt "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the alias <em>name</em> to execute <em>xt</em>.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry616C696173">alias</a></code>, <code><a href="#entry616C69617321">alias!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.alias.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72656375727365-src-lib-flow-MISC-fs"><a id="entry72656375727365"></a>recurse</h3>
<div class="listingblock">
<div class="content">
<pre>recurse ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Append the execution semantics of the current definition to
the current definition.</p>
</div>
<div class="paragraph">
<p><code>recurse</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Controlled Reference Words), Forth-94
(CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726564-src-lib-display-attributes-fs"><a id="entry726564"></a>red</h3>
<div class="listingblock">
<div class="content">
<pre>red ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 2, the value that represents the
red color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry6D6167656E7461">magenta</a></code>, <code><a href="#entry677265656E">green</a></code>, <code><a href="#entry6379616E">cyan</a></code>,
<code><a href="#entry79656C6C6F77">yellow</a></code>, <code><a href="#entry7768697465">white</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7265662D78646270-src-kernel-plus3dos-z80s"><a id="entry7265662D78646270"></a>ref-xdbp</h3>
<div class="listingblock">
<div class="content">
<pre>ref-xdbp ( c -- a ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> of the XDPB of drive <em>c</em> ('A'..'P').</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726566696C6C-src-kernel-z80s"><a id="entry726566696C6C"></a>refill</h3>
<div class="listingblock">
<div class="content">
<pre>refill ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: refill ( -- f )
  loading? if  blk @ 1+ dup block&gt;source block? exit  then
  false source-id ?exit 0= query ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT, BLOCK EXT); Forth-2012 (CORE EXT,
BLOCK EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72656C6F6164-src-lib-blocks-fs"><a id="entry72656C6F6164"></a>reload</h3>
<div class="listingblock">
<div class="content">
<pre>reload ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load the most recently loaded block.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6164">load</a></code>, <code><a href="#entry6C617374626C6B">lastblk</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72656E616D652D66696C65-src-lib-dos-plus3dos-fs"><a id="entry72656E616D652D66696C65"></a>rename-file</h3>
<div class="listingblock">
<div class="content">
<pre>rename-file ( ca1 len1 ca2 len2 -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Rename the file named by the character string <em>ca1 len1</em> to
the name in the character string <em>ca2 len2</em> and return
error result <em>ior</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FILE EXT), Forth-2012 (FILE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2872656E616D652D66696C65">(rename-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72656E656564-src-lib-002-need-fs"><a id="entry72656E656564"></a>reneed</h3>
<div class="listingblock">
<div class="content">
<pre>reneed ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load the first block whose header contains <em>name</em>
(surrounded by spaces).</p>
</div>
<div class="paragraph">
<p>This is a deferred word whose default action is
<code><a href="#entry6C6F636174652D72656E656564">locate-reneed</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72656E6565646564-src-lib-002-need-fs"><a id="entry72656E6565646564"></a>reneeded</h3>
<div class="listingblock">
<div class="content">
<pre>reneeded ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load the first block whose header contains the string <em>ca
len</em> (surrounded by spaces).  If not found, throw an
exception #-268 ("needed, but not located").</p>
</div>
<div class="paragraph">
<p>This is a deferred word whose default action is
<code><a href="#entry6C6F636174652D72656E6565646564">locate-reneeded</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726570656174-src-kernel-z80s"><a id="entry726570656174"></a>repeat</h3>
<div class="listingblock">
<div class="content">
<pre>repeat</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Compilation: ( orig dest -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile <code><a href="#entry6272616E6368">branch</a></code> to jump back to <code><a href="#entry626567696E">begin</a></code>.  Resolve also  the
branching offset required by <code><a href="#entry7768696C65">while</a></code>.</p>
</div>
<div class="paragraph">
<p><code>repeat</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7265706C61636573-src-lib-strings-replaces-fs"><a id="entry7265706C61636573"></a>replaces</h3>
<div class="listingblock">
<div class="content">
<pre>replaces ( ca1 len1 ca2 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the string <em>ca1 len1</em> as the text to substitute for the
substitution named by <em>ca2 len2</em>. If the substitution does
not exist it is created. The  program may then reuse the
buffer <em>ca1 len1</em> without affecting the definition  of the
substitution.</p>
</div>
<div class="paragraph">
<p>The name of a substitution should not contain the "%"
delimiter character.</p>
</div>
<div class="paragraph">
<p><code>replaces</code> allots data space and creates a definition.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (STRING EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry73756273746974757465">substitute</a></code>, <code><a href="#entry756E657363617065">unescape</a></code>, <code><a href="#entry737562737469747574696F6E">substitution</a></code>,
<code><a href="#entry66696E642D737562737469747574696F6E">find-substitution</a></code>, <code><a href="#entry737562737469747574652D776F72646C697374">substitute-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.replaces.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7265706F736974696F6E2D66696C65-src-lib-dos-plus3dos-fs"><a id="entry7265706F736974696F6E2D66696C65"></a>reposition-file</h3>
<div class="listingblock">
<div class="content">
<pre>reposition-file ( ud fid -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Reposition the file identified by <em>fid</em> to <em>ud</em> and return
error result <em>ior</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FILE), Forth-2012 (FILE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66696C652D706F736974696F6E">file-position</a></code>, <code><a href="#entry6F70656E2D66696C65">open-file</a></code>, <code><a href="#entry6372656174652D66696C65">create-file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657365727665-src-lib-memory-MISC-fs"><a id="entry72657365727665"></a>reserve</h3>
<div class="listingblock">
<div class="content">
<pre>reserve ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Reserve <em>n</em> address units of data space, erase the zone and
return its address <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657365742D626974-src-lib-memory-MISC-fs"><a id="entry72657365742D626974"></a>reset-bit</h3>
<div class="listingblock">
<div class="content">
<pre>reset-bit ( b1 n -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Reset bit <em>n</em> of <em>b1</em>, returning the result <em>b2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6269743F">bit?</a></code>, <code><a href="#entry7365742D626974">set-bit</a></code>, <code><a href="#entry6269743E6D61736B">bit&gt;mask</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657365742D6672616D6573-src-lib-time-fs"><a id="entry72657365742D6672616D6573"></a>reset-frames</h3>
<div class="listingblock">
<div class="content">
<pre>reset-frames ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reset the system frames counter, which is incremented every
20 ms by the OS, setting it to zero.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry6672616D657340">frames@</a></code>, <code><a href="#entry6672616D657321">frames!</a></code>, <code><a href="#entry6F732D6672616D6573">os-frames</a></code>, <code><a href="#entry62656E63687B">bench{</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657365742D706978656C-src-lib-graphics-pixels-fs"><a id="entry72657365742D706978656C"></a>reset-pixel</h3>
<div class="listingblock">
<div class="content">
<pre>reset-pixel ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reset a pixel without changing its attribute on the screen
or the current graphic coordinates.  <em>gx</em> is 0..255; <em>gy</em>
is 0..191.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry746F67676C652D706978656C">toggle-pixel</a></code>, <code><a href="#entry72657365742D706978656C313736">reset-pixel176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657365742D706978656C313736-src-lib-graphics-pixels-fs"><a id="entry72657365742D706978656C313736"></a>reset-pixel176</h3>
<div class="listingblock">
<div class="content">
<pre>reset-pixel176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reset a pixel without its attribute on the screen or the
current graphic coordinates, and using only the top 176
pixel rows of the screen (the lower 16 pixel rows are not
used).  <em>gx</em> is 0..255; <em>gy</em> is 0..175.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C313736">set-pixel176</a></code>, <code><a href="#entry746F67676C652D706978656C313736">toggle-pixel176</a></code>, <code><a href="#entry72657365742D706978656C">reset-pixel</a></code>,
<code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry746F67676C652D706978656C">toggle-pixel</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry706C6F74313736">plot176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657365742D74696D65-src-lib-time-fs"><a id="entry72657365742D74696D65"></a>reset-time</h3>
<div class="listingblock">
<div class="content">
<pre>reset-time ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reset the current time to 00:00:00.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D74696D65">get-time</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726573697A65-src-lib-memory-allocate-COMMON-fs"><a id="entry726573697A65"></a>resize</h3>
<div class="listingblock">
<div class="content">
<pre>resize ( a1 -- a2 ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the allocation of the contiguous data space starting
at the address <em>a1</em>, previously allocated  by <code><a href="#entry616C6C6F63617465">allocate</a></code> or
<code>resize</code>, to <em>u</em> address units. <em>u</em> may be either larger
or smaller than the current size of the region. The
data-space pointer is unaffected by this operation.</p>
</div>
<div class="paragraph">
<p>If the operation succeeds, <em>a2</em> is  the aligned starting
address of <em>u</em> address units of allocated  memory and <em>ior</em>
is zero.  <em>a2</em> may be,  but need not be,  the same as <em>a1</em>.
If they are  not the same,  the values contained in the
region at <em>a1</em> are copied to <em>a2</em>, up to the minimum size
of either of  the two regions. If they are the same, the
values contained in the region are preserved to the minimum
of <em>u</em> or the original size. If <em>a2</em> is not the same as
<em>a1</em>, the region of memory at <em>a1</em> is returned to the
system according to the operation of <code><a href="#entry66726565">free</a></code>.</p>
</div>
<div class="paragraph">
<p>If the operation fails, <em>a2</em> equals <em>a1</em>, the region of
memory at <em>a1</em> is unaffected, and  ior is the
implementation-defined I/O result code.</p>
</div>
<div class="paragraph">
<p><code>resize</code> is a deferred word whose action can be
<code><a href="#entry636861726C746F6E2D726573697A65">charlton-resize</a></code>, depending on the <code><a href="#entry68656170">heap</a></code> implementation
used by the application.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (MEMORY), Forth-2012 (MEMORY).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C6C6F63617465">allocate</a></code>, <code><a href="#entry66726565">free</a></code>, <code><a href="#entry656D7074792D68656170">empty-heap</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726573746F72652D6D6F6465-src-kernel-z80s"><a id="entry726573746F72652D6D6F6465"></a>restore-mode</h3>
<div class="listingblock">
<div class="content">
<pre>restore-mode ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Restore the screen mode that was saved in <code><a href="#entry70726576696F75732D6D6F6465">previous-mode</a></code> by
<code><a href="#entry736176652D6D6F6465">save-mode</a></code>.</p>
</div>
<div class="paragraph">
<p><code>restore-mode</code> is executed by <code><a href="#entry7761726D">warm</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: restore-mode ( -- ) previous-mode perform ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63757272656E742D6D6F6465">current-mode</a></code>, <code><a href="#entry706572666F726D">perform</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726573756C7473-src-lib-locals-arguments-fs"><a id="entry726573756C7473"></a>results</h3>
<div class="listingblock">
<div class="content">
<pre>results ( +n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define the number <em>+n</em> of local variables to leave on the
stack as results. Used with locals created by <code><a href="#entry617267756D656E7473">arguments</a></code>.</p>
</div>
<div class="paragraph">
<p><code>results</code> is a <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.arguments.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7265747279-src-lib-flow-MISC-fs"><a id="entry7265747279"></a>retry</h3>
<div class="listingblock">
<div class="content">
<pre>retry ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Do an unconditional branch to the start of the word.</p>
</div>
<div class="paragraph">
<p><code>retry</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F7265747279">?retry</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657475726E2D737461636B2D63656C6C73-src-lib-environment-question-fs"><a id="entry72657475726E2D737461636B2D63656C6C73"></a>return-stack-cells</h3>
<div class="listingblock">
<div class="content">
<pre>return-stack-cells ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the maximum size of the return stack, in cells.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72657475726E2D737461636B2D63656C6C73">return-stack-cells</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657475726E2D737461636B2D63656C6C73-src-lib-environment-question-fs">return-stack-cells</h3>
<div class="listingblock">
<div class="content">
<pre>return-stack-cells ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the maximum size of the data stack, in cells.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry737461636B2D63656C6C73">stack-cells</a></code>, <code><a href="#entry656E7669726F6E6D656E743F">environment?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/environment-question.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657665616C-src-kernel-z80s"><a id="entry72657665616C"></a>reveal</h3>
<div class="listingblock">
<div class="content">
<pre>reveal ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reveal the <code><a href="#entry6C6174657374">latest</a></code> definition by resetting its <code><a href="#entry736D75646765">smudge</a></code> bit.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72657665616C6564">revealed</a></code>, <code><a href="#entry68696465">hide</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72657665616C6564-src-kernel-z80s"><a id="entry72657665616C6564"></a>revealed</h3>
<div class="listingblock">
<div class="content">
<pre>revealed ( nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Reveal the definition <em>nt</em> by resetting its <code><a href="#entry736D75646765">smudge</a></code> bit.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72657665616C">reveal</a></code>, <code><a href="#entry68696464656E">hidden</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726C23-src-lib-assembler-labels-fs"><a id="entry726C23"></a>rl#</h3>
<div class="listingblock">
<div class="content">
<pre>rl#  ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a relative reference to assembler label number <em>n</em>,
defined by <code><a href="#entry6C3A">l:</a></code>.  If label <em>n</em> is already defined, <em>a</em> is
its value. Otherwise <em>a</em> is a temporary address just to be
consumed by the relative jump instruction, and the actual
address will be resolved after the label has been defined
by <code><a href="#entry6C3A">l:</a></code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>code my-code ( -- )
  #2 rl# jr, \ a relative jump to label #2
  nop,
  #2 l:      \ definition of label #2
  ret,
end-code</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<code>rl#</code> is used before the Z80 command, while its
counterpart <code><a href="#entry616C23">al#</a></code> is used after the Z80 command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726C2D6964-src-lib-assembler-labels-fs"><a id="entry726C2D6964"></a>rl-id</h3>
<div class="listingblock">
<div class="content">
<pre>rl-id ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Identifier of relative references created by <code><a href="#entry726C23">rl#</a></code>.
<code>rl-id</code> is used as a bitmask added to the label number
stored in <code><a href="#entry6C2D72656673">l-refs</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C2D6964">al-id</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.labels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726E64-src-lib-random-fs"><a id="entry726E64"></a>rnd</h3>
<div class="listingblock">
<div class="content">
<pre>rnd ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a random number <em>u</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry72616E646F6D">random</a></code>, <code><a href="#entry72616E646F6D2D72616E6765">random-range</a></code>, <code><a href="#entry666173742D726E64">fast-rnd</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/random.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726F6C6C-src-lib-data_stack-fs"><a id="entry726F6C6C"></a>roll</h3>
<div class="listingblock">
<div class="content">
<pre>roll ( xu xn .. x0 u -- xn .. x0 xu )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7069636B">pick</a></code>, <code><a href="#entry726F74">rot</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726F6D2D666F6E74-src-lib-display-fonts-fs"><a id="entry726F6D2D666F6E74"></a>rom-font</h3>
<div class="listingblock">
<div class="content">
<pre>rom-font ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that holds the address <em>a</em> of the ROM font,
which is 15360 ($3C00), the bitmap address of character 0,
256 bytes below the bitmap of the space (character 32),
which is the first printable character. This is the default
hold in <code><a href="#entry6F732D6368617273">os-chars</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry64656661756C742D666F6E74">default-font</a></code>, <code><a href="#entry7365742D666F6E74">set-font</a></code>, <code><a href="#entry6765742D666F6E74">get-font</a></code>,
<code><a href="#entry6F75746C65742D6175746F6368617273">outlet-autochars</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.fonts.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726F6F74-src-kernel-z80s"><a id="entry726F6F74"></a>root</h3>
<div class="listingblock">
<div class="content">
<pre>root ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Transform the search  order consisting of  <em>wid[n]..wid[2]
wid[1]</em> (where <em>wid[1]</em>  is searched first)  into
<em>wid[n]..wid[2] wid[<code><a href="#entry726F6F742D776F72646C697374">root-wordlist</a></code>]</em>, i.e. replace the top
word list of the search order with <code><a href="#entry726F6F742D776F72646C697374">root-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p><code>root</code> is the vocabulary corresponding to <code><a href="#entry726F6F742D776F72646C697374">root-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666F727468">forth</a></code>, <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry766F636162756C617279">vocabulary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726F6F742D776F72646C697374-src-kernel-z80s"><a id="entry726F6F742D776F72646C697374"></a>root-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>root-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Return <em>wid</em>, the identifier of the word list that includes
the words defined in the minimum search order. The words
defined in the word list identified by <code>root-wordlist</code> are
aliases of the definitions in <code><a href="#entry666F7274682D776F72646C697374">forth-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F6E6C79">only</a></code>, <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>,
<code><a href="#entry617373656D626C65722D776F72646C697374">assembler-wordlist</a></code>, <code><a href="#entry616C696173">alias</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726F74-src-kernel-z80s"><a id="entry726F74"></a>rot</h3>
<div class="listingblock">
<div class="content">
<pre>rot ( x1 x2 x3 -- x2 x3 x1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726F77-src-lib-display-cursor-fs"><a id="entry726F77"></a>row</h3>
<div class="listingblock">
<div class="content">
<pre>row ( -- row )</pre>
</div>
</div>
<div class="paragraph">
<p>Current row (y coordinate).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6C756D6E">column</a></code>, <code><a href="#entry6C6173742D726F77">last-row</a></code>, <code><a href="#entry726F7773">rows</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry726F7773-src-lib-display-mode-COMMON-fs"><a id="entry726F7773"></a>rows</h3>
<div class="listingblock">
<div class="content">
<pre>rows ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number of rows in the current screen mode.  The
default value is 24.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6C756D6E73">columns</a></code>, <code><a href="#entry6C6173742D726F77">last-row</a></code>, <code><a href="#entry726F77">row</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.mode.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7270-src-kernel-z80s"><a id="entry7270"></a>rp</h3>
<div class="listingblock">
<div class="content">
<pre>rp ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the return stack pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry727021-src-kernel-z80s"><a id="entry727021"></a>rp!</h3>
<div class="listingblock">
<div class="content">
<pre>rp! ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>a</em> into the return stack pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry727030-src-kernel-z80s"><a id="entry727030"></a>rp0</h3>
<div class="listingblock">
<div class="content">
<pre>rp0 ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the address of the bottom of the
return stack.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>r0</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry727040-src-kernel-z80s"><a id="entry727040"></a>rp@</h3>
<div class="listingblock">
<div class="content">
<pre>rp@ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the content of the return stack pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry727368696674-src-lib-math-operators-1-cell-fs"><a id="entry727368696674"></a>rshift</h3>
<div class="listingblock">
<div class="content">
<pre>rshift ( x1 u -- x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Perform a logical right shift of <em>u</em> bit-places on <em>x</em>,
giving <em>x2</em>. Put zeroes into the most significant  bits
vacated by the shift.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C7368696674">lshift</a></code>, <code><a href="#entry3F7368696674">?shift</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72756C6572-src-lib-strings-MISC-fs"><a id="entry72756C6572"></a>ruler</h3>
<div class="listingblock">
<div class="content">
<pre>ruler ( c len -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a string <em>ca len</em> of characters <em>c</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63686172733E737472696E67">chars&gt;string</a></code>, <code><a href="#entry636861723E737472696E67">char&gt;string</a></code>, <code><a href="#entry732B">s+</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72756E3A-src-lib-flow-bracket-switch-fs"><a id="entry72756E3A"></a>run:</h3>
<div class="listingblock">
<div class="content">
<pre>run: ( head n "ccc&lt;semicolon&gt;" -- head )</pre>
</div>
</div>
<div class="paragraph">
<p>Add a clause to a switch structure <em>head</em>.  The key value
of the clause is <em>n</em> and its associated behavior is one or
more previously defined words, ending with <code><a href="#entry3B">;</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B737769746368">[switch</a></code>, <code><a href="#entry7377697463685D">switch]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry72756E73-src-lib-flow-bracket-switch-fs"><a id="entry72756E73"></a>runs</h3>
<div class="listingblock">
<div class="content">
<pre>runs ( head n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Add a clause to a switch structure <em>head</em>.  The key value
of the clause is <em>n</em> and its associated behavior is the
previously defined <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B737769746368">[switch</a></code>, <code><a href="#entry7377697463685D">switch]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73-src-lib-editor-specforth-fs"><a id="entry73"></a>s</h3>
<div class="listingblock">
<div class="content">
<pre>s ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Spread at line <em>n</em>. Line <em>n</em> and following lines are are
moved down one line. Line <em>n</em> becomes blank. Line 15 is
lost.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry74">t</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7322-src-kernel-z80s"><a id="entry7322"></a>s"</h3>
<div class="listingblock">
<div class="content">
<pre>s" ( Compilation: "ccc&lt;quote&gt;" -- )
   ( Interpretation: "ccc&lt;quote&gt;" -- ca len )
   ( Run-time:  -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p><code>s"</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: s" ( Compilation: "ccc&lt;quote&gt;" -- )
     ( Interpretation: "ccc&lt;quote&gt;" -- ca len )
     ( Run-time:  -- ca len )
  '"' parse-string  ; immediate</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry735C22">s\"</a></code>, <code><a href="#entry7327">s'</a></code>, <code><a href="#entry732222">s""</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry732222-src-lib-strings-MISC-fs"><a id="entry732222"></a>s""</h3>
<div class="listingblock">
<div class="content">
<pre>s"" ( -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Return an empty string in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7322">s"</a></code>, <code><a href="#entry735C22">s\"</a></code>, <code><a href="#entry7327">s'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7327-src-lib-strings-MISC-fs"><a id="entry7327"></a>s'</h3>
<div class="listingblock">
<div class="content">
<pre>s' ( Compilation: "ccc&lt;char&gt;" -- ) ( Run-time:  -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Identical to the standard word <code><a href="#entry7322">s"</a></code>, but using single
quote as delimiter. A simple alternative to <code><a href="#entry735C22">s\"</a></code> when only
double quotes are needed in a string.</p>
</div>
<div class="paragraph">
<p><code>s'</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry732B-src-lib-strings-MISC-fs"><a id="entry732B"></a>s+</h3>
<div class="listingblock">
<div class="content">
<pre>s+ ( ca1 len1 ca2 len2 -- ca3 len3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Append the string <em>ca2 len2</em> to the end of string <em>ca1
len1</em> returning the string <em>ca3 len3</em> in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F737472696E67">/string</a></code>, <code><a href="#entry737472696E672F">string/</a></code>, <code><a href="#entry6C656E67746873">lengths</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry732C-src-kernel-z80s"><a id="entry732C"></a>s,</h3>
<div class="listingblock">
<div class="content">
<pre>s, ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile a string.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: s, ( ca len -- ) dup c, tuck here swap cmove allot ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry733E64-src-kernel-z80s"><a id="entry733E64"></a>s&gt;d</h3>
<div class="listingblock">
<div class="content">
<pre>s&gt;d ( n -- d )</pre>
</div>
</div>
<div class="paragraph">
<p>Sign extend a single number <em>n</em> to form a double number <em>d</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: s&gt;d ( n -- d )
  dup 0&lt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>s&#8594;d</code>, Forth-94 (CORE), Forth-2012
(CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry643E73">d&gt;s</a></code>, <code><a href="#entry753E7564">u&gt;ud</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry735C22-src-lib-strings-escaped-fs"><a id="entry735C22"></a>s\"</h3>
<div class="listingblock">
<div class="content">
<pre>s\" ( Compilation: "ccc&lt;quote&gt;" -- )
     ( Interpretation: "ccc&lt;quote&gt;" -- ca len )
     ( Run-time: -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Note: When <code>s\"</code> is loaded, <code><a href="#entry6573632D7374616E646172642D63686172732D776F72646C697374">esc-standard-chars-wordlist</a></code>
is set as the only word list in <code><a href="#entry6573632D6F72646572">esc-order</a></code>. That is the
standard behaviour. Alternative escaped chars can be
configured with <code><a href="#entry6573632D626C6F636B2D63686172732D776F72646C697374">esc-block-chars-wordlist</a></code> and
<code><a href="#entry6573632D7564672D63686172732D776F72646C697374">esc-udg-chars-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p><code>s\"</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (CORE EXT, FILE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70617273652D6573632D737472696E67">parse-esc-string</a></code>, <code><a href="#entry7365742D6573632D6F72646572">set-esc-order</a></code>, <code><a href="#entry2E5C22">.\"</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.escaped.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736176652D62756666657273-src-kernel-z80s"><a id="entry736176652D62756666657273"></a>save-buffers</h3>
<div class="listingblock">
<div class="content">
<pre>save-buffers ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If the disk buffer has been modified, transfer its contents to
disk and mark it as unmodified.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: save-buffers ( -- )
  updated? 0= ?exit
  buffer-block dup write-block disk-buffer ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required Word
Set), Forth-94 (BLOCK), Forth-2012 (BLOCK).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry656D7074792D62756666657273">empty-buffers</a></code>, <code><a href="#entry666C757368">flush</a></code>, <code><a href="#entry626C6F636B">block</a></code>, <code><a href="#entry627566666572">buffer</a></code>,
<code><a href="#entry6275666665722D626C6F636B">buffer-block</a></code>, <code><a href="#entry6469736B2D627566666572">disk-buffer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736176652D6D6F6465-src-kernel-z80s"><a id="entry736176652D6D6F6465"></a>save-mode</h3>
<div class="listingblock">
<div class="content">
<pre>save-mode ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the current screen mode into <code><a href="#entry70726576696F75732D6D6F6465">previous-mode</a></code>.</p>
</div>
<div class="paragraph">
<p><code>save-mode</code> is executed by <code><a href="#entry627965">bye</a></code> before setting the default
screen mode.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: save-mode ( -- ) current-mode @ previous-mode ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726573746F72652D6D6F6465">restore-mode</a></code>, <code><a href="#entry63757272656E742D6D6F6465">current-mode</a></code>, <code><a href="#entry70726576696F75732D6D6F6465">previous-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7363616E-src-kernel-z80s"><a id="entry7363616E"></a>scan</h3>
<div class="listingblock">
<div class="content">
<pre>scan ( ca1 len1 c -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Scan the string <em>ca1 len1</em> for the first occurence of
character <em>c</em>.  Leave match address <em>ca2</em> and length remaining
<em>len2</em>.  If no match occurred then <em>len2</em> is zero and <em>ca2</em> is
<em>ca1+len1</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73636F6E7374616E74-src-lib-strings-MISC-fs"><a id="entry73636F6E7374616E74"></a>sconstant</h3>
<div class="listingblock">
<div class="content">
<pre>sconstant ( ca len "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a string constant <em>name</em> with value <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry73636F6E7374616E7473">sconstants</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73636F6E7374616E7473-src-lib-strings-MISC-fs"><a id="entry73636F6E7374616E7473"></a>sconstants</h3>
<div class="listingblock">
<div class="content">
<pre>sconstants ( 0 ca[n]..ca[1] "name" -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a table of string constants <em>name</em>, using counted
strings <em>ca[n]..ca[1]</em>, being <em>0</em> a mark for the last
string on the stack, and return the number <em>n</em> of compiled
strings.</p>
</div>
<div class="paragraph">
<p>When <em>name</em> is executed, it converts the index on the stack
(0..<em>n-1</em>) to the correspondent string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>0                \ end of strings
  here ," kvar"  \ string 4
  here ," tri"   \ string 3
  here ," du"    \ string 2
  here ," unu"   \ string 1
  here ," nul"   \ string 0
sconstants digitname
  constant digitnames

cr .( There are ) digitnames . .( digit names:)
0 digitname cr type
1 digitname cr type
2 digitname cr type
3 digitname cr type cr</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry73636F6E7374616E74">sconstant</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736372-src-kernel-z80s"><a id="entry736372"></a>scr</h3>
<div class="listingblock">
<div class="content">
<pre>scr ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the number of the block most recently
listed by <code><a href="#entry6C697374">list</a></code>. <code>scr</code> is used by the block editors.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Controlled Reference Words), Forth-94 (BLOCK EXT), Forth-2012
(BLOCK EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736372613E6174747261-src-lib-graphics-pixels-fs"><a id="entry736372613E6174747261"></a>scra&gt;attra</h3>
<div class="listingblock">
<div class="content">
<pre>scra&gt;attra ( a1 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert screen bitmap address <em>a1</em> to its correspondent
attribute address <em>a2</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365616C-src-lib-word_lists-fs"><a id="entry7365616C"></a>seal</h3>
<div class="listingblock">
<div class="content">
<pre>seal ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove all word lists from the search order other than the
word list that is currently on top of the search order.
I.e., change the search order such that only the word list
at the top of the search order will be searched.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F6E6C79">only</a></code>, <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry236F72646572">#order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736561726368-src-kernel-z80s"><a id="entry736561726368"></a>search</h3>
<div class="listingblock">
<div class="content">
<pre>search ( ca1 len1 ca2 len2 -- ca3 len3 f )</pre>
</div>
</div>
<div class="paragraph">
<p>Search the string <em>ca1 len1</em> for the string <em>ca2 len2</em>. If <em>f</em>
is true, a match was found at <em>ca3</em> with <em>len3</em> characters
remaining.  If <em>f</em> is false there was no match and <em>ca3 len3</em>
is <em>ca1 len1</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (STRING), Forth-2012 (STRING).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365617263682D776F72646C697374-src-lib-word_lists-fs"><a id="entry7365617263682D776F72646C697374"></a>search-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>search-wordlist ( ca len wid -- 0 | xt 1 | xt -1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Find the definition identified by the string <em>ca len</em> in
the word list identified by <em>wid</em>. If the definition is not
found, return zero. If the definition is found, return its
<em>xt</em> and one (1) if the definition is immediate, minus-one
(-1) otherwise.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH), Forth-2012 (SEARCH).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66696E642D6E616D65">find-name</a></code>, <code><a href="#entry66696E642D6E616D652D66726F6D">find-name-from</a></code>, <code><a href="#entry66696E642D6E616D652D696E">find-name-in</a></code>,
<code><a href="#entry66696E64">find</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365636C7573696F6E-src-lib-modules-MISC-fs"><a id="entry7365636C7573696F6E"></a>seclusion</h3>
<div class="listingblock">
<div class="content">
<pre>seclusion ( -- wid1 wid2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Start a seclusion module.  Private definitions follow.</p>
</div>
<div class="paragraph">
<p>Modules hide the internal implementation and leave visible
the words of the outer interface.</p>
</div>
<div class="paragraph">
<p><em>wid1</em> is the identifier of the compilation word list
before <code>seclusion</code> was executed. <em>wid2</em> is the identifier
of the word list where private definitions of the seclusion
module will be created.  They are used by <code><a href="#entry2D7365636C7573696F6E">-seclusion</a></code>,
which marks the start of public definitions, <code><a href="#entry2B7365636C7573696F6E">+seclusion</a></code>,
which optionally marks the start of new private
definitions, and <code><a href="#entry656E642D7365636C7573696F6E">end-seclusion</a></code>, which ends the module.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>seclusion
  \ Inner/private words.
-seclusion
  \ Interface/public words.
+seclusion
  \ More inner/private words.
-seclusion
  \ More interface/public words.
  \ Etc.
end-seclusion</pre>
</div>
</div>
<div class="paragraph">
<p>A copy of <em>wid2</em> may be kept by the application in order to
access private words later, e.g.  <code>`seclusion dup constant
my-module</code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E7465726E616C">internal</a></code>, <code><a href="#entry69736F6C617465">isolate</a></code>, <code><a href="#entry6D6F64756C65">module</a></code>, <code><a href="#entry7061636B616765">package</a></code>,
<code><a href="#entry707269766174697A65">privatize</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365636F6E6473-src-lib-time-fs"><a id="entry7365636F6E6473"></a>seconds</h3>
<div class="listingblock">
<div class="content">
<pre>seconds ( u -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wait at least <em>u</em> seconds.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3F7365636F6E6473">?seconds</a></code>, <code><a href="#entry6D73">ms</a></code>, <code><a href="#entry6672616D6573">frames</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736563746F72233E646F73-src-kernel-plus3dos-z80s"><a id="entry736563746F72233E646F73"></a>sector#&gt;dos</h3>
<div class="listingblock">
<div class="content">
<pre>sector#&gt;dos ( n -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the sequential disk sector <em>n</em> (0 index) to the disk
sector id <em>x</em>, in the format required by +3DOS: The high byte
of <em>x</em> is the logical track (0 index); its low byte is the
logical sector (0 index).</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: sector#&gt;dos ( n -- x ) sectors/track /mod sector&gt;dos ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736563746F72732F747261636B">sectors/track</a></code>, <code><a href="#entry736563746F723E646F73">sector&gt;dos</a></code>, <code><a href="#entry7472616E736665722D736563746F72">transfer-sector</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736563746F723E646F73-src-kernel-plus3dos-z80s"><a id="entry736563746F723E646F73"></a>sector&gt;dos</h3>
<div class="listingblock">
<div class="content">
<pre>sector&gt;dos ( sector track -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the 8-bit sector number <em>sector</em> and the 8-bit track
number <em>track</em> to the 16-bit number <em>x</em> in the format used by
+3DOS: The high byte of <em>x</em> is the track, and its low byte is
the sector.</p>
</div>
<div class="paragraph">
<p><code>sector&gt;dos</code> is a factor of <code><a href="#entry736563746F72233E646F73">sector#&gt;dos</a></code> and
<code><a href="#entry626C6F636B2D736563746F72233E646F73">block-sector#&gt;dos</a></code>.</p>
</div>
<div class="paragraph">
<p><code>sector&gt;dos</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: sector&gt;dos ( sector track -- x ) flip or ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736563746F72732F626C6F636B-src-kernel-z80s"><a id="entry736563746F72732F626C6F636B"></a>sectors/block</h3>
<div class="listingblock">
<div class="content">
<pre>sectors/block ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Sectors per block.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry622F736563746F72">b/sector</a></code>, <code><a href="#entry736563746F72732F747261636B">sectors/track</a></code>, <code><a href="#entry626C6F636B732F6469736B">blocks/disk</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736563746F72732F747261636B-src-kernel-z80s"><a id="entry736563746F72732F747261636B"></a>sectors/track</h3>
<div class="listingblock">
<div class="content">
<pre>sectors/track ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Sectors per disk track.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry622F736563746F72">b/sector</a></code>, <code><a href="#entry736563746F72732F626C6F636B">sectors/block</a></code>, <code><a href="#entry626C6F636B732F6469736B">blocks/disk</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736565-src-lib-tool-see-fs"><a id="entry736565"></a>see</h3>
<div class="listingblock">
<div class="content">
<pre>see ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Decode the word&#8217;s definition <em>name</em>.  At the moment <code>see</code>
works only with colon definitions.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (TOOLS), Forth-2012 (TOOLS).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365652D7874">see-xt</a></code>, <code><a href="#entry7365652D626F6479">see-body</a></code>, <code><a href="#entry7365652D626F64792D66726F6D">see-body-from</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.see.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365652D626F6479-src-lib-tool-see-fs"><a id="entry7365652D626F6479"></a>see-body</h3>
<div class="listingblock">
<div class="content">
<pre>see-body ( pfa -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Decode the colon word&#8217;s definition whose body is <em>pfa</em>.
<code>see-body</code> is a factor of <code><a href="#entry736565">see</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365652D626F64792D66726F6D">see-body-from</a></code>, <code><a href="#entry7365652D7874">see-xt</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.see.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365652D626F64792D66726F6D-src-lib-tool-see-fs"><a id="entry7365652D626F64792D66726F6D"></a>see-body-from</h3>
<div class="listingblock">
<div class="content">
<pre>see-body-from ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Decode the colon word&#8217;s definition from <em>a</em>, which is part
of its body. <code>see-body-from</code> is useful to decode words
that use <code><a href="#entry65786974">exit</a></code> in the midle of the definition, because
<code><a href="#entry736565">see</a></code> stops at the first <code><a href="#entry65786974">exit</a></code> found.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365652D626F6479">see-body</a></code>, <code><a href="#entry7365652D7874">see-xt</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.see.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365652D7874-src-lib-tool-see-fs"><a id="entry7365652D7874"></a>see-xt</h3>
<div class="listingblock">
<div class="content">
<pre>see-xt ( xt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Decode the word&#8217;s definition <em>xt</em>.  At the moment
<code>see-xt</code> works only with colon definitions.</p>
</div>
<div class="paragraph">
<p>The listing can be paused with the space bar, then stopped
with the return key or resumed with any other key.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736565">see</a></code>, <code><a href="#entry7365652D626F6479">see-body</a></code>, <code><a href="#entry7365652D626F64792D66726F6D">see-body-from</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.see.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73656E7472793A-src-lib-data-associative-list-fs"><a id="entry73656E7472793A"></a>sentry:</h3>
<div class="listingblock">
<div class="content">
<pre>sentry: ( ca len wid "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a string entry "name" in associative list
<em>wid</em>, with value <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.associative-list.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D31333436-src-lib-dos-plus3dos-fs"><a id="entry7365742D31333436"></a>set-1346</h3>
<div class="listingblock">
<div class="content">
<pre>set-1346 ( n1 n2 n3 n4 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the +3DOS configuration of RAM banks 1, 3, 4 and 6,
which are organized as an array of 128 sector buffers, each
of 512 bytes. The cache and RAM disk occupy two separate
(contiguous) areas of this array.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<em>n1</em> 
</td>
<td class="hdlist2">
<p>first sector buffer of cache</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>n2</em> 
</td>
<td class="hdlist2">
<p>number of cache sector buffers</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>n3</em> 
</td>
<td class="hdlist2">
<p>first sector buffer of RAM disk</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<em>n4</em> 
</td>
<td class="hdlist2">
<p>number of RAM disk sector buffers</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F732D6765742D31333436">dos-get-1346</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D616363657074-src-lib-keyboard-MISC-fs"><a id="entry7365742D616363657074"></a>set-accept</h3>
<div class="listingblock">
<div class="content">
<pre>set-accept ( ca1 len1 -- ca1' )</pre>
</div>
</div>
<div class="paragraph">
<p>Set string <em>ca len</em> as the string being edited by <code><a href="#entry616363657074">accept</a></code>.
Return the address <em>ca1'</em> after its last character.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D616E6F6E-src-lib-locals-anon-fs"><a id="entry7365742D616E6F6E"></a>set-anon</h3>
<div class="listingblock">
<div class="content">
<pre>set-anon  ( x[n-1]..x[0] n a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the given <em>n</em> cells into the buffer pointed by
<code><a href="#entry616E6F6E3E">anon&gt;</a></code>, which will be accessed by <code><a href="#entry616E6F6E">anon</a></code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>here anon&gt; ! 5 cells allot

: test ( x4 x3 x2 x1 x0 -- )
  5 set-anon
  [ 0 ] anon ?     \ print _x5_
  123 [ 0 ] anon !
  [ 0 ] anon ?     \ print 123
  [ 2 ] anon ?     \ print _x3_
  555 [ 2 ] anon !
  [ 2 ] anon ?     \ print 555
  ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.anon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D626974-src-lib-memory-MISC-fs"><a id="entry7365742D626974"></a>set-bit</h3>
<div class="listingblock">
<div class="content">
<pre>set-bit ( b1 n -- b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Set bit <em>n</em> of <em>b1</em>, returning the result <em>b2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6269743F">bit?</a></code>, <code><a href="#entry7365742D626974">set-bit</a></code>, <code><a href="#entry6269743E6D61736B">bit&gt;mask</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D626C6F636B2D647269766573-src-lib-dos-COMMON-fs"><a id="entry7365742D626C6F636B2D647269766573"></a>set-block-drives</h3>
<div class="listingblock">
<div class="content">
<pre>set-block-drives ( c[n]..c[1] n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the block drives to the drives specified by drive
identifiers <em>c[n]..c[1]</em>. Subsequently drive <em>c[1]</em> will be
searched first for blocks from block number 0 to block
number <code>blocks/disk 1-</code>; drive <em>c[n+1]</em> will be searched
for blocks from block number <code><a href="#entry626C6F636B732F6469736B">blocks/disk</a></code> to block number
<code>blocks/disk 2 * 1-</code>; and so on.</p>
</div>
<div class="paragraph">
<p>If <em>n</em> is zero, no drive is used for blocks.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>set-block-drives</code> sets <code><a href="#entry6C6173742D6C6F63617461626C65">last-locatable</a></code> to the
last block available on the new configuration, but
<code><a href="#entry66697273742D6C6F63617461626C65">first-locatable</a></code> is not modified.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D626C6F636B2D647269766573">-block-drives</a></code>, <code><a href="#entry23626C6F636B2D647269766573">#block-drives</a></code>, <code><a href="#entry626C6F636B2D647269766521">block-drive!</a></code>,
<code><a href="#entry6765742D626C6F636B2D647269766573">get-block-drives</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D627269676874-src-lib-display-attributes-fs"><a id="entry7365742D627269676874"></a>set-bright</h3>
<div class="listingblock">
<div class="content">
<pre>set-bright ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is <em>true</em>, turn bright on by setting the
corresponding bit of the current attribute. If <em>f</em> is
<em>false</em>, turn bright off by resetting the bit. Other
non-zero values of <em>f</em> will turn bright on or off depending
on them having a common bit with <code><a href="#entry6272696768742D6D61736B">bright-mask</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D627269676874">get-bright</a></code>, <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry6272696768742E">bright.</a></code>, <code><a href="#entry7365742D7061706572">set-paper</a></code>,
<code><a href="#entry7365742D696E6B">set-ink</a></code>, <code><a href="#entry7365742D666C617368">set-flash</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D636170736C6F636B-src-lib-keyboard-caps_lock-fs"><a id="entry7365742D636170736C6F636B"></a>set-capslock</h3>
<div class="listingblock">
<div class="content">
<pre>set-capslock ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set capslock.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E7365742D636170736C6F636B">unset-capslock</a></code>, <code><a href="#entry636170736C6F636B3F">capslock?</a></code>, <code><a href="#entry746F67676C652D636170736C6F636B">toggle-capslock</a></code>,
<code><a href="#entry636170736C6F636B">capslock</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.caps_lock.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D636972636C652D706978656C-src-lib-graphics-circle-fs"><a id="entry7365742D636972636C652D706978656C"></a>set-circle-pixel</h3>
<div class="listingblock">
<div class="content">
<pre>set-circle-pixel ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the address <em>a</em> of the routine <code><a href="#entry636972636C652D706978656C">circle-pixel</a></code> will jump
to.</p>
</div>
<div class="paragraph">
<p><code>set-circle-pixel</code>  is used to make <code><a href="#entry636972636C652D706978656C">circle-pixel</a></code> jump
to <code><a href="#entry636F6C6F7265642D636972636C652D706978656C">colored-circle-pixel</a></code>, <code><a href="#entry756E636F6C6F7265642D636972636C652D706978656C">uncolored-circle-pixel</a></code>, or
other routine provided by the application, therefore
configuring <code><a href="#entry636972636C65">circle</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.circle.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D63757272656E74-src-kernel-z80s"><a id="entry7365742D63757272656E74"></a>set-current</h3>
<div class="listingblock">
<div class="content">
<pre>set-current ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the compilation word list to the word list identified by
<em>wid</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: set-current ( wid -- ) current ! ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH), Forth-2012 (SEARCH).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D64617465-src-lib-time-fs"><a id="entry7365742D64617465"></a>set-date</h3>
<div class="listingblock">
<div class="content">
<pre>set-date ( day month year -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the current date. The default date is 2016-01-01. It
can be fetch with <code><a href="#entry6765742D64617465">get-date</a></code>. The date is not updated by
the system.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry6765742D64617465">get-date</a></code>, <code><a href="#entry64617465">date</a></code>, <code><a href="#entry6C656170792D796561723F">leapy-year?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D64656661756C742D62616E6B-src-lib-memory-bank-fs"><a id="entry7365742D64656661756C742D62616E6B"></a>set-default-bank</h3>
<div class="listingblock">
<div class="content">
<pre>set-default-bank ( +n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>+n</em> as the default memory bank by modifyng the
contents of <code><a href="#entry64656661756C742D62616E6B23">default-bank#</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D64656661756C742D62616E6B">get-default-bank</a></code>, <code><a href="#entry64656661756C742D62616E6B">default-bank</a></code>, <code><a href="#entry62616E6B">bank</a></code>,
<code><a href="#entry62616E6B73">banks</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.bank.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D6472697665-src-kernel-plus3dos-z80s"><a id="entry7365742D6472697665"></a>set-drive</h3>
<div class="listingblock">
<div class="content">
<pre>set-drive ( c -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Set drive <em>c</em> ('A'..'P') as the current default drive, i.e.
the drive implied by all filenames that do not specify a
drive, and the drive used by <code><a href="#entry7472616E736665722D736563746F72">transfer-sector</a></code> and
<code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>. The default drive is intially 'A'.</p>
</div>
<div class="paragraph">
<p>Does not access the drive, but merely checks that there is a
driver for it (which does not imply that the drive exists).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D6472697665">get-drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D66696C656E616D652D6472697665-src-kernel-plus3dos-z80s"><a id="entry7365742D66696C656E616D652D6472697665"></a>set-filename-drive</h3>
<div class="listingblock">
<div class="content">
<pre>set-filename-drive ( c -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Set drive <em>c</em> ('A'..'P') as the current default drive, i.e.
the drive implied by all filenames that do not specify a
drive.</p>
</div>
<div class="paragraph">
<p>Does not access the drive, but merely checks that there is a
driver for it (which does not imply that the drive exists).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D66696C656E616D652D6472697665">get-filename-drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D666C617368-src-lib-display-attributes-fs"><a id="entry7365742D666C617368"></a>set-flash</h3>
<div class="listingblock">
<div class="content">
<pre>set-flash ( f -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>f</em> is <em>true</em>, turn flash on by setting the
corresponding bit of the current attribute. If <em>f</em> is
<em>false</em>, turn flash off by resetting the bit. Other
non-zero values of <em>f</em> will turn flash on or off depending
on them having a common bit with <code><a href="#entry666C6173682D6D61736B">flash-mask</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D666C617368">get-flash</a></code>, <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry666C6173682E">flash.</a></code>, <code><a href="#entry7365742D7061706572">set-paper</a></code>,
<code><a href="#entry7365742D696E6B">set-ink</a></code>, <code><a href="#entry7365742D627269676874">set-bright</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D666F6E74-src-kernel-z80s"><a id="entry7365742D666F6E74"></a>set-font</h3>
<div class="listingblock">
<div class="content">
<pre>set-font ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set address <em>a</em> as the current font by setting the system
variable <code><a href="#entry6F732D6368617273">os-chars</a></code></p>
</div>
<div class="paragraph">
<p><code>set-font</code> is used by all screen modes.  The character
bitmap <em>a</em> points to depends on the mode.</p>
</div>
<div class="paragraph">
<p>The last char used from the font can be configured by
<code><a href="#entry6C6173742D666F6E742D63686172">last-font-char</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D666F6E74">get-font</a></code>, <code><a href="#entry726F6D2D666F6E74">rom-font</a></code>, <code><a href="#entry64656661756C742D666F6E74">default-font</a></code>, <code><a href="#entry6D6F64652D3332">mode-32</a></code>,
<code><a href="#entry6D6F64652D3432">mode-42</a></code>, <code><a href="#entry6D6F64652D3634">mode-64</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D68656170-src-lib-memory-allocate-COMMON-fs"><a id="entry7365742D68656170"></a>set-heap</h3>
<div class="listingblock">
<div class="content">
<pre>set-heap ( a u b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the values of the current heap: its address <em>a</em>
(returned by <code><a href="#entry68656170">heap</a></code>), its size <em>u</em> (returned by <code><a href="#entry2F68656170">/heap</a></code>)
and its bank <em>b</em> (stored in <code><a href="#entry686561702D62616E6B">heap-bank</a></code>).</p>
</div>
<div class="paragraph">
<p><code>set-heap</code> and <code><a href="#entry6765742D68656170">get-heap</a></code> are useful when more than one
memory heap are needed by the application.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/memory.allocate.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D696E6B-src-lib-display-attributes-fs"><a id="entry7365742D696E6B"></a>set-ink</h3>
<div class="listingblock">
<div class="content">
<pre>set-ink ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set ink color <em>b</em> by modifying bits 0-2 of the current
attribute. Note that <em>b</em> is supposed to be in the range
0..7 and its bits 3-7 are not masked. Therefore any value
other than 0..7 will corrupt the current attribute.</p>
</div>
<div class="paragraph">
<p><code>set-ink</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: set-ink ( b -- ) attr@ %11111000 and or attr! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry696E6B2E">ink.</a></code>, <code><a href="#entry7365742D7061706572">set-paper</a></code>, <code><a href="#entry7365742D666C617368">set-flash</a></code>,
<code><a href="#entry7365742D627269676874">set-bright</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D6D69786572-src-lib-sound-128-fs"><a id="entry7365742D6D69786572"></a>set-mixer</h3>
<div class="listingblock">
<div class="content">
<pre>set-mixer ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the mixer register of the AY-3-8912 sound
generator to <em>b</em>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Register 7 (Mixer - I/O Enable)</p>
</div>
<div class="paragraph">
<p>This controls the enable status of the noise and tone
mixers for the three channels, and also controls the I/O
port used to drive the RS232 and Keypad sockets.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Bit 0
</td>
<td class="hdlist2">
<p>Channel A Tone Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 1
</td>
<td class="hdlist2">
<p>Channel B Tone Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 2
</td>
<td class="hdlist2">
<p>Channel C Tone Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 3
</td>
<td class="hdlist2">
<p>Channel A Noise Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 4
</td>
<td class="hdlist2">
<p>Channel B Noise Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 5
</td>
<td class="hdlist2">
<p>Channel C Noise Enable (0=enabled).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 6
</td>
<td class="hdlist2">
<p>I/O Port Enable (0=input, 1=output).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bit 7
</td>
<td class="hdlist2">
<p>Not used.</p>
</td>
</tr>
</table>
</div>
</blockquote>
<div class="attribution">
&#8212; Disassembly of the ZX Spectrum 128k ROM0
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D6D69786572">get-mixer</a></code>, <code><a href="#entry2D6D69786572">-mixer</a></code>, <code><a href="#entry21736F756E64">!sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D6D6F64652D6F7574707574-src-lib-display-mode-COMMON-fs"><a id="entry7365742D6D6F64652D6F7574707574"></a>set-mode-output</h3>
<div class="listingblock">
<div class="content">
<pre>set-mode-output ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Associate the output routine at <em>a</em> to the system channels
"K", "S" and "P".</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.mode.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D6F72646572-src-kernel-z80s"><a id="entry7365742D6F72646572"></a>set-order</h3>
<div class="listingblock">
<div class="content">
<pre>set-order ( -1 | 0 | wid[n]..wid[1] n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the search order to the word lists identified by
<em>widn..wid1</em>. Subsequently, word list <em>wid1</em> will be
searched first, and word list <em>widn</em> searched last. If <em>n</em>
is zero, empty the search order. If <em>n</em> is minus one, set
the search order to the implementation-defined minimum
search order.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: set-order ( -1 | 0 | widn..wid1 n -- )
  dup -1 = if  drop root-wordlist dup 2  then
  dup ?order  dup #order !
  0 ?do  i cells context + !  loop ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (SEARCH), Forth-2012 (SEARCH).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D6F72646572">get-order</a></code>, <code><a href="#entry3E6F72646572">&gt;order</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D7061706572-src-lib-display-attributes-fs"><a id="entry7365742D7061706572"></a>set-paper</h3>
<div class="listingblock">
<div class="content">
<pre>set-paper ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set paper color <em>b</em> (0..7) by modifying the corresponding
bits of the current attribute.</p>
</div>
<div class="paragraph">
<p><code>set-paper</code> is written in Z80. Its equivalent definition
in Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: set-paper ( b -- ) papery attr@ unpaper-mask and or attr! ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6174747221">attr!</a></code>, <code><a href="#entry70617065722E">paper.</a></code>, <code><a href="#entry7365742D696E6B">set-ink</a></code>, <code><a href="#entry7365742D666C617368">set-flash</a></code>,
<code><a href="#entry7365742D627269676874">set-bright</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D706978656C-src-lib-graphics-pixels-fs"><a id="entry7365742D706978656C"></a>set-pixel</h3>
<div class="listingblock">
<div class="content">
<pre>set-pixel ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set a pixel without changing its attribute on the screen or
the current graphic coordinates.  <em>gx</em> is 0..255; <em>gy</em> is
0..191.</p>
</div>
<div class="paragraph">
<p>See also:  <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry706C6F74313736">plot176</a></code>, <code><a href="#entry72657365742D706978656C">reset-pixel</a></code>,
<code><a href="#entry746F67676C652D706978656C">toggle-pixel</a></code>, <code><a href="#entry78793E677879">xy&gt;gxy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D706978656C313736-src-lib-graphics-pixels-fs"><a id="entry7365742D706978656C313736"></a>set-pixel176</h3>
<div class="listingblock">
<div class="content">
<pre>set-pixel176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set a pixel without changing its attribute on the screen or
the current graphic coordinates, and using only the top 176
pixel rows of the screen (the lower 16 pixel rows are not
used).  <em>gx</em> is 0..255; <em>gy</em> is 0..175.</p>
</div>
<div class="paragraph">
<p>See also:  <code><a href="#entry7365742D736176652D706978656C313736">set-save-pixel176</a></code>, <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry706C6F74">plot</a></code>,
<code><a href="#entry706C6F74313736">plot176</a></code>, <code><a href="#entry72657365742D706978656C">reset-pixel</a></code>, <code><a href="#entry746F67676C652D706978656C">toggle-pixel</a></code>, <code><a href="#entry72657365742D706978656C313736">reset-pixel176</a></code>,
<code><a href="#entry746F67676C652D706978656C313736">toggle-pixel176</a></code>, <code><a href="#entry78793E677879313736">xy&gt;gxy176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D736176652D706978656C313736-src-lib-graphics-pixels-fs"><a id="entry7365742D736176652D706978656C313736"></a>set-save-pixel176</h3>
<div class="listingblock">
<div class="content">
<pre>set-save-pixel176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set a pixel without changing its attribute on the screen,
and using only the top 176 pixel rows of the screen (the
lower 16 pixel rows are not used).  <em>gx</em> is 0..255; <em>gy</em> is
0..175.  <code>set-save-pixel176</code> updates the graphic
coordinates (contrary to <code><a href="#entry7365742D706978656C313736">set-pixel176</a></code>).</p>
</div>
<div class="paragraph">
<p>See also:  <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry706C6F74313736">plot176</a></code>, <code><a href="#entry72657365742D706978656C">reset-pixel</a></code>,
<code><a href="#entry746F67676C652D706978656C">toggle-pixel</a></code>, <code><a href="#entry72657365742D706978656C313736">reset-pixel176</a></code>, <code><a href="#entry746F67676C652D706978656C313736">toggle-pixel176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D736563746F722D756E6974-src-kernel-plus3dos-z80s"><a id="entry7365742D736563746F722D756E6974"></a>set-sector-unit</h3>
<div class="listingblock">
<div class="content">
<pre>set-sector-unit ( n -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Set unit <em>n</em> (0..1) as the default unit for sector-level
access, i.e.  the unit used by <code><a href="#entry7472616E736665722D736563746F72">transfer-sector</a></code> and
<code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>. The default unit is initially 0.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D736563746F722D756E6974">set-sector-unit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D736F75726365-src-kernel-z80s"><a id="entry7365742D736F75726365"></a>set-source</h3>
<div class="listingblock">
<div class="content">
<pre>set-source ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the memory zone <em>ca len</em> as the current source by pointing
the input buffer to it.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: set-source ( ca len -- ) input-buffer 2! &gt;in off ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E7075742D627566666572">input-buffer</a></code>, <code><a href="#entry3E696E">&gt;in</a></code>, <code><a href="#entry7465726D696E616C3E736F75726365">terminal&gt;source</a></code>,
<code><a href="#entry626C6F636B3E736F75726365">block&gt;source</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D746170652D66696C656E616D65-src-lib-tape-fs"><a id="entry7365742D746170652D66696C656E616D65"></a>set-tape-filename</h3>
<div class="listingblock">
<div class="content">
<pre>set-tape-filename ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store filename <em>ca len</em> into the <code><a href="#entry746170652D66696C656E616D65">tape-filename</a></code> field of
<code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D746170652D6D656D6F7279-src-lib-tape-fs"><a id="entry7365742D746170652D6D656D6F7279"></a>set-tape-memory</h3>
<div class="listingblock">
<div class="content">
<pre>set-tape-memory ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Configure <code><a href="#entry746170652D686561646572">tape-header</a></code> with the memory zone <em>ca len</em> (to
be read or written), by storing <em>len</em> into <code><a href="#entry746170652D6C656E677468">tape-length</a></code>
and <em>ca</em> into <code><a href="#entry746170652D7374617274">tape-start</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D74696D65-src-lib-time-fs"><a id="entry7365742D74696D65"></a>set-time</h3>
<div class="listingblock">
<div class="content">
<pre>set-time ( second minute hour -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the current time.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D74696D65">get-time</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D756467-src-lib-graphics-udg-fs"><a id="entry7365742D756467"></a>set-udg</h3>
<div class="listingblock">
<div class="content">
<pre>set-udg ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set address <em>a</em> as the the current UDG set (characters
0..255), by changing the system variable <code><a href="#entry6F732D756467">os-udg</a></code>.  <em>a</em>
must be the bitmap address of character 0.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D756467">get-udg</a></code>, <code><a href="#entry7365742D666F6E74">set-font</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7365742D77696E646F77-src-lib-display-window-fs"><a id="entry7365742D77696E646F77"></a>set-window</h3>
<div class="listingblock">
<div class="content">
<pre>set-window ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make <em>a</em> the current window.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry77696E646F77">window</a></code>, <code><a href="#entry63757272656E742D77696E646F77">current-window</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.window.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7369676E-src-kernel-z80s"><a id="entry7369676E"></a>sign</h3>
<div class="listingblock">
<div class="content">
<pre>sign ( n  --  )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is negative, add a minus sign to the beginning of the
pictured numeric output string.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: sign ( n -- ) 0&lt; if '-' hold then ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth 94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C23">&lt;#</a></code>, <code><a href="#entry233E">#&gt;</a></code>, <code><a href="#entry686F6C64">hold</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73696C656E6365-src-lib-sound-128-fs"><a id="entry73696C656E6365"></a>silence</h3>
<div class="listingblock">
<div class="content">
<pre>silence ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute <code><a href="#entry2D6D69786572">-mixer</a></code> to disable the noise and tone mixers for
the three channels of the AY-3-8912 sound generator. Then
set the volume of the three channels to zero.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry21766F6C756D65">!volume</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73696D706C652D616363657074-src-kernel-z80s"><a id="entry73696D706C652D616363657074"></a>simple-accept</h3>
<div class="listingblock">
<div class="content">
<pre>simple-accept ( ca1 len1 -- len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Default action of the deferred word <code><a href="#entry616363657074">accept</a></code>:</p>
</div>
<div class="paragraph">
<p>Receive a string of at most <em>len1</em> characters.  No characters
are received or transferred if <em>len1</em> is zero.  Display
graphic characters as they are received.</p>
</div>
<div class="paragraph">
<p>Input terminates when the Return key is pressed.  When input
terminates, nothing is appended to the string or displayed on
the screen.</p>
</div>
<div class="paragraph">
<p>The only control key accepted is Delete.</p>
</div>
<div class="paragraph">
<p><em>len2</em> is the length of the string stored at <em>ca1</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: simple-accept ( ca len -- len' )
  over + over ( bot eot cur )
  begin  xkey dup 13 &lt;&gt; \ not carriage return?
  while ( bot eot cur c )
    dup 12 =  \ delete?
    if    drop  &gt;r over r@ &lt; dup  \ any chars?
          if  8 dup emit  bl emit  emit  then  r&gt; +
    else  \ maybe printable
          &gt;r  2dup &lt;&gt;  \ more?
          r@ [ bl 1- ] literal &gt; and  \ and printable?
          if  r@ over c!  char+  r@ emit  then  r&gt; drop
    then
  repeat ( bot eot cur c ) drop nip swap - ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73697A65-src-lib-tool-turnkey-fs"><a id="entry73697A65"></a>size</h3>
<div class="listingblock">
<div class="content">
<pre>size ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Size of the system.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.turnkey.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736B6970-src-kernel-z80s"><a id="entry736B6970"></a>skip</h3>
<div class="listingblock">
<div class="content">
<pre>skip ( ca1 len1 c -- ca2 len2 | ca1 len1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Skip over leading occurences of the character <em>c</em> in the string
<em>ca1 len1</em>.  Leave the address of the first non-matching
character <em>ca2</em> and length remaining <em>len2</em>.  If no characters were
skipped leave <em>ca1 len1</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736B69702D7369676E3F-src-kernel-z80s"><a id="entry736B69702D7369676E3F"></a>skip-sign?</h3>
<div class="listingblock">
<div class="content">
<pre>skip-sign? ( ca len -- ca' len' f )</pre>
</div>
</div>
<div class="paragraph">
<p>If number string <em>ca len</em> starts with a minus sign, remove it
and return the result string <em>ca' len'</em> and a true flag <em>f</em>;
else <em>ca' len'</em> is identical to <em>ca len</em> and <em>f</em> is false.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: skip-sign? ( ca len -- ca' len' f )
  over c@ '-' = dup &gt;r abs /string r&gt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E756D6265723F">number?</a></code>, <code><a href="#entry3F6E6567617465">?negate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736C6974-src-kernel-z80s"><a id="entry736C6974"></a>slit</h3>
<div class="listingblock">
<div class="content">
<pre>slit ( -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a string that is compiled after the calling word, and
adjust the instruction pointer to step over the inline string.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: slit ( -- ca len ) r@ count dup char+ r&gt; + &gt;r ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736C69746572616C-src-kernel-z80s"><a id="entry736C69746572616C"></a>sliteral</h3>
<div class="listingblock">
<div class="content">
<pre>sliteral ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile string _ca len _ in the current definition.</p>
</div>
<div class="paragraph">
<p><code>sliteral</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: sliteral ( ca len -- )
  postpone slit s,  ; immediate compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736C6F772D6778793E736372615F-src-lib-graphics-pixels-fs"><a id="entry736C6F772D6778793E736372615F"></a>slow-gxy&gt;scra_</h3>
<div class="listingblock">
<div class="content">
<pre>slow-gxy&gt;scra_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of an alternative entry point to the
PIXEL-ADD ROM routine ($22AA), to let the range of the y
coordinate be 0..191 instead of 0..175.</p>
</div>
<div class="paragraph">
<p>This is the default action of <code><a href="#entry6778793E736372615F">gxy&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>When <code><a href="#entry666173742D6778793E736372615F">fast-gxy&gt;scra_</a></code> (which is faster but bigger, and
requires the assembler) is needed, the application must use
<code>need fast-gxy&gt;scra_</code> before <code>need set-pixel</code> or any
other word that needs <code><a href="#entry6778793E736372615F">gxy&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>Input registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>C = x cordinate (0..255)</p>
</li>
<li>
<p>B = y coordinate (0..191)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = address of the pixel byte in the screen bitmap</p>
</li>
<li>
<p>A = position of the pixel in the byte address (0..7),
note: position 0=bit 7, position 7=bit 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6778793137363E736372615F">gxy176&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736C6F772D706978656C73-src-lib-graphics-pixels-fs"><a id="entry736C6F772D706978656C73"></a>slow-pixels</h3>
<div class="listingblock">
<div class="content">
<pre>slow-pixels ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number <em>u</em> of pixels that are set on the screen.
This is the alternative action of the deferred word
<code><a href="#entry706978656C73">pixels</a></code>. <code>slow-pixels</code> simply executes <code><a href="#entry62697473">bits</a></code> with the
screen address and length on the stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666173742D706978656C73">fast-pixels</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736D2F72656D-src-kernel-z80s"><a id="entry736D2F72656D"></a>sm/rem</h3>
<div class="listingblock">
<div class="content">
<pre>sm/rem ( d n1 -- n2 n3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Symmetric division:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>D = n3*n1+n2;

sign(n2) = sign(d1) or 0</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>d</em> by <em>n1</em>, giving the symmetric quotient <em>n3</em> and the
remainder <em>n2</em>. Input and output stack arguments are signed.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Dividend</th>
<th class="tableblock halign-left valign-top">Divisor</th>
<th class="tableblock halign-left valign-top">Remainder</th>
<th class="tableblock halign-left valign-top">Quotient</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-10</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-7</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-3</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: sm/rem ( d1 n1 -- n2 n3 ) \ symmetric signed division
  2dup xor &gt;r  \  sign of quotient
  over &gt;r      \  sign of remainder
  abs &gt;r dabs r&gt; um/mod
  swap r&gt; ?negate
  swap r&gt; ?negate ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry666D2F6D6F64">fm/mod</a></code>, <code><a href="#entry6D2F">m/</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736D6F7665-src-kernel-z80s"><a id="entry736D6F7665"></a>smove</h3>
<div class="listingblock">
<div class="content">
<pre>smove ( ca1 len1 ca2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Move the string <em>ca1 len1</em> to <em>ca2</em>.</p>
</div>
<div class="paragraph">
<p><code>smove</code> is the equivalent of the idiom <code>swap move</code>, but
faster.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636D6F7665">cmove</a></code>, <code><a href="#entry636D6F76653E">cmove&gt;</a></code>, <code><a href="#entry6D6F7665">move</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736D75646765-src-lib-compilation-fs"><a id="entry736D75646765"></a>smudge</h3>
<div class="listingblock">
<div class="content">
<pre>smudge ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Toggle the "smudge bit" of the latest definition&#8217;s name
field.  This prevents an uncompleted definition from being
found during dictionary searches, until compiling is
completed without error.</p>
</div>
<div class="paragraph">
<p><code>smudge</code> is obsolete. <code><a href="#entry68696465">hide</a></code> and <code><a href="#entry72657665616C">reveal</a></code> are used
instead.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736D7564676564">smudged</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736D756467652D6D61736B-src-kernel-z80s"><a id="entry736D756467652D6D61736B"></a>smudge-mask</h3>
<div class="listingblock">
<div class="content">
<pre>smudge-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Constant that holds the bitmask of the <code><a href="#entry736D75646765">smudge</a></code> bit.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736D7564676564-src-lib-compilation-fs"><a id="entry736D7564676564"></a>smudged</h3>
<div class="listingblock">
<div class="content">
<pre>smudged ( nt -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Toggle the "smudge bit" of the given <em>nt</em>.</p>
</div>
<div class="paragraph">
<p><code>smudged</code> is obsolete. <code><a href="#entry68696464656E">hidden</a></code> and <code><a href="#entry72657665616C6564">revealed</a></code> are used
instead.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736D75646765">smudge</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736F756E64-src-lib-sound-128-fs"><a id="entry736F756E64"></a>sound</h3>
<div class="listingblock">
<div class="content">
<pre>sound ( b[0]..b[13] "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a word <em>name</em> that will play the 14-byte sound
defined by <em>b[0]..b[13]</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736F756E642C">sound,</a></code>, <code><a href="#entry706C6179">play</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736F756E642C-src-lib-sound-128-fs"><a id="entry736F756E642C"></a>sound,</h3>
<div class="listingblock">
<div class="content">
<pre>sound, ( b[0]..b[13] -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the 14-byte sound definition <em>b[0]..b[13]</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry706C6179">play</a></code>, <code><a href="#entry736F756E64">sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736F756E642D72656769737465722D706F7274-src-lib-sound-128-fs"><a id="entry736F756E642D72656769737465722D706F7274"></a>sound-register-port</h3>
<div class="listingblock">
<div class="content">
<pre>sound-register-port ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>The I/O port used to select a register of the AY-3-8912
sound generator, before writing a value into it using
<code><a href="#entry736F756E642D77726974652D706F7274">sound-write-port</a></code>, or before reading a value from it using
<code>sound-register-port</code> again.</p>
</div>
<div class="paragraph">
<p><code>sound-register-port</code> is a fast constant defined with
<code><a href="#entry636F6E7374">const</a></code>. Its value is $FFFD.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736F756E642D77726974652D706F7274">sound-write-port</a></code>, <code><a href="#entry21736F756E64">!sound</a></code>, <code><a href="#entry40736F756E64">@sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736F756E642D77726974652D706F7274-src-lib-sound-128-fs"><a id="entry736F756E642D77726974652D706F7274"></a>sound-write-port</h3>
<div class="listingblock">
<div class="content">
<pre>sound-write-port ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>The I/O port used to write to a register of the AY-3-8912
sound generator.</p>
</div>
<div class="paragraph">
<p><code>sound-write-port</code> is a fast constant defined with
<code><a href="#entry636F6E7374">const</a></code>.  Its value is $BFFD.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry736F756E642D72656769737465722D706F7274">sound-register-port</a></code>, <code><a href="#entry21736F756E64">!sound</a></code>, <code><a href="#entry40736F756E64">@sound</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.128.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736F75726365-src-kernel-z80s"><a id="entry736F75726365"></a>source</h3>
<div class="listingblock">
<div class="content">
<pre>source ( -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: source ( -- ca len )
  blk @ ?dup if block b/buf exit then
  input-buffer 2@ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E7075742D627566666572">input-buffer</a></code>, <code><a href="#entry7365742D736F75726365">set-source</a></code>, <code><a href="#entry626C6B">blk</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry736F757263652D6964-src-kernel-z80s"><a id="entry736F757263652D6964"></a>source-id</h3>
<div class="listingblock">
<div class="content">
<pre>source-id ( -- 0 | -1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Identifies the input source as follows:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User input device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String via <code><a href="#entry6576616C75617465">evaluate</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737021-src-kernel-z80s"><a id="entry737021"></a>sp!</h3>
<div class="listingblock">
<div class="content">
<pre>sp! ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>a</em> into the stack pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737030-src-kernel-z80s"><a id="entry737030"></a>sp0</h3>
<div class="listingblock">
<div class="content">
<pre>sp0 ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the address of the bottom of the data
stack.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>s0</code>, Forth-79&#8217;s <code>s0</code>, Forth-83&#8217;s
<code>s0</code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737040-src-kernel-z80s"><a id="entry737040"></a>sp@</h3>
<div class="listingblock">
<div class="content">
<pre>sp@ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch the content of the stack pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7370616365-src-kernel-z80s"><a id="entry7370616365"></a>space</h3>
<div class="listingblock">
<div class="content">
<pre>space ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737061636573-src-kernel-z80s"><a id="entry737061636573"></a>spaces</h3>
<div class="listingblock">
<div class="content">
<pre>spaces ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is greater than zero, display <em>n</em> spaces.</p>
</div>
<div class="paragraph">
<p><code>spaces</code> is written in Z80. Its equivalent definition in
Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: spaces ( n -- ) bl swap emits ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79, Forth-83 (Required Word Set),
Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7370616365">space</a></code>, <code><a href="#entry626C">bl</a></code>, <code><a href="#entry656D697473">emits</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7370616E-src-lib-keyboard-MISC-fs"><a id="entry7370616E"></a>span</h3>
<div class="listingblock">
<div class="content">
<pre>span ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>The address of a variable containing the count of
characters actually received and stored by the last
execution of <code><a href="#entry657870656374">expect</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73706C6974-src-lib-math-operators-1-cell-fs"><a id="entry73706C6974"></a>split</h3>
<div class="listingblock">
<div class="content">
<pre>split ( x -- b1 b2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Get <em>b1</em> and <em>b2</em> from the 2 bytes which compose <em>x</em>: <em>b1</em>
is the low-order byte and <em>b2</em> is the high-order byte.</p>
</div>
<div class="paragraph">
<p>Origin: IsForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6A6F696E">join</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73717274-src-lib-math-operators-1-cell-fs"><a id="entry73717274"></a>sqrt</h3>
<div class="listingblock">
<div class="content">
<pre>sqrt ( n1 -- n2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Calculate integer square root <em>n2</em> of radicand <em>n1</em>.
<code>sqrt</code> is a deferred word which can execute <code><a href="#entry626164656E2D73717274">baden-sqrt</a></code>
or <code><a href="#entry6E6577746F6E2D73717274">newton-sqrt</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7374616E646172642D6E756D6265722D706F696E743F-src-kernel-z80s"><a id="entry7374616E646172642D6E756D6265722D706F696E743F"></a>standard-number-point?</h3>
<div class="listingblock">
<div class="content">
<pre>standard-number-point? ( c -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is character <em>c</em> a valid point in a number?  The only allowed
point is period.</p>
</div>
<div class="paragraph">
<p><code>standard-number-point?</code> is the default action of the
deferred word <code><a href="#entry6E756D6265722D706F696E743F">number-point?</a></code>, which is used in <code><a href="#entry6E756D6265723F">number?</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: standard-number-point? ( c -- f ) '.' = ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636C61737369632D6E756D6265722D706F696E743F">classic-number-point?</a></code>, <code><a href="#entry657874656E6465642D6E756D6265722D706F696E743F">extended-number-point?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7374617465-src-kernel-z80s"><a id="entry7374617465"></a>state</h3>
<div class="listingblock">
<div class="content">
<pre>state ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the compilation-state flag, which is
true when in compilation state, false otherwise.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-89 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73746570-src-lib-flow-for-fs"><a id="entry73746570"></a>step</h3>
<div class="listingblock">
<div class="content">
<pre>step
  Compilation: ( dest -- )
  Run-time:    ( R: n -- n' )</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: ( dest&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>Append the run-time semantics given below to the current
definition. Resolve the destination of <code><a href="#entry666F72">for</a></code>.</p>
</div>
<div class="paragraph">
<p>Run-time: ( R: n&#8201;&#8212;&#8201;n' )</p>
</div>
<div class="paragraph">
<p>If the loop index is zero, discard the loop parameters and
continue execution after the loop. Otherwise decrement the
loop index and continue execution at the beginning of the
loop.</p>
</div>
<div class="paragraph">
<p><code>step</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Note: <code>step</code> is usually called <code>next</code> in other Forth
systems.</p>
</div>
<div class="paragraph">
<p>Origin: Z88 CamelForth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.for.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73746F70-src-lib-multitask-muench-koh-fs"><a id="entry73746F70"></a>stop</h3>
<div class="listingblock">
<div class="content">
<pre>stop ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Sleep current task.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73746F726572-src-lib-data-storer-fs"><a id="entry73746F726572"></a>storer</h3>
<div class="listingblock">
<div class="content">
<pre>storer ( x a "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a word <em>name</em> which, when executed, will cause that
<em>x</em> be stored at <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Origin: word <code><a href="#entry736574">set</a></code> found in Forth-79 (Reference Word Set)
and Forth-83 (Appendix B.  Uncontrolled Reference Words).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.storer.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7374723C-src-lib-strings-MISC-fs"><a id="entry7374723C"></a>str&lt;</h3>
<div class="listingblock">
<div class="content">
<pre>str&lt; ( ca1 len1 ca2 len2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is string <em>ca1 len1</em> lexicographically smaller than string
<em>ca2 len2</em>?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7374723D">str=</a></code>, <code><a href="#entry7374723E">str&gt;</a></code>, <code><a href="#entry636F6D70617265">compare</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7374723D-src-kernel-z80s"><a id="entry7374723D"></a>str=</h3>
<div class="listingblock">
<div class="content">
<pre>str= ( ca1 len1 ca2 len2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is string <em>ca1 len1</em> lexicographically equal to string <em>ca2
len2</em>?</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: str= ( ca1 len1 ca2 len2 -- f ) compare 0= ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7374723C">str&lt;</a></code>, <code><a href="#entry7374723E">str&gt;</a></code>, <code><a href="#entry636F6D70617265">compare</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7374723E-src-lib-strings-MISC-fs"><a id="entry7374723E"></a>str&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>str&gt; ( ca1 len1 ca2 len2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is string <em>ca1 len1</em> lexicographically larger than string
<em>ca2 len2</em>?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7374723C">str&lt;</a></code>, <code><a href="#entry7374723D">str=</a></code>, <code><a href="#entry636F6D70617265">compare</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73747265616D-src-kernel-z80s"><a id="entry73747265616D"></a>stream</h3>
<div class="listingblock">
<div class="content">
<pre>stream ( -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address and length of the remaining stream source.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737472696E672D706172616D65746572-src-lib-compilation-fs"><a id="entry737472696E672D706172616D65746572"></a>string-parameter</h3>
<div class="listingblock">
<div class="content">
<pre>string-parameter ( -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a string compiled after the calling word.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry7761726E696E6722">warning"</a></code> and <code><a href="#entry287761726E696E672229">(warning")</a></code> for a usage example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737472696E672F-src-lib-strings-MISC-fs"><a id="entry737472696E672F"></a>string/</h3>
<div class="listingblock">
<div class="content">
<pre>string/ ( ca1 len1 len2 -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the <em>len2</em> ending characters of string <em>ca1 len1</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F737472696E67">/string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737472696E673E736F75726365-src-lib-parsing-fs"><a id="entry737472696E673E736F75726365"></a>string&gt;source</h3>
<div class="listingblock">
<div class="content">
<pre>string&gt;source ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the string <em>ca len</em> as the current source.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D736F75726365">set-source</a></code>, <code><a href="#entry28736F757263652D696429">(source-id)</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737472696E676572-src-kernel-z80s"><a id="entry737472696E676572"></a>stringer</h3>
<div class="listingblock">
<div class="content">
<pre>stringer ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns the base address of the <code>stringer</code>,
which is the circular string buffer used by all string
operations.</p>
</div>
<div class="paragraph">
<p>The application can move and resize the <code>stringer</code> if
needed. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>stringer /stringer 2constant old-stringer
  \ Keep the address and length of the old stringer, in order
  \ to reuse its space later.

need !&gt;

here 1024 dup allot !&gt; /stringer !&gt; stringer empty-stringer
  \ Create a new, 1024-byte `&lt;&lt;entry737472696E676572, pass:c[stringer]&gt;&gt;` in data space.</pre>
</div>
</div>
<div class="paragraph">
<p>The default <code>stringer</code> can be restored by
<code><a href="#entry64656661756C742D737472696E676572">default-stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry213E">!&gt;</a></code>, <code><a href="#entry2F737472696E676572">/stringer</a></code>, <code><a href="#entry656D7074792D737472696E676572">empty-stringer</a></code>, <code><a href="#entry2B737472696E676572">+stringer</a></code>,
<code><a href="#entry756E757365642D737472696E676572">unused-stringer</a></code>, <code><a href="#entry3F737472696E676572">?stringer</a></code>, <code><a href="#entry616C6C6F636174652D737472696E676572">allocate-stringer</a></code>,
<code><a href="#entry3E737472696E676572">&gt;stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73756273746974757465-src-lib-strings-substitute-fs"><a id="entry73756273746974757465"></a>substitute</h3>
<div class="listingblock">
<div class="content">
<pre>substitute ( ca1 len1 ca2 len2 -- ca2 len3 n )</pre>
</div>
</div>
<div class="paragraph">
<p>Perform substitution on the string <em>ca1 len1</em> placing
the result at string <em>ca2 len3</em>, where <em>len3</em> is the length
of the resulting string. An error occurs if the resulting
string will not fit into <em>ca2 len2</em> or if <em>ca2</em> is
the same as <em>ca1</em>. The return value <em>n</em> is positive or 0
on success and indicates the number of substitutions made.
A negative value for <em>n</em> indicates that an error occurred,
leaving <em>ca2 len3</em> undefined, and being <em>n</em> the exception
code.</p>
</div>
<div class="paragraph">
<p>Substitution occurs left to right from the start of
<em>ca1</em> in one pass and is non-recursive.  When text  of
a  potential substitution  name, surrounded  by "%" (ASCII
$25)  delimiters is  encountered  by <code><a href="#entry73756273746974757465">substitute</a></code>, the
following occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the name is null, a single delimiter character is
passed to the output, i.e., "%%" is replaced by "%". The
current number of substitutions is not changed.</p>
</li>
<li>
<p>If the text is a valid substitution name acceptable to
<code><a href="#entry7265706C61636573">replaces</a></code>, the leading and trailing
delimiter characters and the enclosed substitution name
are replaced by the substitution text. The current number
of substitutions is incremented.</p>
</li>
<li>
<p>If the text is not a valid substitution name, the name
with leading and trailing delimiters is passed unchanged
to the output. The current number of substitutions is not
changed.</p>
</li>
<li>
<p>Parsing of the input string resumes after the trailing
delimiter.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If after processing any pairs of delimiters, the residue of
the input string contains a single delimiter,  the residue
is passed unchanged to the output.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E657363617065">unescape</a></code>, <code><a href="#entry737562737469747574696F6E2D64656C696D697465723F">substitution-delimiter?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.substitute.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737562737469747574652D776F72646C697374-src-lib-strings-replaces-fs"><a id="entry737562737469747574652D776F72646C697374"></a>substitute-wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>substitute-wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Word list for substitution names and replacement texts.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7265706C61636573">replaces</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.replaces.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737562737469747574696F6E-src-lib-strings-replaces-fs"><a id="entry737562737469747574696F6E"></a>substitution</h3>
<div class="listingblock">
<div class="content">
<pre>substitution ( ca1 len1 -- ca2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Given a string <em>ca1 len1</em> create its substitution and
storage space.  Return the address of the buffer for the
substitution text.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7265706C61636573">replaces</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.replaces.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737562737469747574696F6E2D64656C696D69746572-src-lib-strings-substitute-fs"><a id="entry737562737469747574696F6E2D64656C696D69746572"></a>substitution-delimiter</h3>
<div class="listingblock">
<div class="content">
<pre>substitution-delimiter ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>A character constant that returns the character used as
delimiter by <code><a href="#entry73756273746974757465">substitute</a></code>. By default it&#8217;s "%".</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry737562737469747574696F6E2D64656C696D697465723F">substitution-delimiter?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.substitute.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737562737469747574696F6E2D64656C696D697465723F-src-lib-strings-substitute-fs"><a id="entry737562737469747574696F6E2D64656C696D697465723F"></a>substitution-delimiter?</h3>
<div class="listingblock">
<div class="content">
<pre>substitution-delimiter? ( ca -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Does <em>ca</em> contains the character hold in the character
constant <code><a href="#entry737562737469747574696F6E2D64656C696D69746572">substitution-delimiter</a></code>? If so return <em>true</em>,
else return <em>false</em>.</p>
</div>
<div class="paragraph">
<p><code>substitution-delimiter?</code> is a factor of <code><a href="#entry73756273746974757465">substitute</a></code>.</p>
</div>
<div class="paragraph">
<p><code>substitution-delimiter?</code> is written in Z80. Its
equivalent definition is Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: substitution-delimiter? ( ca -- f )
 c@ substitution-delimiter = ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.substitute.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7375666669783F-src-lib-strings-MISC-fs"><a id="entry7375666669783F"></a>suffix?</h3>
<div class="listingblock">
<div class="content">
<pre>suffix? ( ca1 len1 ca2 len2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is string <em>ca2 len2</em> the suffix of string <em>ca1 len1</em>?</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D737566666978">-suffix</a></code>, <code><a href="#entry7072656669783F">prefix?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73776170-src-kernel-z80s"><a id="entry73776170"></a>swap</h3>
<div class="listingblock">
<div class="content">
<pre>swap ( x1 x2 -- x2 x1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737761702D63757272656E74-src-lib-word_lists-fs"><a id="entry737761702D63757272656E74"></a>swap-current</h3>
<div class="listingblock">
<div class="content">
<pre>swap-current ( wid1 -- wid2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Exchange the contents of the current compilation word list,
which is idenfified by <em>wid2</em>, with the word list
identified by <code><a href="#entry77696431">wid1</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: lpForth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73776170706564-src-lib-data_stack-fs"><a id="entry73776170706564"></a>swapped</h3>
<div class="listingblock">
<div class="content">
<pre>swapped ( i*x n1 n2 -- j*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove <em>n1</em> and <em>n2</em>. Swap elements <em>n1</em> and <em>n2</em> of the
stack, being 0 the top of the stack. <code>0 1 swapped</code> is
equivalent to <code><a href="#entry73776170">swap</a></code>.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  ( 1 2 3 4 5 ) 1 4 swapped ( 4 2 3 1 5 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data_stack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry737769746368-src-lib-flow-switch-colon-fs"><a id="entry737769746368"></a>switch</h3>
<div class="listingblock">
<div class="content">
<pre>switch ( x switch -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Execute the switch <em>switch</em> for the key <em>x</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7377697463683A">switch:</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.switch-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7377697463683A-src-lib-flow-switch-colon-fs"><a id="entry7377697463683A"></a>switch:</h3>
<div class="listingblock">
<div class="content">
<pre>switch: ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a new switch control structure <em>name</em>, which is a
word list the clauses of the structure will be added to.</p>
</div>
<div class="paragraph">
<p>The keys can be 1-byte, 1-cell or 2-cell numbers, but the
correspondent words must be used to create the clauses and
execute them later:</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>switch: mynumber

\ Define clauses:

0       mynumber :clause  ( -- ) cr ." zero" ;
1       mynumber :cclause ( -- ) cr ." one" ;
2048    mynumber :clause  ( -- ) cr ." 2 KiB" ;
100000. mynumber :2clause ( -- ) cr ." big" ;

\ Execute the clauses:

0       mynumber switch
1       mynumber cswitch
2048    mynumber switch
100000. mynumber 2switch</pre>
</div>
</div>
<div class="paragraph">
<p>New clauses can be added any time, in any order, with any
key.</p>
</div>
<div class="paragraph">
<p>Clauses created with <code><a href="#entry3A636C61757365">:clause</a></code> (for 1-cell keys),
<code><a href="#entry3A63636C61757365">:cclause</a></code> (for character keys) and <code><a href="#entry3A32636C61757365">:2clause</a></code> (for 2-cell
keys) must be executed with <code><a href="#entry737769746368">switch</a></code>, <code><a href="#entry63737769746368">cswitch</a></code> and
<code><a href="#entry32737769746368">2switch</a></code> respectively. The smaller the key type, the less
memory used by clauses in headers space (every clause is a
definition whose name is the binary string of its key) and
the less execution time, though the difference will be
unimportant in most cases.</p>
</div>
<div class="paragraph">
<p>If a new clause is added with a previously used key, the
new clause will replace the old one.</p>
</div>
<div class="paragraph">
<p>There&#8217;s no default clause: if the a given key is not found,
no code is executed and no exception is thrown.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.switch-colon.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7377697463685D-src-lib-flow-bracket-switch-fs"><a id="entry7377697463685D"></a>switch]</h3>
<div class="listingblock">
<div class="content">
<pre>switch] ( head -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Terminate a switch structure (or the latest additions to
it) by marking the end of its linked list.  Discard the
switch <em>head</em> from the stack.</p>
</div>
<div class="paragraph">
<p>Origin: SwiftForth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry5B737769746368">[switch</a></code>, <code><a href="#entry5B2B737769746368">[+switch</a></code>, <code><a href="#entry72756E73">runs</a></code>, <code><a href="#entry72756E3A">run:</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7377697463686572-src-lib-flow-bracket-switch-fs"><a id="entry7377697463686572"></a>switcher</h3>
<div class="listingblock">
<div class="content">
<pre>switcher ( i*x n head -- j*x )</pre>
</div>
</div>
<div class="paragraph">
<p>Search the linked list from its <em>head</em> for a match to the
value <em>n</em>. If a match is found, discard <em>n</em> and execute the
associated matched <em>xt</em>. If no match is found, leave <em>n</em> on
the stack and execute the default xt.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3A737769746368">:switch</a></code>, <code><a href="#entry5B737769746368">[switch</a></code>, <code><a href="#entry3C737769746368">&lt;switch</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.bracket-switch.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73796E6F6E796D-src-lib-define-synonym-fs"><a id="entry73796E6F6E796D"></a>synonym</h3>
<div class="listingblock">
<div class="content">
<pre>synonym ( "newname" "oldname" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition for <em>newname</em> with the the semantics
defined below. <em>newname</em> may be the same as <em>oldname</em>; when
looking up <em>oldname</em>, <em>newname</em> shall not be found.</p>
</div>
<div class="paragraph">
<p>newname ( Interpretation: i*x&#8201;&#8212;&#8201;j*x )</p>
</div>
<div class="paragraph">
<p>Perform the interpretation semantics of <em>oldname</em>.</p>
</div>
<div class="paragraph">
<p>newname ( Compilation: i*x&#8201;&#8212;&#8201;j*x )</p>
</div>
<div class="paragraph">
<p>Perform the compilation semantics of <em>oldname</em>.</p>
</div>
<div class="paragraph">
<p>Synonyms have the execution token of the old word and,
contrary to aliases created by <code><a href="#entry616C696173">alias</a></code>, they also inherit
its attributes (immediate and compile-only).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry616C696173">alias</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (TOOLS EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/define.synonym.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry73797374656D-src-lib-tool-turnkey-fs"><a id="entry73797374656D"></a>system</h3>
<div class="listingblock">
<div class="content">
<pre>system ( -- a len )</pre>
</div>
</div>
<div class="paragraph">
<p>Prepare the system in order to save a copy.  Return its
start address and length, to be used as parameters for
saving the system to disk.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.turnkey.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74-src-lib-editor-specforth-fs"><a id="entry74"></a>t</h3>
<div class="listingblock">
<div class="content">
<pre>t ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Type line <em>n</em> and save in <code><a href="#entry706164">pad</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry78">x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746162-src-lib-display-control-fs"><a id="entry746162"></a>tab</h3>
<div class="listingblock">
<div class="content">
<pre>tab ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Emit a tabulate character (character code 6), which moves
the print position to the next 16-character column.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2774616227">'tab'</a></code>, <code><a href="#entry746162756C617465">tabulate</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74616273-src-lib-display-control-fs"><a id="entry74616273"></a>tabs</h3>
<div class="listingblock">
<div class="content">
<pre>tabs ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Emit <em>n</em> number of tab characters (character code 6).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746162">tab</a></code>, <code><a href="#entry2774616227">'tab'</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746162756C617465-src-lib-display-control-fs"><a id="entry746162756C617465"></a>tabulate</h3>
<div class="listingblock">
<div class="content">
<pre>tabulate ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display the appropriate number of spaces to tabulate to the
next position, using the value of <code><a href="#entry2F746162756C617465">/tabulate</a></code>.</p>
</div>
<div class="paragraph">
<p>Note <code><a href="#entry746162756C617465">tabulate</a></code> does not uses the "tab" control code, whose
behaviour depends on the screen mode (in the default screen
mode, it moves the cursor 16 positions to the right).
<code><a href="#entry746162756C617465">tabulate</a></code> prints spaces and is independent from the screen
mode.</p>
</div>
<div class="paragraph">
<p>See <code><a href="#entry2F746162756C617465">/tabulate</a></code>, <code><a href="#entry746162">tab</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.control.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D66696C653E-src-lib-tape-fs"><a id="entry746170652D66696C653E"></a>tape-file&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>tape-file&gt; ( ca1 len1 ca2 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Read a tape file <em>ca1 len1</em> (<em>len1</em> is zero if filename is
unspecified) into a memory region <em>ca2 len2</em>.</p>
</div>
<div class="paragraph">
<p><em>ca2</em> is zero if the address must be taken from the file
header instead, which is the address the file was saved
from.  <em>len2</em> is zero if it&#8217;s unspecified.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If <em>len2</em> is not zero or the exact length of the
file, the ROM routine returns to BASIC with "Tape loading
error". This crashes the system, because in Solo Forth the
lower screen has no lines, and BASIC can not print the
message. This will be avoided in a future version of Solo
Forth.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E746170652D66696C65">&gt;tape-file</a></code>, <code><a href="#entry28746170652D66696C653E29">(tape-file&gt;)</a></code>, <code><a href="#entry3E66696C65">&gt;file</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D66696C656E616D65-src-lib-tape-fs"><a id="entry746170652D66696C656E616D65"></a>tape-filename</h3>
<div class="listingblock">
<div class="content">
<pre>tape-filename ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the filename in <code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F746170652D66696C656E616D65">/tape-filename</a></code>, <code><a href="#entry7365742D746170652D66696C656E616D65">set-tape-filename</a></code>,
<code><a href="#entry6C6173742D746170652D66696C656E616D65">last-tape-filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D66696C6574797065-src-lib-tape-fs"><a id="entry746170652D66696C6574797065"></a>tape-filetype</h3>
<div class="listingblock">
<div class="content">
<pre>tape-filetype ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the file type (one byte) in <code><a href="#entry746170652D686561646572">tape-header</a></code>.
Its default value is 3 (code file).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D746170652D66696C6574797065">last-tape-filetype</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D686561646572-src-lib-tape-fs"><a id="entry746170652D686561646572"></a>tape-header</h3>
<div class="listingblock">
<div class="content">
<pre>tape-header ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the tape header, which is used by the ROM
routines. Its structure is the following:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. Structure of a tape header</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Offset</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filetype (3 for code files)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 chars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filename, padded with spaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">length</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">start address</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not used for code files</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When the first char of the filename is 255, it is regarded
as a wildcard which will match any filename. The word
<code><a href="#entry746170652D66696C653E">tape-file&gt;</a></code> sets the wildcard when the provided filename
is empty.</p>
</div>
<div class="paragraph">
<p>A second tape header, pointed by <code><a href="#entry6C6173742D746170652D686561646572">last-tape-header</a></code>,
follows the main one. It is used by the ROM routines while
loading. It can be used by the application to know the
details of the last tape file that was loaded.</p>
</div>
<div class="paragraph">
<p>IX addresses the first header, which must contain the data.
The second header is used by the system when loading and
verifying. Only the "CODE" file type column is relevant to
Solo Forth.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. Detailed structure of both tape headers</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">First header</th>
<th class="tableblock halign-left valign-top">Second header</th>
<th class="tableblock halign-left valign-top">BASIC program</th>
<th class="tableblock halign-left valign-top">Num DATA</th>
<th class="tableblock halign-left valign-top">String DATA</th>
<th class="tableblock halign-left valign-top">CODE</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">F ($FF if filename is null)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">i</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$06</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">m</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$08</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$1A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$0A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$1B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Padding spaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$0B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$1C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$0C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$1D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;length of datablock</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$0D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$1E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Auto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Various</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$0E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$1F</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a-z</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a-z</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">addr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">($80 if no autostart).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$0F</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Length of program only&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IX+$21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;i.e. without variables</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See also: <code><a href="#entry746170652D66696C656E616D65">tape-filename</a></code>, <code><a href="#entry746170652D66696C6574797065">tape-filetype</a></code>, <code><a href="#entry746170652D7374617274">tape-start</a></code>,
<code><a href="#entry746170652D6C656E677468">tape-length</a></code>, <code><a href="#entry616E792D746170652D66696C656E616D65">any-tape-filename</a></code>, <code><a href="#entry3F7365742D746170652D66696C656E616D65">?set-tape-filename</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D6C656E677468-src-lib-tape-fs"><a id="entry746170652D6C656E677468"></a>tape-length</h3>
<div class="listingblock">
<div class="content">
<pre>tape-length ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the file length in <code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D746170652D6C656E677468">last-tape-length</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D6C656E677468-src-lib-tape-fs">tape-length</h3>
<div class="listingblock">
<div class="content">
<pre>tape-length ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the file length in <code><a href="#entry6C6173742D746170652D686561646572">last-tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746170652D6C656E677468">tape-length</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D7374617274-src-lib-tape-fs"><a id="entry746170652D7374617274"></a>tape-start</h3>
<div class="listingblock">
<div class="content">
<pre>tape-start ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the file start in <code><a href="#entry746170652D686561646572">tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6173742D746170652D7374617274">last-tape-start</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746170652D7374617274-src-lib-tape-fs">tape-start</h3>
<div class="listingblock">
<div class="content">
<pre>tape-start ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address of the file start in <code><a href="#entry6C6173742D746170652D686561646572">last-tape-header</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746170652D7374617274">tape-start</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tape.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7461736B-src-lib-multitask-muench-koh-fs"><a id="entry7461736B"></a>task</h3>
<div class="listingblock">
<div class="content">
<pre>task ( user_size ds_size rs_size "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a new task.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7461736B73-src-lib-multitask-muench-koh-fs"><a id="entry7461736B73"></a>tasks</h3>
<div class="listingblock">
<div class="content">
<pre>tasks ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display tasks list in status-follower chain.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7465726D696E616C3E736F75726365-src-kernel-z80s"><a id="entry7465726D696E616C3E736F75726365"></a>terminal&gt;source</h3>
<div class="listingblock">
<div class="content">
<pre>terminal&gt;source ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the terminal as the current source.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: terminal&gt;source ( -- )
  blk off (source-id) off tib #tib @ set-source ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D736F75726365">set-source</a></code>, <code><a href="#entry626C6B">blk</a></code>, <code><a href="#entry746962">tib</a></code>, <code><a href="#entry23746962">#tib</a></code>, <code><a href="#entry28736F757263652D696429">(source-id)</a></code>,
<code><a href="#entry626C6F636B3E736F75726365">block&gt;source</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74657874-src-lib-editor-specforth-fs"><a id="entry74657874"></a>text</h3>
<div class="listingblock">
<div class="content">
<pre>text ( "ccc&lt;eol&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Get the text string until end of line and store it into
<code><a href="#entry706164">pad</a></code> as a counted string, blank-filling the remainder of
<code><a href="#entry706164">pad</a></code> to <code><a href="#entry632F6C">c/l</a></code> characters.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7468656E-src-kernel-z80s"><a id="entry7468656E"></a>then</h3>
<div class="listingblock">
<div class="content">
<pre>then ( orig -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>then</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7468657265-src-lib-compilation-fs"><a id="entry7468657265"></a>there</h3>
<div class="listingblock">
<div class="content">
<pre>there ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>a</em> as the address of the data-space pointer.
A non-standard counterpart of <code><a href="#entry68657265">here</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7468697363617365-src-lib-flow-thiscase-fs"><a id="entry7468697363617365"></a>thiscase</h3>
<div class="listingblock">
<div class="content">
<pre>thiscase ( x -- x x )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark the start of an alternative <code><a href="#entry63617365">case</a></code> structure.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: say0      ( -- ) ." nul" ;
: say1      ( -- ) ." unu" ;
: say2      ( -- ) ." du" ;
: say-other ( -- ) ." alia" ;

: test ( x -- )
  thiscase  0 = ifcase  say0  exitcase
  thiscase  1 = ifcase  say1  exitcase
  thiscase  2 = ifcase  say2  exitcase
  othercase say-other ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696663617365">ifcase</a></code>, <code><a href="#entry6578697463617365">exitcase</a></code>, <code><a href="#entry6F7468657263617365">othercase</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.thiscase.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7468726F77-src-kernel-z80s"><a id="entry7468726F77"></a>throw</h3>
<div class="listingblock">
<div class="content">
<pre>throw ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: throw ( n -- )
  ?dup if
    catcher @ ?dup 0=   \ no catcher?
    if  error  then     \ `&lt;&lt;entry6572726F72, pass:c[error]&gt;&gt;` does not return
    rp!                 \ restore previous return stack
    r&gt; catcher !        ( n ) \ restore previous catcher
    r&gt; swap &gt;r          ( saved-SP ) ( R: n )
    sp! drop r&gt;         ( n ) \ restore stack
    \ Return to the caller of `&lt;&lt;entry6361746368, pass:c[catch]&gt;&gt;` because return stack is
    \ restored to the state that existed when `&lt;&lt;entry6361746368, pass:c[catch]&gt;&gt;` began
    \ execution.
  then ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (EXCEPTION), Forth-2012 (EXCEPTION).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74687275-src-lib-blocks-fs"><a id="entry74687275"></a>thru</h3>
<div class="listingblock">
<div class="content">
<pre>thru ( block1 block2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Load consecutively the blocks from <em>block1</em> through
<em>block2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Reference Word Set), Forth-83
(Controlled Reference Words), Forth-94 (BLOCK EXT),
Forth-2012 (BLOCK EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F6164">load</a></code>, <code><a href="#entry2B74687275">+thru</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746872752D696E6465782D6E656564-src-lib-blocks-indexer-thru-fs"><a id="entry746872752D696E6465782D6E656564"></a>thru-index-need</h3>
<div class="listingblock">
<div class="content">
<pre>thru-index-need ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If word "name" is found in the current search order, do
nothing. Otherwise search the index word list for it. If
found, execute it, causing its associated block be loaded.
If not found, throw an exception -277 ("needed, but not
indexed").</p>
</div>
<div class="paragraph">
<p>This is an alternative action of the deferred word
<code><a href="#entry6E656564">need</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.thru.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746872752D696E6465782D6E6565646564-src-lib-blocks-indexer-thru-fs"><a id="entry746872752D696E6465782D6E6565646564"></a>thru-index-needed</h3>
<div class="listingblock">
<div class="content">
<pre>thru-index-needed ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If word <em>ca len</em> is found in the current search order, do
nothing. Otherwise search the index word list for it. If
found, execute it, causing its associated block be loaded.
If not found, throw an exception -277 ("needed, but not
indexed").</p>
</div>
<div class="paragraph">
<p>This is an alternative action of the deferred word
<code><a href="#entry6E6565646564">needed</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.thru.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746872752D696E6465782D72656E656564-src-lib-blocks-indexer-thru-fs"><a id="entry746872752D696E6465782D72656E656564"></a>thru-index-reneed</h3>
<div class="listingblock">
<div class="content">
<pre>thru-index-reneed ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Search the index word list for word "name". If found,
execute it, causing its associated block be loaded.  If not
found, throw an exception -277 ("needed, but not
indexed").</p>
</div>
<div class="paragraph">
<p>This is an alternative action of the deferred word
<code><a href="#entry72656E656564">reneed</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.thru.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746872752D696E6465782D72656E6565646564-src-lib-blocks-indexer-thru-fs"><a id="entry746872752D696E6465782D72656E6565646564"></a>thru-index-reneeded</h3>
<div class="listingblock">
<div class="content">
<pre>thru-index-reneeded ( ca len-- )</pre>
</div>
</div>
<div class="paragraph">
<p>Search the index word list for word <em>ca len</em>. If found,
load the block it&#8217;s associated to.  If not found, throw an
exception -277 ("needed, but not indexed").</p>
</div>
<div class="paragraph">
<p>This is an alternative action of the deferred word
<code><a href="#entry72656E6565646564">reneeded</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.thru.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746962-src-kernel-z80s"><a id="entry746962"></a>tib</h3>
<div class="listingblock">
<div class="content">
<pre>tib ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of the terminal input buffer.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (CORE EXT,
obsolescent).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F746962">/tib</a></code>, <code><a href="#entry23746962">#tib</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74696C6C-src-lib-editor-specforth-fs"><a id="entry74696C6C"></a>till</h3>
<div class="listingblock">
<div class="content">
<pre>till ( "ccc&lt;eol&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Delete on the cursor line from the cursor till the end of
string "ccc".</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74696D652664617465-src-lib-time-fs"><a id="entry74696D652664617465"></a>time&amp;date</h3>
<div class="listingblock">
<div class="content">
<pre>time&amp;date ( -- second minute hour day month year )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current time and date: second, minute, hour,
day, month and year.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (FACILITY EXT), Forth-201 (FACILITY EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6765742D74696D65">get-time</a></code>, <code><a href="#entry6765742D64617465">get-date</a></code>, <code><a href="#entry7365742D74696D65">set-time</a></code>, <code><a href="#entry7365742D64617465">set-date</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74696D6573-src-lib-flow-times-fs"><a id="entry74696D6573"></a>times</h3>
<div class="listingblock">
<div class="content">
<pre>times ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Repeat the next compiled instruction <em>n</em> times.  If <em>n</em> is
zero, continue executing the following instruction.</p>
</div>
<div class="paragraph">
<p><code>times</code> is useful to implement complicated math
operations, like shifts, multiply, divide and square root,
from appropriate math step instructions.  It is also useful
in repeating auto-indexing memory instructions.</p>
</div>
<div class="paragraph">
<p>This structure is not nestable.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: blink ( -- ) 7 0 ?do  i border  loop  0 border ;
: blinking ( -- ) 100 times blink  ." Done" cr ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6474696D6573">dtimes</a></code>, <code><a href="#entry657865637574696F6E73">executions</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/flow.times.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746E6567617465-src-lib-math-operators-3-cell-fs"><a id="entry746E6567617465"></a>tnegate</h3>
<div class="listingblock">
<div class="content">
<pre>tnegate ( t1 -- t2 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>t2</em> is the negation of <em>t1</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.3-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746F-src-lib-data-value-fs"><a id="entry746F"></a>to</h3>
<div class="listingblock">
<div class="content">
<pre>to
  Interpretation: ( i*x "name" -- )
  Compilation:    ( "name" -- )
  Run-time:       ( i*x -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>to</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>Interpretation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is a word created by <code><a href="#entry6376616C7565">cvalue</a></code>, <code><a href="#entry76616C7565">value</a></code>
or <code><a href="#entry3276616C7565">2value</a></code>, and make <em>i*x</em> its value.</p>
</div>
<div class="paragraph">
<p>Compilation:</p>
</div>
<div class="paragraph">
<p>Parse <em>name</em>, which is a word created by <code><a href="#entry6376616C7565">cvalue</a></code>, <code><a href="#entry76616C7565">value</a></code>
or <code><a href="#entry3276616C7565">2value</a></code>, and append the execution execution semantics
given below to the current definition.</p>
</div>
<div class="paragraph">
<p>Run-time:</p>
</div>
<div class="paragraph">
<p>Make <em>i*x</em> the value of <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746F617267-src-lib-locals-arguments-fs"><a id="entry746F617267"></a>toarg</h3>
<div class="listingblock">
<div class="content">
<pre>toarg ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the store action for the next local variable created by
<code><a href="#entry617267756D656E7473">arguments</a></code>.</p>
</div>
<div class="paragraph">
<p>Loading <code>toarg</code> makes <code><a href="#entry40">@</a></code> the default action of
<code><a href="#entry617267756D656E7473">arguments</a></code> locals, which is hold in <code><a href="#entry6172672D64656661756C742D616374696F6E">arg-default-action</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B746F617267">+toarg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/locals.arguments.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746F67676C652D636170736C6F636B-src-lib-keyboard-caps_lock-fs"><a id="entry746F67676C652D636170736C6F636B"></a>toggle-capslock</h3>
<div class="listingblock">
<div class="content">
<pre>toggle-capslock ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Toggle capslock.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D636170736C6F636B">set-capslock</a></code>, <code><a href="#entry756E7365742D636170736C6F636B">unset-capslock</a></code>, <code><a href="#entry636170736C6F636B3F">capslock?</a></code>,
<code><a href="#entry636170736C6F636B">capslock</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.caps_lock.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746F67676C652D706978656C-src-lib-graphics-pixels-fs"><a id="entry746F67676C652D706978656C"></a>toggle-pixel</h3>
<div class="listingblock">
<div class="content">
<pre>toggle-pixel ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Toggle a pixel without changing its attribute on the screen
or the current graphic coordinates.  <em>gx</em> is 0..255; <em>gy</em>
is 0..191.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry72657365742D706978656C">reset-pixel</a></code>, <code><a href="#entry746F67676C652D706978656C313736">toggle-pixel176</a></code>,
<code><a href="#entry7365742D706978656C313736">set-pixel176</a></code>, <code><a href="#entry72657365742D706978656C313736">reset-pixel176</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry706C6F74313736">plot176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746F67676C652D706978656C313736-src-lib-graphics-pixels-fs"><a id="entry746F67676C652D706978656C313736"></a>toggle-pixel176</h3>
<div class="listingblock">
<div class="content">
<pre>toggle-pixel176 ( gx gy -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Toggle a pixel without changing its attribute on the screen
or the current graphic coordinates, and using only the top
176 pixel rows of the screen (the lower 16 pixel rows are
not used).  <em>gx</em> is 0..255; <em>gy</em> is 0..175.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746F67676C652D706978656C">toggle-pixel</a></code>, <code><a href="#entry7365742D706978656C">set-pixel</a></code>, <code><a href="#entry72657365742D706978656C">reset-pixel</a></code>,
<code><a href="#entry7365742D706978656C313736">set-pixel176</a></code>, <code><a href="#entry72657365742D706978656C313736">reset-pixel176</a></code>, <code><a href="#entry706C6F74">plot</a></code>, <code><a href="#entry706C6F74313736">plot176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746F70-src-lib-editor-COMMON-fs"><a id="entry746F70"></a>top</h3>
<div class="listingblock">
<div class="content">
<pre>top ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Position the editing cursor at the top of the block.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.COMMON.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry746F76616C-src-lib-data-val-fs"><a id="entry746F76616C"></a>toval</h3>
<div class="listingblock">
<div class="content">
<pre>toval ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the default behaviour of words created by <code><a href="#entry76616C">val</a></code>:
make them store a new value instead of returning its actual
one.</p>
</div>
<div class="paragraph">
<p><code>toval</code> and <code><a href="#entry76616C">val</a></code> are a non-parsing alternative to the
standard <code><a href="#entry746F">to</a></code> and <code><a href="#entry76616C7565">value</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry63746F76616C">ctoval</a></code>, <code><a href="#entry32746F76616C">2toval</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74722D646F73-src-kernel-z80s"><a id="entry74722D646F73"></a>tr-dos</h3>
<div class="listingblock">
<div class="content">
<pre>tr-dos ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>An alias of <code><a href="#entry6E6F6F70">noop</a></code> that is defined only in the TR-DOS version
of Solo Forth.  Its goal is to be used to check the DOS the
application is running on.</p>
</div>
<div class="paragraph">
<p><code>tr-dos</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> word.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646F73">dos</a></code>, <code><a href="#entry672B646F73">g+dos</a></code>, <code><a href="#entry2B33646F73">+3dos</a></code>, <code><a href="#entry646566696E6564">defined</a></code>, <code><a href="#entry5B646566696E65645D">[defined]</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747261696C-src-lib-word_lists-fs"><a id="entry747261696C"></a>trail</h3>
<div class="listingblock">
<div class="content">
<pre>trail ( -- nt )</pre>
</div>
</div>
<div class="paragraph">
<p>Leave the <em>nt</em> of the topmost word in the first word list
of the search order.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry636F6E74657874">context</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7472616E736665722D626C6F636B-src-kernel-plus3dos-z80s"><a id="entry7472616E736665722D626C6F636B"></a>transfer-block</h3>
<div class="listingblock">
<div class="content">
<pre>transfer-block ( u -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>The block-level disk read-write linkage.  Transfer block <em>u</em>
to or from disk.  The read or write mode must be previously
set by <code><a href="#entry77726974652D6D6F6465">write-mode</a></code> or <code><a href="#entry726561642D6D6F6465">read-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: transfer-block ( u -- )
  &gt;drive-block sectors/block * dup
    block-sector#&gt;dos buffer-data
    transfer-sector throw
 1+ block-sector#&gt;dos [ buffer-data b/sector + ] literal
    transfer-sector throw ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7472616E736665722D736563746F72">transfer-sector</a></code>, <code><a href="#entry626C6F636B2D736563746F72233E646F73">block-sector#&gt;dos</a></code>,
<code><a href="#entry3E64726976652D626C6F636B">&gt;drive-block</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7472616E736665722D6279746573-src-kernel-plus3dos-z80s"><a id="entry7472616E736665722D6279746573"></a>transfer-bytes</h3>
<div class="listingblock">
<div class="content">
<pre>transfer-bytes ( n ca len fid -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>Transfer <em>len</em> bytes to/from file <em>fid</em> to/from memory, using <em>n</em> as
page $C000..$FFFF.  The read or write mode must be previously set by
<code><a href="#entry77726974652D6D6F6465">write-mode</a></code> or <code><a href="#entry726561642D6D6F6465">read-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7472616E736665722D736563746F72-src-kernel-plus3dos-z80s"><a id="entry7472616E736665722D736563746F72"></a>transfer-sector</h3>
<div class="listingblock">
<div class="content">
<pre>transfer-sector ( x a -- ior )</pre>
</div>
</div>
<div class="paragraph">
<p>The sector-level disk read-write linkage.  Transfer one
sector from memory address <em>a</em> to disk sector <em>x</em> or the
other way around.  The read or write mode must be previously
set by <code><a href="#entry77726974652D6D6F6465">write-mode</a></code> or <code><a href="#entry726561642D6D6F6465">read-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7472616E7369656E74-src-lib-modules-transient-fs"><a id="entry7472616E7369656E74"></a>transient</h3>
<div class="listingblock">
<div class="content">
<pre>transient ( u1 u2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Start transient code, reserving <em>u1</em> bytes of headers space
for it, which will be allocated at the top of the far
memory, and <em>u2</em> bytes of data space for it, which will be
allocated at the top of the main memory.  Therefore the
memory used by the transient code must be known in advance.</p>
</div>
<div class="paragraph">
<p>The inner operation is: Save the current values of <code><a href="#entry6470">dp</a></code>,
<code><a href="#entry6E70">np</a></code> <code><a href="#entry63757272656E742D6C6174657374">current-latest</a></code>, <code><a href="#entry6C61746573742D776F72646C697374">latest-wordlist</a></code>, <code><a href="#entry6C696D6974">limit</a></code> and
<code><a href="#entry6661726C696D6974">farlimit</a></code>; then reserve data and headers space as said and
update <code><a href="#entry6C696D6974">limit</a></code> and <code><a href="#entry6661726C696D6974">farlimit</a></code> accordingly.</p>
</div>
<div class="paragraph">
<p><code>transient</code> must be used before compiling the transient
code.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>2025 1700 transient

need assembler

end-transient

\ ...use assembler here...

forget-transient</pre>
</div>
</div>
<div class="paragraph">
<p>The values of <code><a href="#entry6C696D6974">limit</a></code> and <code><a href="#entry6661726C696D6974">farlimit</a></code> must be preserved
between <code><a href="#entry7472616E7369656E74">transient</a></code> and <code><a href="#entry656E642D7472616E7369656E74">end-transient</a></code>, because
<code><a href="#entry666F726765742D7472616E7369656E74">forget-transient</a></code> restores them to their previous state,
before <code><a href="#entry7472616E7369656E74">transient</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.transient.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7472616E736C6174652D63686172-src-kernel-z80s"><a id="entry7472616E736C6174652D63686172"></a>translate-char</h3>
<div class="listingblock">
<div class="content">
<pre>translate-char ( c1 -- c1 | c2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Translate char <em>c1</em> using the current keyboard decoding table,
pointed by <code><a href="#entry6B65792D7472616E736C6174696F6E2D7461626C65">key-translation-table</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7472616E736C6174652D63686172-src-kernel-z80s">translate-char</h3>
<div class="listingblock">
<div class="content">
<pre>translate-char ( c1 -- c2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7472696D-src-lib-strings-MISC-fs"><a id="entry7472696D"></a>trim</h3>
<div class="listingblock">
<div class="content">
<pre>trim ( ca1 len1 -- ca1' len1' )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove leading and trailing spaces from a string <em>ca len1</em>,
returning string <em>ca1' len1'</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2D6C656164696E67">-leading</a></code>, <code><a href="#entry2D747261696C696E67">-trailing</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74727565-src-kernel-z80s"><a id="entry74727565"></a>true</h3>
<div class="listingblock">
<div class="content">
<pre>true ( -- true )</pre>
</div>
</div>
<div class="paragraph">
<p>Return a <em>true</em> flag, a single-cell value with all its bits
set (equivalent to -1).</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry66616C7365">false</a></code>, <code><a href="#entry2D31">-1</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7475636B-src-kernel-z80s"><a id="entry7475636B"></a>tuck</h3>
<div class="listingblock">
<div class="content">
<pre>tuck ( x1 x2 -- x2 x1 x2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy the first (top) stack item below the second stack item.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry647570">dup</a></code>, <code><a href="#entry6F766572">over</a></code>, <code><a href="#entry6E6970">nip</a></code>, <code><a href="#entry6E7570">nup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7475726E6B6579-src-lib-tool-turnkey-fs"><a id="entry7475726E6B6579"></a>turnkey</h3>
<div class="listingblock">
<div class="content">
<pre>turnkey ( xt -- a len )</pre>
</div>
</div>
<div class="paragraph">
<p>Prepare the system in order to save a copy that will
execute the given xt after the ordinary boot process.
Return its start address and length, to be used as
parameters for saving the system to disk.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.turnkey.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry74797065-src-kernel-z80s"><a id="entry74797065"></a>type</h3>
<div class="listingblock">
<div class="content">
<pre>type ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display the character string
<em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>: type ( ca len&#8201;&#8212;&#8201;)
  bounds ?do i c@ emit loop ;</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D756467">type-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D6173636969-src-lib-display-type-fs"><a id="entry747970652D6173636969"></a>type-ascii</h3>
<div class="listingblock">
<div class="content">
<pre>type-ascii ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display the string <em>ca len</em>,
replacing non-ASCII and control chars with a dot.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D63656E7465722D6669656C64-src-lib-display-type-fs"><a id="entry747970652D63656E7465722D6669656C64"></a>type-center-field</h3>
<div class="listingblock">
<div class="content">
<pre>type-center-field ( ca1 len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len1</em> is greater than zero, display the character
string <em>ca1 len1</em> at the center of a field of <em>len2</em>
characters.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D63656E7465722D6669656C642D666974">type-center-field-fit</a></code>,
<code><a href="#entry747970652D63656E7465722D6669656C642D63726F70">type-center-field-crop</a></code>, <code><a href="#entry64726F702D74797065">drop-type</a></code>, <code><a href="#entry747970652D6C6566742D6669656C64">type-left-field</a></code>,
<code><a href="#entry747970652D72696768742D6669656C64">type-right-field</a></code>, <code><a href="#entry67696761747970652D7469746C65">gigatype-title</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D63656E7465722D6669656C642D63726F70-src-lib-display-type-fs"><a id="entry747970652D63656E7465722D6669656C642D63726F70"></a>type-center-field-crop</h3>
<div class="listingblock">
<div class="content">
<pre>type-center-field-crop ( ca1 len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len1</em> is greater than zero, display the character
string <em>ca1 len1</em> at the center of a field of <em>len2</em>
characters, which is shorter than the string.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D63656E7465722D6669656C642D666974">type-center-field-fit</a></code>, <code><a href="#entry747970652D63656E7465722D6669656C64">type-center-field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D63656E7465722D6669656C642D666974-src-lib-display-type-fs"><a id="entry747970652D63656E7465722D6669656C642D666974"></a>type-center-field-fit</h3>
<div class="listingblock">
<div class="content">
<pre>type-center-field-fit ( ca1 len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len1</em> is greater than zero, display the character
string <em>ca1 len1</em> at the center of a field of <em>len2</em>
characters, which is longer than the string.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D63656E7465722D6669656C642D63726F70">type-center-field-crop</a></code>, <code><a href="#entry747970652D63656E7465722D6669656C64">type-center-field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D6C6566742D6669656C64-src-lib-display-type-fs"><a id="entry747970652D6C6566742D6669656C64"></a>type-left-field</h3>
<div class="listingblock">
<div class="content">
<pre>type-left-field ( ca1 len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len1</em> is greater than zero, display the character
string <em>ca1 len1</em> at the left of a field of <em>len2</em>
characters.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry70616464696E672D737061636573">padding-spaces</a></code>, <code><a href="#entry747970652D72696768742D6669656C64">type-right-field</a></code>,
<code><a href="#entry747970652D63656E7465722D6669656C64">type-center-field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D72696768742D6669656C64-src-lib-display-type-fs"><a id="entry747970652D72696768742D6669656C64"></a>type-right-field</h3>
<div class="listingblock">
<div class="content">
<pre>type-right-field ( ca1 len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len1</em> is greater than zero, display the character
string <em>ca1 len1</em> at the right of a field of <em>len2</em>
characters.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D72696768742D6669656C642D666974">type-right-field-fit</a></code>, <code><a href="#entry747970652D72696768742D6669656C642D63726F70">type-right-field-crop</a></code>,
<code><a href="#entry64726F702D74797065">drop-type</a></code>, <code><a href="#entry747970652D6C6566742D6669656C64">type-left-field</a></code>, <code><a href="#entry747970652D63656E7465722D6669656C64">type-center-field</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D72696768742D6669656C642D63726F70-src-lib-display-type-fs"><a id="entry747970652D72696768742D6669656C642D63726F70"></a>type-right-field-crop</h3>
<div class="listingblock">
<div class="content">
<pre>type-right-field-crop ( ca1 len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Type string <em>ca1 len1</em> at the right of a field of <em>len2</em>
characters, which is shorter than the string.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D72696768742D6669656C64">type-right-field</a></code>, <code><a href="#entry747970652D72696768742D6669656C642D666974">type-right-field-fit</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D72696768742D6669656C642D666974-src-lib-display-type-fs"><a id="entry747970652D72696768742D6669656C642D666974"></a>type-right-field-fit</h3>
<div class="listingblock">
<div class="content">
<pre>type-right-field-fit ( ca1 len1 len2 -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Type string <em>ca1 len1</em> at the right of a field of <em>len2</em>
characters, which is longer than the string.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry747970652D72696768742D6669656C64">type-right-field</a></code>, <code><a href="#entry747970652D72696768742D6669656C642D63726F70">type-right-field-crop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.type.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry747970652D756467-src-lib-graphics-udg-fs"><a id="entry747970652D756467"></a>type-udg</h3>
<div class="listingblock">
<div class="content">
<pre>type-udg ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>len</em> is greater than zero, display the UDG character
string <em>ca len</em>. All characters of the string are printed
with <code><a href="#entry656D69742D756467">emit-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry74797065">type</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7525-src-lib-math-operators-1-cell-fs"><a id="entry7525"></a>u%</h3>
<div class="listingblock">
<div class="content">
<pre>u% ( u1 u2 -- u3 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>u1</em> is percentage <em>u3</em> of <em>u2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry25">%</a></code>, <code><a href="#entry756D2A">um*</a></code>, <code><a href="#entry756D2F6D6F64">um/mod</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry752E72-src-lib-display-numbers-fs"><a id="entry752E72"></a>u.r</h3>
<div class="listingblock">
<div class="content">
<pre>u.r ( u n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print an unsigned number <em>u</em> right justified in a field of
<em>n</em> characters wide. If the number of characters required
to print <em>u</em> is greater than <em>n</em>, all digits are displayed
with no leading spaces in a field as wide as necessary.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Reference Word Set)<sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnote_7" title="View footnote.">7</a>]</sup>, Forth-83
(Controlled Reference Word)<sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnote_8" title="View footnote.">8</a>]</sup>, Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75642E72">ud.r</a></code>, <code><a href="#entry2E72">.r</a></code>, <code><a href="#entry752E">u.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry753C-src-kernel-z80s"><a id="entry753C"></a>u&lt;</h3>
<div class="listingblock">
<div class="content">
<pre>u&lt; ( u1 u2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>u1</em> is less than <em>u2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required Word
Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3C">&lt;</a></code>, <code><a href="#entry753E">u&gt;</a></code>, <code><a href="#entry303C">0&lt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry753C3D-src-lib-math-operators-1-cell-fs"><a id="entry753C3D"></a>u&lt;=</h3>
<div class="listingblock">
<div class="content">
<pre>u&lt;= ( u1 u2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>u1</em> is less than or equal
to <em>u2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry753E3D">u&gt;=</a></code>, <code><a href="#entry3C3D">&lt;=</a></code>, <code><a href="#entry303C3D">0&lt;=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry753E-src-kernel-z80s"><a id="entry753E"></a>u&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>u&gt; ( u1 u2 -- &gt; )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>u1</em> is greater than <em>u2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E">&gt;</a></code>, <code><a href="#entry753C">u&lt;</a></code>, <code><a href="#entry303E">0&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry753E3D-src-lib-math-operators-1-cell-fs"><a id="entry753E3D"></a>u&gt;=</h3>
<div class="listingblock">
<div class="content">
<pre>u&gt;= ( u1 u2 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p><em>f</em> is <em>true</em> if and only if <em>u1</em> is greater than or
equal to <em>u2</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry753C3D">u&lt;=</a></code>, <code><a href="#entry3E3D">&gt;=</a></code>, <code><a href="#entry303E3D">0&gt;=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry753E737472-src-lib-strings-MISC-fs"><a id="entry753E737472"></a>u&gt;str</h3>
<div class="listingblock">
<div class="content">
<pre>u&gt;str ( u -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>u</em> to string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75643E737472">ud&gt;str</a></code>, <code><a href="#entry643E737472">d&gt;str</a></code>, <code><a href="#entry636861723E737472696E67">char&gt;string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry753E7564-src-lib-math-operators-1-cell-fs"><a id="entry753E7564"></a>u&gt;ud</h3>
<div class="listingblock">
<div class="content">
<pre>u&gt;ud ( u -- ud )</pre>
</div>
</div>
<div class="paragraph">
<p>Extend a single unsigned number <em>u</em> to form a double
unsigned number <em>ud</em>. <code>u&gt;ud</code> is just an alias of <code><a href="#entry30">0</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry733E64">s&gt;d</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75616C6C6F74-src-lib-data-user-fs"><a id="entry75616C6C6F74"></a>uallot</h3>
<div class="listingblock">
<div class="content">
<pre>uallot ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>If <em>n</em> is greater than zero, reserve <em>n</em> address units of
user data space. If <em>n</em> is less than zero, release <em>n</em>
address units of user data space. If <em>n</em> is zero, leave the
user data-space pointer unchanged. An exception is thrown
if the user-data pointer is out of bounds after the
operation.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75637265617465">ucreate</a></code>, <code><a href="#entry3F75736572">?user</a></code>, <code><a href="#entry75736572">user</a></code>, <code><a href="#entry3275736572">2user</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.user.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75637265617465-src-lib-data-user-fs"><a id="entry75637265617465"></a>ucreate</h3>
<div class="listingblock">
<div class="content">
<pre>ucreate ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a header <em>name</em> which points to the first available
offset within the user area.  Execution of <em>name</em> leaves
its absolute user area storage address. No user space is
allocated.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75616C6C6F74">uallot</a></code>, <code><a href="#entry75736572">user</a></code>, <code><a href="#entry3275736572">2user</a></code>, <code><a href="#entry3F75736572">?user</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.user.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75642A-src-lib-math-operators-2-cell-fs"><a id="entry75642A"></a>ud*</h3>
<div class="listingblock">
<div class="content">
<pre>ud* ( ud1 ud2 -- ud3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>ud1</em> by <em>ud2</em> giving the product <em>ud3</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry642A">d*</a></code>, <code><a href="#entry756D2A">um*</a></code>, <code><a href="#entry2A">*</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.2-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75642E-src-lib-display-numbers-fs"><a id="entry75642E"></a>ud.</h3>
<div class="listingblock">
<div class="content">
<pre>ud. ( ud -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print an usigned double number <em>ud</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75642E72">ud.r</a></code>, <code><a href="#entry642E">d.</a></code>, <code><a href="#entry752E">u.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75642E72-src-lib-display-numbers-fs"><a id="entry75642E72"></a>ud.r</h3>
<div class="listingblock">
<div class="content">
<pre>ud.r ( ud n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print an usigned double number <em>ud</em> right justified in a
field of <em>n</em> characters wide. If the number of characters
required to print <em>ud</em> is greater than <em>n</em>, all digits are
displayed with no leading spaces in a field as wide as
necessary.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry752E72">u.r</a></code>, <code><a href="#entry642E">d.</a></code>, <code><a href="#entry75642E">ud.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.numbers.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75642F6D6F64-src-kernel-z80s"><a id="entry75642F6D6F64"></a>ud/mod</h3>
<div class="listingblock">
<div class="content">
<pre>ud/mod ( ud1 u2 -- u3 ud4 )</pre>
</div>
</div>
<div class="paragraph">
<p>An unsigned mixed magnitude math operation which leaves a
double quotient <em>ud4</em> and remainder <em>u3</em>, from a double
dividend <em>ud1</em> and single divisor <em>u2</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: ud/mod ( ud1 u1 -- urem udquot )
  &gt;r 0 r@ um/mod -rot r&gt; um/mod rot ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: fig-Forth&#8217;s <code>m/mod</code>, Gforth, Z88 CamelForth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75643E737472-src-lib-strings-MISC-fs"><a id="entry75643E737472"></a>ud&gt;str</h3>
<div class="listingblock">
<div class="content">
<pre>ud&gt;str ( ud -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>ud</em> to string <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry753E737472">u&gt;str</a></code>, <code><a href="#entry643E737472">d&gt;str</a></code>, <code><a href="#entry636861723E737472696E67">char&gt;string</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75646721-src-lib-graphics-udg-fs"><a id="entry75646721"></a>udg!</h3>
<div class="listingblock">
<div class="content">
<pre>udg! ( b0..b7 c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the 8-byte bitmap <em>b0..b7</em> into UDG <em>c</em> (0..255) of
the UDG font pointed by <code><a href="#entry6F732D756467">os-udg</a></code>.  <em>b0</em> is the first (top)
scan.  <em>b7</em> is the last (bottom) scan.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564673A">udg:</a></code>, <code><a href="#entry7564673E">udg&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D61742D78792D646973706C6179-src-lib-graphics-udg-fs"><a id="entry7564672D61742D78792D646973706C6179"></a>udg-at-xy-display</h3>
<div class="listingblock">
<div class="content">
<pre>udg-at-xy-display ( x y c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Display UDG <em>c</em> (0..255) at cursor coordinates <em>x y</em>. This
is much faster than a combination of <code><a href="#entry61742D7879">at-xy</a></code> and
<code><a href="#entry656D69742D756467">emit-udg</a></code>, because no ROM routine is used, the cursor
coordinates are not updated and the screen attributtes are
not changed (only the character bitmap is displayed).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61742D78792D646973706C61792D756467">at-xy-display-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D626C616E6B-src-lib-graphics-udg-fs"><a id="entry7564672D626C616E6B"></a>udg-blank</h3>
<div class="listingblock">
<div class="content">
<pre>udg-blank  ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the characted used by
<code><a href="#entry67726964">grid</a></code> and <code><a href="#entry67">g</a></code> as a grid blank. By default it&#8217;s '.'.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D646F74">udg-dot</a></code>, <code><a href="#entry7564672D7363616E3E62696E617279">udg-scan&gt;binary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D626C6F636B-src-lib-graphics-udg-fs"><a id="entry7564672D626C6F636B"></a>udg-block</h3>
<div class="listingblock">
<div class="content">
<pre>udg-block ( width height c "name..." -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse a UDG block, from UDG character <em>c</em> (0..255). <em>width</em>
and <em>height</em> are in characters.  The maximum <em>width</em> is 7
(imposed by the size of Forth source blocks). <em>height</em> has
no maximum, as the UDG block can ocuppy more than one Forth
block (provided the Forth block have no index line, i.e.
<code><a href="#entry6C6F61642D617070">load-app</a></code> is used to load the source).</p>
</div>
<div class="paragraph">
<p>The scans can be formed by binary digits, by the characters
hold in <code><a href="#entry7564672D626C616E6B">udg-blank</a></code> and <code><a href="#entry7564672D646F74">udg-dot</a></code>, or any combination of
both notations.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5 2 140 udg-block

..XXXX....XXXX....XXXX....XXXX....XXXX..
.XXXXXX..XXXXXX..XXXXXX..XXXXXX..X.XXXX.
XXXXXXXXXXXXXXXXXXXXXXXXX.XXXXXXX.XXXXXX
XXXXXXXXXXXXXXXXX.XXXXXXX.XXXXXXXXXXXXXX
XXXXXXXXX.XXXXXXX.XXXXXXXXXXXXXXXXXXXXXX
XX..XXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXX
.XXXXXX..XXXXXX..XXXXXX..XXXXXX..XXXXXX.
..XXXX....XXXX....XXXX....XXXX....XXXX..
..XXXX....XXXX....XXXX....XXXX....XXXX..
.XXXXXX..XXXXXX..XXXXXX..XXXXXX..X.XXXX.
XXXXXXXXXXXXXXXXXXXXXXXXX.XXXXXXX.XXXXXX
XXXXXXXXXXXXXXXXX.XXXXXXX.XXXXXXXXXXXXXX
XXXXXXXXX.XXXXXXX.XXXXXXXXXXXXXXXXXXXXXX
XX..XXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXX
.XXXXXX..XXXXXX..XXXXXX..XXXXXX..XXXXXX.
..XXXX....XXXX....XXXX....XXXX....XXXX..</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D646F74-src-lib-graphics-udg-fs"><a id="entry7564672D646F74"></a>udg-dot</h3>
<div class="listingblock">
<div class="content">
<pre>udg-dot  ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the characted used by
<code><a href="#entry67726964">grid</a></code> and <code><a href="#entry67">g</a></code> as a grid blank. By default it&#8217;s 'X'.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D626C616E6B">udg-blank</a></code>, <code><a href="#entry7564672D7363616E3E62696E617279">udg-scan&gt;binary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D67726F7570-src-lib-graphics-udg-fs"><a id="entry7564672D67726F7570"></a>udg-group</h3>
<div class="listingblock">
<div class="content">
<pre>udg-group ( c -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse a group of UDG definitions organized in <em>width</em>
columns and <em>height</em> rows, and store them starting from UDG
character <em>c</em> (0..255).  The maximum <em>width</em> is 7 (imposed
by the size of Forth source blocks). <em>height</em> has no
maximum, as the UDG block can ocuppy more than one Forth
block (provided the Forth block have no index line, i.e.
<code><a href="#entry6C6F61642D617070">load-app</a></code> is used to load the source).</p>
</div>
<div class="paragraph">
<p>The scans can be formed by binary digits, by the characters
hold in <code><a href="#entry7564672D626C616E6B">udg-blank</a></code> and <code><a href="#entry7564672D646F74">udg-dot</a></code>, or any combination of
both notations.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>5 1 140 udg-group

..XXXX.. ..XXXX.. ..XXXX.. ..XXXX.. ..XXXX..
.XXXXXX. .XXXXXX. .XXXXXX. .XXXXXX. .X.XXXX.
XXXXXXXX XXXXXXXX XXXXXXXX X.XXXXXX X.XXXXXX
XXXXXXXX XXXXXXXX X.XXXXXX X.XXXXXX XXXXXXXX
XXXXXXXX X.XXXXXX X.XXXXXX XXXXXXXX XXXXXXXX
XX..XXXX XX.XXXXX XXXXXXXX XXXXXXXX XXXXXXXX
.XXXXXX. .XXXXXX. .XXXXXX. .XXXXXX. .XXXXXX.
..XXXX.. ..XXXX.. ..XXXX.. ..XXXX.. ..XXXX..</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D626C6F636B">udg-block</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D6F6372-src-lib-graphics-ocr-fs"><a id="entry7564672D6F6372"></a>udg-ocr</h3>
<div class="listingblock">
<div class="content">
<pre>udg-ocr ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <code><a href="#entry6F6372">ocr</a></code> to work with the first <em>n</em> chars of the current
UDG set.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61736369692D6F6372">ascii-ocr</a></code>, <code><a href="#entry7365742D756467">set-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.ocr.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D7363616E3E62696E617279-src-lib-graphics-udg-fs"><a id="entry7564672D7363616E3E62696E617279"></a>udg-scan&gt;binary</h3>
<div class="listingblock">
<div class="content">
<pre>udg-scan&gt;binary ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert the characters <code><a href="#entry7564672D626C616E6B">udg-blank</a></code> and <code><a href="#entry7564672D646F74">udg-dot</a></code> found in
UDG scan string <em>ca len</em> to '0' and '1' respectively.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D7363616E3E6E756D6265723F">udg-scan&gt;number?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D7363616E3E6E756D626572-src-lib-graphics-udg-fs"><a id="entry7564672D7363616E3E6E756D626572"></a>udg-scan&gt;number</h3>
<div class="listingblock">
<div class="content">
<pre>udg-scan&gt;number ( ca len -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>If UDG scan string <em>ca len</em>, after being processed by
<code><a href="#entry7564672D7363616E3E62696E617279">udg-scan&gt;binary</a></code>, is a valid binary number, return the
result <em>n</em>.  Otherwise throw exception #-290 (invalid UDG
scan).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D7363616E3E6E756D6265723F">udg-scan&gt;number?</a></code>, <code><a href="#entry7564672D626C6F636B">udg-block</a></code>, <code><a href="#entry7564672D67726F7570">udg-group</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D7363616E3E6E756D6265723F-src-lib-graphics-udg-fs"><a id="entry7564672D7363616E3E6E756D6265723F"></a>udg-scan&gt;number?</h3>
<div class="listingblock">
<div class="content">
<pre>udg-scan&gt;number? ( ca len -- n true | false )</pre>
</div>
</div>
<div class="paragraph">
<p>Is UDG scan string <em>ca len</em> a valid binary number?
The string is processed by <code><a href="#entry7564672D7363616E3E62696E617279">udg-scan&gt;binary</a></code> first.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7564672D7363616E3E62696E617279">udg-scan&gt;binary</a></code>, <code><a href="#entry7564672D7363616E3E6E756D626572">udg-scan&gt;number</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564672D7769647468-src-lib-graphics-udg-fs"><a id="entry7564672D7769647468"></a>udg-width</h3>
<div class="listingblock">
<div class="content">
<pre>udg-width ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p><em>b</em> is the width of a UDG (User Defined Graphic), in
pixels.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F756467">/udg</a></code>, <code><a href="#entry75646721">udg!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564673A-src-lib-graphics-udg-fs"><a id="entry7564673A"></a>udg:</h3>
<div class="listingblock">
<div class="content">
<pre>udg: ( b0..b7 c "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a <code><a href="#entry63636F6E7374616E74">cconstant</a></code> <em>name</em> for UDG char <em>c</em> (0..255) and
store the 8-byte bitmap <em>b0..b7</em> into that UDG char.  <em>b0</em>
is the first (top) scan.  <em>b7</em> is the last (bottom) scan.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75646721">udg!</a></code>, <code><a href="#entry7564673E">udg&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7564673E-src-lib-graphics-udg-fs"><a id="entry7564673E"></a>udg&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>udg&gt; ( c -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert UDG number <em>n</em> (0..255) to the address <em>a</em> of its
bitmap, pointed by <code><a href="#entry6F732D756467">os-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75646721">udg!</a></code>, <code><a href="#entry7564673A">udg:</a></code>, <code><a href="#entry2F7564672A">/udg*</a></code>, <code><a href="#entry6765742D756467">get-udg</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.udg.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756470-src-kernel-z80s"><a id="entry756470"></a>udp</h3>
<div class="listingblock">
<div class="content">
<pre>udp ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds an offset from the start of the
current user area to the free space in it.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756D2A-src-kernel-z80s"><a id="entry756D2A"></a>um*</h3>
<div class="listingblock">
<div class="content">
<pre>um* ( u1 u2 -- ud )</pre>
</div>
</div>
<div class="paragraph">
<p>Multiply <em>u1</em> by <em>u2</em>, giving the unsigned double-cell product
<em>ud</em>.  All values and arithmetic are unsigned.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756D2F6D6F64-src-kernel-z80s"><a id="entry756D2F6D6F64"></a>um/mod</h3>
<div class="listingblock">
<div class="content">
<pre>um/mod ( ud u1 -- u2 u3 )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide <em>ud</em> by <em>u1</em>, giving the quotient <em>u3</em> and the
remainder <em>u2</em>.  All values and arithmetic are unsigned.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756D6178-src-kernel-z80s"><a id="entry756D6178"></a>umax</h3>
<div class="listingblock">
<div class="content">
<pre>umax ( u1 u2 -- u1 | u2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756D696E-src-kernel-z80s"><a id="entry756D696E"></a>umin</h3>
<div class="listingblock">
<div class="content">
<pre>umin ( u1 u2 -- u1 | u2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6272696768742D6D61736B-src-lib-display-attributes-fs"><a id="entry756E6272696768742D6D61736B"></a>unbright-mask</h3>
<div class="listingblock">
<div class="content">
<pre>unbright-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant. <em>b</em> is the inverted bitmask of the bit used to
indicate the bright status in an attribute byte.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E6272696768742D6D61736B">unbright-mask</a></code>, <code><a href="#entry62726967687479">brighty</a></code>, <code><a href="#entry7365742D627269676874">set-bright</a></code>, <code><a href="#entry6174747221">attr!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E636F6C6F7265642D636972636C652D706978656C-src-lib-graphics-circle-fs"><a id="entry756E636F6C6F7265642D636972636C652D706978656C"></a>uncolored-circle-pixel</h3>
<div class="listingblock">
<div class="content">
<pre>uncolored-circle-pixel ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the address of a subroutine that <code><a href="#entry636972636C65">circle</a></code> can use to
draw its pixels.  This routine sets a pixel without
changing its color attributes on the screen (like
<code><a href="#entry7365742D706978656C">set-pixel</a></code>).  Therefore it&#8217;s faster than its alternative
<code><a href="#entry636F6C6F7265642D636972636C652D706978656C">colored-circle-pixel</a></code> (0.6 its execution speed).</p>
</div>
<div class="paragraph">
<p><code><a href="#entry7365742D636972636C652D706978656C">set-circle-pixel</a></code> sets the routine used by <code><a href="#entry636972636C65">circle</a></code>. See
the requirements of such routine in the documentation of
<code><a href="#entry636972636C652D706978656C">circle-pixel</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.circle.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E646566696E65643F-src-kernel-z80s"><a id="entry756E646566696E65643F"></a>undefined?</h3>
<div class="listingblock">
<div class="content">
<pre>undefined? ( ca len -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Find name <em>ca len</em>.  If the definition is
not found after searching the active search
order, return <em>false</em>, else return <em>true</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: undefined? ( ca len -- f ) find-name 0= ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry646566696E6564">defined</a></code>, <code><a href="#entry66696E642D6E616D65">find-name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6465722B-src-lib-math-operators-1-cell-fs"><a id="entry756E6465722B"></a>under+</h3>
<div class="listingblock">
<div class="content">
<pre>under+ ( n1|u1 x n2|u2 -- n3|u3 x )</pre>
</div>
</div>
<div class="paragraph">
<p>Add <em>n2|u2</em> to <em>n1|u2</em>, giving the sum <em>n3|u3</em>.</p>
</div>
<div class="paragraph">
<p><code>under+</code> is written in Z80. Its definition in Forth is
the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: under+ ( n1|u1 x n2|u2 -- n3|u3 x ) rot + swap ;</pre>
</div>
</div>
<div class="paragraph">
<p>Origin: Comus.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B756E646572">+under</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E657363617065-src-lib-strings-MISC-fs"><a id="entry756E657363617065"></a>unescape</h3>
<div class="listingblock">
<div class="content">
<pre>unescape ( ca1 len1 ca2 -- ca2 len2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Replace each "%" character in the input string <em>ca1 len1</em>
by two "%" characters. The output is represented by <em>ca2
len2</em>.  The  buffer at ca2  shall be big enough  to hold
the unescaped string.</p>
</div>
<div class="paragraph">
<p>If you pass a string through <code><a href="#entry756E657363617065">unescape</a></code> and then
<code><a href="#entry73756273746974757465">substitute</a></code>, you get the original string.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-2012 (STRING EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7265706C61636573">replaces</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E666C6173682D6D61736B-src-lib-display-attributes-fs"><a id="entry756E666C6173682D6D61736B"></a>unflash-mask</h3>
<div class="listingblock">
<div class="content">
<pre>unflash-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant. <em>b</em> is the inverted bitmask of the bit used to
indicate the flash status in an attribute byte.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry756E666C6173682D6D61736B">unflash-mask</a></code>, <code><a href="#entry666C61736879">flashy</a></code>, <code><a href="#entry7365742D666C617368">set-flash</a></code>, <code><a href="#entry6174747221">attr!</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6C696E6B2D696E7465726E616C-src-lib-modules-internal-fs"><a id="entry756E6C696E6B2D696E7465726E616C"></a>unlink-internal</h3>
<div class="listingblock">
<div class="content">
<pre>unlink-internal ( nt xtp -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Unlink all words defined between the latest pair <code><a href="#entry696E7465726E616C">internal</a></code>
and <code><a href="#entry656E642D65787465726E616C">end-external</a></code>, linking the first word after
<code><a href="#entry656E642D696E7465726E616C">end-internal</a></code> to the word before <code><a href="#entry696E7465726E616C">internal</a></code>, thus making
all the internal words skipped by the dictionary searches.</p>
</div>
<div class="paragraph">
<p>Usage example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>internal

: hello ( -- ) ." hello" ;

end-internal

: salute ( -- ) hello ;

unlink-internal

salute  \ ok!
hello   \ error!</pre>
</div>
</div>
<div class="paragraph">
<p>At least one word must be defined between <code><a href="#entry656E642D696E7465726E616C">end-internal</a></code>
and <code>unlink-internal</code>.</p>
</div>
<div class="paragraph">
<p>The alternative word <code><a href="#entry686964652D696E7465726E616C">hide-internal</a></code> can be used instead of
<code>unlink-internal</code> in order to keep the internal words
searchable.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.internal.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6C6F6361746564-src-lib-002-need-fs"><a id="entry756E6C6F6361746564"></a>unlocated</h3>
<div class="listingblock">
<div class="content">
<pre>unlocated ( block -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Deferred word called in the loop of <code><a href="#entry6C6F6361746564">located</a></code>, when the
word searched for is not located in <em>block</em>.  Its default
action is <code><a href="#entry64726F70">drop</a></code>, which is changed by <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>
in order to index the blocks on the fly.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6C6F6F70-src-kernel-z80s"><a id="entry756E6C6F6F70"></a>unloop</h3>
<div class="listingblock">
<div class="content">
<pre>unloop ( -- ) ( R: loop-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Discard the <code><a href="#entry6C6F6F70">loop</a></code> control parameters <em>loop-sys</em> for the
current nesting level. An <code><a href="#entry756E6C6F6F70">unloop</a></code> is required for each
nesting level before the definition may be exited with <code><a href="#entry65786974">exit</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C65617665">leave</a></code>, <code><a href="#entry646F">do</a></code>, <code><a href="#entry3F646F">?do</a></code>, <code><a href="#entry2B6C6F6F70">+loop</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6D61726B6572-src-lib-tool-marker-fs"><a id="entry756E6D61726B6572"></a>unmarker</h3>
<div class="listingblock">
<div class="content">
<pre>unmarker ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the data-space pointer to <em>a</em> and restore the names
pointer, the latest definition pointers, the word lists
pointer, the compilation word list, the search order and
the configuration of word lists that were saved at <em>a</em> by
<code><a href="#entry6D61726B65722C">marker,</a></code>.</p>
</div>
<div class="paragraph">
<p><code>unmarker</code> is a factor of <code><a href="#entry6D61726B6572">marker</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.marker.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6E657374-src-kernel-z80s"><a id="entry756E6E657374"></a>unnest</h3>
<div class="listingblock">
<div class="content">
<pre>unnest ( R: nest-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E6E6573742D736F75726365-src-kernel-z80s"><a id="entry756E6E6573742D736F75726365"></a>unnest-source</h3>
<div class="listingblock">
<div class="content">
<pre>unnest-source ( R: source-sys -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Restore the source specification described by <em>source-sys</em>,
left by <code><a href="#entry6E6573742D736F75726365">nest-source</a></code>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: unnest-source ( R: source-sys -- )
  r&gt;
  r&gt; #tib !
  r&gt; blk !
  r&gt; &gt;in !
  r&gt; (source-id) !
  2r&gt; input-buffer 2!
  &gt;r  ; compile-only</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E7265736F6C766564-src-lib-assembler-fs"><a id="entry756E7265736F6C766564"></a>unresolved</h3>
<div class="listingblock">
<div class="content">
<pre>unresolved ( n -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the address of element <em>n</em> of the cell array pointed
by <code><a href="#entry756E7265736F6C7665643E">unresolved&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E7265736F6C766564303E-src-lib-assembler-fs"><a id="entry756E7265736F6C766564303E"></a>unresolved0&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>unresolved0&gt; ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Address <em>a</em> is the default value of <code><a href="#entry756E7265736F6C7665643E">unresolved&gt;</a></code>: an
8-cell array.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E7265736F6C7665643E-src-lib-assembler-fs"><a id="entry756E7265736F6C7665643E"></a>unresolved&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>unresolved&gt; ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. Address <em>a</em> contains the address of a cell
array accessed by <code><a href="#entry756E7265736F6C766564">unresolved</a></code>. Its default value is
<code><a href="#entry756E7265736F6C766564303E">unresolved0&gt;</a></code>, which is an 8-cell array.</p>
</div>
<div class="paragraph">
<p>The cell array pointed by <code>unresolved&gt;</code> is used to store
unresolved addresses during the compilation of code words.
This method is a simpler alternative to labels created by
<code><a href="#entry6C3A">l:</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E7365742D636170736C6F636B-src-lib-keyboard-caps_lock-fs"><a id="entry756E7365742D636170736C6F636B"></a>unset-capslock</h3>
<div class="listingblock">
<div class="content">
<pre>unset-capslock ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Unset capslock.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D636170736C6F636B">set-capslock</a></code>, <code><a href="#entry636170736C6F636B3F">capslock?</a></code>, <code><a href="#entry746F67676C652D636170736C6F636B">toggle-capslock</a></code>,
<code><a href="#entry636170736C6F636B">capslock</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/keyboard.caps_lock.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E74696C-src-kernel-z80s"><a id="entry756E74696C"></a>until</h3>
<div class="listingblock">
<div class="content">
<pre>until ( dest -- )</pre>
</div>
</div>
<div class="paragraph">
<p><code>until</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E75736564-src-kernel-z80s"><a id="entry756E75736564"></a>unused</h3>
<div class="listingblock">
<div class="content">
<pre>unused ( -- u )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the amount of space remaining in the region addressed
by <code><a href="#entry68657265">here</a></code>, in address units.  This region includes the
transient spaces addressed by <code><a href="#entry706164">pad</a></code> and <code><a href="#entry686F6C64">hold</a></code></p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C696D6974">limit</a></code>, <code><a href="#entry666172756E75736564">farunused</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry756E757365642D737472696E676572-src-kernel-z80s"><a id="entry756E757365642D737472696E676572"></a>unused-stringer</h3>
<div class="listingblock">
<div class="content">
<pre>unused-stringer ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the number <em>n</em> of free characters in the <code><a href="#entry737472696E676572">stringer</a></code>.</p>
</div>
<div class="paragraph">
<p><code>unused-stringer</code> is written in Z80. Its equivalent
definition if Forth is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: unused-stringer ( -- n ) +stringer @ ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2B737472696E676572">+stringer</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7570-src-kernel-z80s"><a id="entry7570"></a>up</h3>
<div class="listingblock">
<div class="content">
<pre>up ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. <em>a</em> holds the address of the user area pointer.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2F75736572">/user</a></code>, <code><a href="#entry75736572">user</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry757030-src-kernel-z80s"><a id="entry757030"></a>up0</h3>
<div class="listingblock">
<div class="content">
<pre>up0 ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the default address of the user area.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry757064617465-src-lib-blocks-fs"><a id="entry757064617465"></a>update</h3>
<div class="listingblock">
<div class="content">
<pre>update ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Mark the current block buffer as modified.  The block will
subsequently be transferred automatically to disk should
its buffer be required for storage of a different block, or
upon execution of <code><a href="#entry666C757368">flush</a></code> or <code><a href="#entry736176652D62756666657273">save-buffers</a></code>.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set), Forth-94 (BLOCK),
Forth-2012 (BLOCK).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry757064617465643F-src-kernel-z80s"><a id="entry757064617465643F"></a>updated?</h3>
<div class="listingblock">
<div class="content">
<pre>updated? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the current disk buffer marked as modified?</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: updated? ( -- f ) buffer-id 0&lt; ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry757064617465">update</a></code>, <code><a href="#entry656D7074792D62756666657273">empty-buffers</a></code>, <code><a href="#entry6275666665722D6964">buffer-id</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7570706572-src-lib-strings-MISC-fs"><a id="entry7570706572"></a>upper</h3>
<div class="listingblock">
<div class="content">
<pre>upper ( c -- c' )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert <em>c</em> to uppercase <em>c'</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry757070657273">uppers</a></code>, <code><a href="#entry6C6F776572">lower</a></code>, <code><a href="#entry75707065725F">upper_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75707065725F-src-lib-strings-MISC-fs"><a id="entry75707065725F"></a>upper_</h3>
<div class="listingblock">
<div class="content">
<pre>upper_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a routine that converts the ASCII
character in the A register to uppercase.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7570706572">upper</a></code>, <code><a href="#entry6C6F7765725F">lower_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry757070657273-src-lib-strings-MISC-fs"><a id="entry757070657273"></a>uppers</h3>
<div class="listingblock">
<div class="content">
<pre>uppers ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert string <em>ca len</em> to uppercase.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry75707065727331">uppers1</a></code>, <code><a href="#entry6C6F77657273">lowers</a></code>, <code><a href="#entry7570706572">upper</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75707065727331-src-lib-strings-MISC-fs"><a id="entry75707065727331"></a>uppers1</h3>
<div class="listingblock">
<div class="content">
<pre>uppers1 ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the first char of string <em>ca len</em> to uppercase.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry757070657273">uppers</a></code>, <code><a href="#entry7570706572">upper</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.MISC.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7573652D64656661756C742D6C6F6361746564-src-lib-002-need-fs"><a id="entry7573652D64656661756C742D6C6F6361746564"></a>use-default-located</h3>
<div class="listingblock">
<div class="content">
<pre>use-default-located ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the default actions of <code><a href="#entry6C6F6361746564">located</a></code> and <code><a href="#entry756E6C6F6361746564">unlocated</a></code>:
Search the blocks.</p>
</div>
<div class="paragraph">
<p><code>use-default-located</code> is a common factor of
<code><a href="#entry7573652D6E6F2D696E646578">use-no-index</a></code> and <code><a href="#entry7573652D746872752D696E646578">use-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7573652D64656661756C742D6E656564-src-lib-002-need-fs"><a id="entry7573652D64656661756C742D6E656564"></a>use-default-need</h3>
<div class="listingblock">
<div class="content">
<pre>use-default-need ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the default actions of <code><a href="#entry6E656564">need</a></code>, <code><a href="#entry6E6565646564">needed</a></code>, <code><a href="#entry72656E656564">reneed</a></code>, and
<code><a href="#entry72656E6565646564">reneeded</a></code>: Use <code><a href="#entry6C6F63617465">locate</a></code> to search the blocks.</p>
</div>
<div class="paragraph">
<p><code>use-default-need</code> is a common factor of <code><a href="#entry7573652D6E6F2D696E646578">use-no-index</a></code>
and <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7573652D666C792D696E646578-src-lib-blocks-indexer-fly-fs"><a id="entry7573652D666C792D696E646578"></a>use-fly-index</h3>
<div class="listingblock">
<div class="content">
<pre>use-fly-index ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the alternative action of <code><a href="#entry6E656564">need</a></code>, <code><a href="#entry6E6565646564">needed</a></code>, <code><a href="#entry72656E656564">reneed</a></code>,
<code><a href="#entry72656E6565646564">reneeded</a></code>, <code><a href="#entry6C6F6361746564">located</a></code> and <code><a href="#entry756E6C6F6361746564">unlocated</a></code> in order to use the
blocks index and index the searched blocks on the fly.</p>
</div>
<div class="paragraph">
<p>The default action of all said words can be restored by
<code><a href="#entry7573652D6E6F2D696E646578">use-no-index</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D746872752D696E646578">use-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.fly.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7573652D6E6F2D696E646578-src-lib-002-need-fs"><a id="entry7573652D6E6F2D696E646578"></a>use-no-index</h3>
<div class="listingblock">
<div class="content">
<pre>use-no-index ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the default action of <code><a href="#entry6E656564">need</a></code>, <code><a href="#entry6E6565646564">needed</a></code>, <code><a href="#entry72656E656564">reneed</a></code>,
<code><a href="#entry72656E6565646564">reneeded</a></code> and <code><a href="#entry756E6C6F6361746564">unlocated</a></code>: Use <code><a href="#entry6C6F63617465">locate</a></code> to search the
blocks.</p>
</div>
<div class="paragraph">
<p>The alternative actions are set by <code><a href="#entry7573652D746872752D696E646578">use-thru-index</a></code> and
<code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D64656661756C742D6E656564">use-default-need</a></code>, <code><a href="#entry7573652D64656661756C742D6C6F6361746564">use-default-located</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/002.need.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7573652D746872752D696E646578-src-lib-blocks-indexer-thru-fs"><a id="entry7573652D746872752D696E646578"></a>use-thru-index</h3>
<div class="listingblock">
<div class="content">
<pre>use-thru-index ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Change the action of <code><a href="#entry6E656564">need</a></code>, <code><a href="#entry6E6565646564">needed</a></code>, <code><a href="#entry72656E656564">reneed</a></code>,
<code><a href="#entry72656E6565646564">reneeded</a></code>, <code><a href="#entry6C6F6361746564">located</a></code> and <code><a href="#entry756E6C6F6361746564">unlocated</a></code> in order to use the
blocks index created by <code><a href="#entry6D616B652D746872752D696E646578">make-thru-index</a></code>.</p>
</div>
<div class="paragraph">
<p>The default action of all said words can be restored by
<code><a href="#entry7573652D6E6F2D696E646578">use-no-index</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7573652D666C792D696E646578">use-fly-index</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/blocks.indexer.thru.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75736572-src-lib-data-user-fs"><a id="entry75736572"></a>user</h3>
<div class="listingblock">
<div class="content">
<pre>user ( n "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a user variable <em>name</em> in the first available offset
within the user area.  Execution of <em>name</em> leaves its
absolute user area storage address.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3275736572">2user</a></code>, <code><a href="#entry75637265617465">ucreate</a></code>, <code><a href="#entry75616C6C6F74">uallot</a></code>, <code><a href="#entry3F75736572">?user</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.user.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75742A-src-lib-math-operators-3-cell-fs"><a id="entry75742A"></a>ut*</h3>
<div class="listingblock">
<div class="content">
<pre>ut*   ( ud u -- t )</pre>
</div>
</div>
<div class="paragraph">
<p><em>t</em> is the signed product of <em>ud</em> times <em>u</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.3-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry75742F-src-lib-math-operators-3-cell-fs"><a id="entry75742F"></a>ut/</h3>
<div class="listingblock">
<div class="content">
<pre>ut/   ( ut n -- d )</pre>
</div>
</div>
<div class="paragraph">
<p>Divide a triple unsigned number <em>ut</em> by a single number <em>n</em>
giving the double number result <em>d</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.3-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry76616C-src-lib-data-val-fs"><a id="entry76616C"></a>val</h3>
<div class="listingblock">
<div class="content">
<pre>val ( x "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition for <em>name</em> that will place <em>x</em> on the
stack (unless <code><a href="#entry746F76616C">toval</a></code> is used first) and then will execute
<code><a href="#entry696E69742D76616C">init-val</a></code>.</p>
</div>
<div class="paragraph">
<p><code>val</code> is an alternative to the standard <code><a href="#entry76616C7565">value</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6376616C">cval</a></code>, <code><a href="#entry3276616C">2val</a></code>, <code><a href="#entry7661726961626C65">variable</a></code>, <code><a href="#entry636F6E7374616E74">constant</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.val.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry76616C7565-src-lib-data-value-fs"><a id="entry76616C7565"></a>value</h3>
<div class="listingblock">
<div class="content">
<pre>value ( x "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a definition <em>name</em> with the following execution
semantics: place <em>x</em> on the stack.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry746F">to</a></code>, <code><a href="#entry6376616C7565">cvalue</a></code>, <code><a href="#entry3276616C7565">2value</a></code>, <code><a href="#entry636F6E7374616E74">constant</a></code>, <code><a href="#entry7661726961626C65">variable</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.value.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry766172-src-lib-objects-mini-oof-fs"><a id="entry766172"></a>var</h3>
<div class="listingblock">
<div class="content">
<pre>var ( m v size "name" -- m v' )</pre>
</div>
</div>
<div class="paragraph">
<p>Define a variable with <em>size</em> bytes.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/objects.mini-oof.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7661726961626C65-src-kernel-z80s"><a id="entry7661726961626C65"></a>variable</h3>
<div class="listingblock">
<div class="content">
<pre>variable ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Parse <em>name</em>.  Create a definition for <em>name</em> with the execution
semantics defined below. Reserve one cell of data space.</p>
</div>
<div class="paragraph">
<p><em>name</em> is referred to as a variable.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>name Execution: ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p><em>a</em> is the address of the reserved cell. A program is responsible
for initializing the contents of the reserved cell.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required Word Set),
Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry76657273696F6E-src-kernel-z80s"><a id="entry76657273696F6E"></a>version</h3>
<div class="listingblock">
<div class="content">
<pre>version ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return an address that holds the Solo Forth version, as
follows:</p>
</div>
<div class="paragraph">
<p>+0: major (one byte)
+1: minor (one byte)
+2: patch (one byte)
+3: pre-release (one byte), zero if none
+4: build (double-cell number)</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry766572746963616C2D6375727461696E-src-lib-graphics-cls-fs"><a id="entry766572746963616C2D6375727461696E"></a>vertical-curtain</h3>
<div class="listingblock">
<div class="content">
<pre>vertical-curtain ( b -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wash the screen with the given color attribute <em>b</em> from the
left and right columns to the middle.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry686F72697A6F6E74616C2D6375727461696E">horizontal-curtain</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.cls.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry76696577-src-lib-tool-list-blocks-fs"><a id="entry76696577"></a>view</h3>
<div class="listingblock">
<div class="content">
<pre>view ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List the block where <em>name</em> is defined, i.e. the first
block where <em>name</em> is in the index line (surrounded by
spaces). If <em>name</em> can not be found, throw exception #-286
("not located").</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6C6F63617465">locate</a></code>, <code><a href="#entry6C697374">list</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry766F636162756C617279-src-lib-word_lists-fs"><a id="entry766F636162756C617279"></a>vocabulary</h3>
<div class="listingblock">
<div class="content">
<pre>vocabulary ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a vocabulary <em>name</em>. A vocabulary is a named word
list. Subsequent execution of <em>name</em> replaces the first
entry in the search order with the word list associated to
<em>name</em>. When <em>name</em> becomes the compilation word list new
definitions will be appended to <em>name</em>'s word list.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Required Word Set).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry646566696E6974696F6E73">definitions</a></code>, <code><a href="#entry776F72646C6973742D6F66">wordlist-of</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77616B65-src-lib-multitask-muench-koh-fs"><a id="entry77616B65"></a>wake</h3>
<div class="listingblock">
<div class="content">
<pre>wake ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wake current task.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/multitask.muench-koh.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7761726D-src-kernel-z80s"><a id="entry7761726D"></a>warm</h3>
<div class="listingblock">
<div class="content">
<pre>warm ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636F6C64">cold</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7761726E-src-kernel-z80s"><a id="entry7761726E"></a>warn</h3>
<div class="listingblock">
<div class="content">
<pre>warn ( ca len -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Check if <em>ca len</em> already exists in the compilation word list.
If so, and if the content of <code><a href="#entry7761726E696E6773">warnings</a></code> is not zero, do a
configurable action, usually issue a warning message.</p>
</div>
<div class="paragraph">
<p><code>warn</code> is a deferred word which is called by <code><a href="#entry6865616465722C">header,</a></code> and
whose default action is <code><a href="#entry6E6F6F70">noop</a></code>. Alternative actions are
provided by <code><a href="#entry7761726E2E6D657373616765">warn.message</a></code>, <code><a href="#entry7761726E2E7468726F77">warn.throw</a></code> and <code><a href="#entry7761726E2D7468726F77">warn-throw</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7761726E2D7468726F77-src-lib-compilation-fs"><a id="entry7761726E2D7468726F77"></a>warn-throw</h3>
<div class="listingblock">
<div class="content">
<pre>warn-throw ( ca len -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Alternative action for the deferred word <code><a href="#entry7761726E">warn</a></code>.  If the
contents of the user variable <code><a href="#entry7761726E696E6773">warnings</a></code> is not zero and
the word name <em>ca len</em> is already defined in the current
compilation word list, throw error #-257 instead of
printing a warning message.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry7761726E696E6773">warnings</a></code>, <code><a href="#entry7761726E2E7468726F77">warn.throw</a></code>, <code><a href="#entry7761726E2E6D657373616765">warn.message</a></code>, <code><a href="#entry3F7761726E">?warn</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7761726E2E6D657373616765-src-lib-compilation-fs"><a id="entry7761726E2E6D657373616765"></a>warn.message</h3>
<div class="listingblock">
<div class="content">
<pre>warn.message ( ca len -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Alternative action for the deferred word <code><a href="#entry7761726E">warn</a></code>.  If the
contents of the user variable <code><a href="#entry7761726E696E6773">warnings</a></code> is not zero and
the word name <em>ca len</em> is already defined in the current
compilation word list, print a warning message.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry7761726E696E6773">warnings</a></code>, <code><a href="#entry7761726E2E7468726F77">warn.throw</a></code>, <code><a href="#entry7761726E2D7468726F77">warn-throw</a></code>, <code><a href="#entry3F7761726E">?warn</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7761726E2E7468726F77-src-lib-compilation-fs"><a id="entry7761726E2E7468726F77"></a>warn.throw</h3>
<div class="listingblock">
<div class="content">
<pre>warn.throw ( ca len -- ca len )</pre>
</div>
</div>
<div class="paragraph">
<p>Alternative action for the deferred word <code><a href="#entry7761726E">warn</a></code>.  If the
contents of the user variable <code><a href="#entry7761726E696E6773">warnings</a></code> is not zero and
the word name <em>ca len</em> is already defined in the current
compilation word list, print throw error #-257, without
actually throwing an error.</p>
</div>
<div class="paragraph">
<p>See: <code><a href="#entry7761726E696E6773">warnings</a></code>, <code><a href="#entry7761726E2D7468726F77">warn-throw</a></code>, <code><a href="#entry7761726E2E6D657373616765">warn.message</a></code>, <code><a href="#entry3F7761726E">?warn</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7761726E696E6722-src-lib-exception-fs"><a id="entry7761726E696E6722"></a>warning"</h3>
<div class="listingblock">
<div class="content">
<pre>warning"</pre>
</div>
</div>
<div class="paragraph">
<p>Compilation: ( "ccc&lt;quote&gt;"&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>Parse and compile a message.</p>
</div>
<div class="paragraph">
<p>Execution:   ( f&#8201;&#8212;&#8201;)</p>
</div>
<div class="paragraph">
<p>If <em>f</em> is not zero, print the compiled message; else do
nothing.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/exception.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7761726E696E6773-src-lib-compilation-fs"><a id="entry7761726E696E6773"></a>warnings</h3>
<div class="listingblock">
<div class="content">
<pre>warnings ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds a flag. If it&#8217;s zero, no warning
is shown when a compiled word is not unique in the
compilation word list.  Its default value is <em>true</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/compilation.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776176652D646973706C6179-src-lib-graphics-display-fs"><a id="entry776176652D646973706C6179"></a>wave-display</h3>
<div class="listingblock">
<div class="content">
<pre>wave-display ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Modify the screen bitmap with a water effect. At the end
the original image is  restored.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry696E766572742D646973706C6179">invert-display</a></code>, <code><a href="#entry666164652D646973706C6179">fade-display</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.display.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77636174-src-lib-dos-plus3dos-fs"><a id="entry77636174"></a>wcat</h3>
<div class="listingblock">
<div class="content">
<pre>wcat ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Show a wild-card disk catalogue using the wild-card
filename <em>ca len</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry636174">cat</a></code>, <code><a href="#entry28636174">(cat</a></code>, <code><a href="#entry7365742D6472697665">set-drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77636174-src-lib-dos-plus3dos-fs">wcat</h3>
<div class="listingblock">
<div class="content">
<pre>wcat ( ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Show a disk catalogue of the current drive.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry77636174">wcat</a></code>, <code><a href="#entry28636174">(cat</a></code>, <code><a href="#entry7365742D6472697665">set-drive</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/dos.plus3dos.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7764756D70-src-lib-tool-dump-fs"><a id="entry7764756D70"></a>wdump</h3>
<div class="listingblock">
<div class="content">
<pre>wdump ( a len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Show the contents of <em>len</em> cells from <em>a</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.dump.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7768657265-src-lib-tool-debug-where-fs"><a id="entry7768657265"></a>where</h3>
<div class="listingblock">
<div class="content">
<pre>where ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Print information about the last error: block number, line
number and a picture of where it occurred. If the error was
in the command line, nothing is printed.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Reference Word Set).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6572726F722D706F73">error-pos</a></code>, <code><a href="#entry6572726F72">error</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.where.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7768696C65-src-kernel-z80s"><a id="entry7768696C65"></a>while</h3>
<div class="listingblock">
<div class="content">
<pre>while ( dest -- orig dest )</pre>
</div>
</div>
<div class="paragraph">
<p><code>while</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7768697465-src-lib-display-attributes-fs"><a id="entry7768697465"></a>white</h3>
<div class="listingblock">
<div class="content">
<pre>white ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 7, the value that represents the
white color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry726564">red</a></code>, <code><a href="#entry6D6167656E7461">magenta</a></code>, <code><a href="#entry677265656E">green</a></code>,
<code><a href="#entry6379616E">cyan</a></code>, <code><a href="#entry79656C6C6F77">yellow</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77686974652D6E6F697365-src-lib-sound-48-fs"><a id="entry77686974652D6E6F697365"></a>white-noise</h3>
<div class="listingblock">
<div class="content">
<pre>white-noise ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>White noise for ZX Spectrum 48K.  <em>u</em> is the duration in
number of sample bytes.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/sound.48.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7769647468-src-kernel-z80s"><a id="entry7769647468"></a>width</h3>
<div class="listingblock">
<div class="content">
<pre>width ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>User variable that holds the maximum number of letters saved
in the compilation of a definition name. It must be 1 thru 31,
with a default value of 31. The name character count and its
natural characters are saved, up to the value in <code><a href="#entry7769647468">width</a></code>.  The
value may be changed at any time within the above limits.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77696E646F77-src-lib-display-window-fs"><a id="entry77696E646F77"></a>window</h3>
<div class="listingblock">
<div class="content">
<pre>window ( x0 y0 columns rows "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a window called <em>name</em>: <em>x0 y0</em> is the position of
its top left corner on the screen, and <em>columns rows</em> is
its size.  Its cursor position is set to home.</p>
</div>
<div class="paragraph">
<p>Later execution of <em>name</em> will leave the address of its
data on the stack, which is the following structure:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Byte offset</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x cursor coordinate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">y cursor coordinate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">window left x coordinate on screen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">window top y coordinate on screen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">width in columns</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">heigth in rows</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D77696E646F77">set-window</a></code>, <code><a href="#entry63757272656E742D77696E646F77">current-window</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.window.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776970652D626C6F636B-src-lib-graphics-blocks-fs"><a id="entry776970652D626C6F636B"></a>wipe-block</h3>
<div class="listingblock">
<div class="content">
<pre>wipe-block ( column row width height color -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Wipe a screen block at the given character coordinates and
of the given size in characters.  The bitmap is erased and
the color attributes are changed with the given color.</p>
</div>
<div class="paragraph">
<p><code>wipe-block</code> is written in assembler and it combines the
functions of <code><a href="#entry636C6561722D626C6F636B">clear-block</a></code> and <code><a href="#entry636F6C6F722D626C6F636B">color-block</a></code>. It may be
defined also this way (with slower but much smaller code):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: wipe-block ( column row width height color -- )
  &gt;r 2over 2over clear-block r&gt; color-block ;</pre>
</div>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.blocks.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77697468696E-src-lib-math-operators-1-cell-fs"><a id="entry77697468696E"></a>within</h3>
<div class="listingblock">
<div class="content">
<pre>within ( n1|u1 n2|u2 n3|u3 -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Perform a comparison of a test value n1|u1 with a lower
limit <em>n2|u2</em> and an upper limit <em>n3|u3</em>, returning <em>true</em>
if either (<em>n2|u2</em> &lt; <em>n3|u3</em> and (<em>n2|u2</em> &#8656; <em>n1|u1</em> and
<em>n1|u1</em> &lt; <em>n3|u3</em>)) or (<em>n2|u2</em> &gt; <em>n3|u3</em> and (<em>n2|u2</em> &#8656;
<em>n1|u1</em> or <em>n1|u1</em> &lt; <em>n3|u3</em>)) is true, returning <em>false</em>
otherwise.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-94 (CORE EXT), Forth-2012 (CORE EXT).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6265747765656E">between</a></code>, <code><a href="#entry706F6C6172697479">polarity</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/math.operators.1-cell.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F7264-src-lib-parsing-fs"><a id="entry776F7264"></a>word</h3>
<div class="listingblock">
<div class="content">
<pre>word ( c "&lt;chars&gt;ccc&lt;char&gt;" -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>Skip leading <em>c</em> character delimiters from the input
stream.  Parse the next text characters from the input
stream, until a delimiter <em>c</em> is found, storing the packed
character string beginning at <em>ca</em> (which is the current
address returned by <code><a href="#entry68657265">here</a></code>), as a counted string (the
character count in the first byte), and with one blank at
the end (not included in the count).</p>
</div>
<div class="paragraph">
<p>This word is obsolescent. Its function is superseeded by
<code><a href="#entry7061727365">parse</a></code> and <code><a href="#entry70617273652D6E616D65">parse-name</a></code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The requirement to follow the string with a space is
obsolescent and was included in Forth-94 as a concession to
existing programs that use <code>convert</code> (superseded by
<code><a href="#entry3E6E756D626572">&gt;number</a></code>).  A program shall not depend on the existence of
the space. The requirement to follow the string with a
space was removed from Forth-2012.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Origin: Forth-79 (Required Word Set), Forth-83 (Required
Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/parsing.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72642D6C656E6774682D6D61736B-src-kernel-z80s"><a id="entry776F72642D6C656E6774682D6D61736B"></a>word-length-mask</h3>
<div class="listingblock">
<div class="content">
<pre>word-length-mask ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Constant that holds the bitmask <em>b</em> of the word length.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C697374-src-kernel-z80s"><a id="entry776F72646C697374"></a>wordlist</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist ( -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>: wordlist (&#8201;&#8212;&#8201;wid )
  here wordlist, ;</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7365742D6F72646572">set-order</a></code>, <code><a href="#entry766F636162756C617279">vocabulary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973742C-src-kernel-z80s"><a id="entry776F72646C6973742C"></a>wordlist,</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist, ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile the contents of a new word list.
The structure is the following:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>nt</em> of the latest definition in the word list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>wid</em> of the previous word list, or zero</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>nt</em> of the word list name, or zero</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: wordlist, ( -- )
  here 0 , latest-wordlist @ , latest-wordlist !  0 , ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry6C61746573742D776F72646C697374">latest-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973742D6E616D6521-src-lib-word_lists-fs"><a id="entry776F72646C6973742D6E616D6521"></a>wordlist-name!</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist-name! ( nt wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store <em>nt</em> as the name associated to the word list
identified by <em>wid</em>.  <em>nt</em> is stored into the name field of
the word-list metadata.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry776F72646C6973742D6E616D6540">wordlist-name@</a></code>, <code><a href="#entry776F72646C6973743E6E616D65">wordlist&gt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973742D6E616D6540-src-lib-word_lists-fs"><a id="entry776F72646C6973742D6E616D6540"></a>wordlist-name@</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist-name@ ( wid -- nt|0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Fetch from the word-list identifier <em>wid</em> its associated
name <em>nt</em>, or zero if the word list has no associated name.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry776F72646C6973742D6E616D6521">wordlist-name!</a></code>, <code><a href="#entry776F72646C6973743E6E616D65">wordlist&gt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973742D6F66-src-lib-word_lists-fs"><a id="entry776F72646C6973742D6F66"></a>wordlist-of</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist-of ( "name" -- wid )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the word-list identifier <em>wid</em> associated to
vocabulary <em>name</em>.</p>
</div>
<div class="paragraph">
<p>Origin: eForth&#8217;s <code><a href="#entry7769646F66">widof</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry766F636162756C617279">vocabulary</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973742D776F726473-src-lib-tool-list-words-fs"><a id="entry776F72646C6973742D776F726473"></a>wordlist-words</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist-words ( wid -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List the definition names in word list <em>wid</em>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973743E6C696E6B-src-lib-word_lists-fs"><a id="entry776F72646C6973743E6C696E6B"></a>wordlist&gt;link</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist&gt;link ( wid -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the link field address <em>a</em> of word-list identifier
<em>wid</em>, which holds the word-list identifier of the previous
word list defined in the system.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry7769643E6E616D65">wid&gt;name</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973743E6E616D65-src-lib-word_lists-fs"><a id="entry776F72646C6973743E6E616D65"></a>wordlist&gt;name</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist&gt;name ( wid -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> which holds the <em>nt</em> of word-list
identifier <em>wid</em> (or zero if the word list has no
associated name).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry776F72646C6973743E6C696E6B">wordlist&gt;link</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C6973743E766F636162756C617279-src-lib-word_lists-fs"><a id="entry776F72646C6973743E766F636162756C617279"></a>wordlist&gt;vocabulary</h3>
<div class="listingblock">
<div class="content">
<pre>wordlist&gt;vocabulary ( wid "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Create a vocabulary <em>name</em> for the word list identified by
<em>wid</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry766F636162756C617279">vocabulary</a></code>, <code><a href="#entry6C61746573743E776F72646C697374">latest&gt;wordlist</a></code>,
<code><a href="#entry776F72646C69737473">wordlists</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C69737473-src-lib-tool-list-word_lists-fs"><a id="entry776F72646C69737473"></a>wordlists</h3>
<div class="listingblock">
<div class="content">
<pre>wordlists ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List all wordlists defined in the system, either by name
(if they have an associated name) or by number (its word
list identifier, if they have no associated name). The
word lists are listed in reverse chronological order: The
first word list listed is the most recently defined.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2E776F72646C697374">.wordlist</a></code>, <code><a href="#entry776F72646C697374">wordlist</a></code>, <code><a href="#entry6C61746573742D776F72646C697374">latest-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.word_lists.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72646C697374732C-src-lib-tool-marker-fs"><a id="entry776F72646C697374732C"></a>wordlists,</h3>
<div class="listingblock">
<div class="content">
<pre>wordlists, ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Store the latest definition of every word list in the data
space.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.marker.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F726473-src-lib-tool-list-words-fs"><a id="entry776F726473"></a>words</h3>
<div class="listingblock">
<div class="content">
<pre>words ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List the definition names in the first word list of
the search order.</p>
</div>
<div class="paragraph">
<p>Origin: Forth-83 (Uncontrolled Reference Words), Forth-94
(TOOLS), Forth-2012 (TOOLS).</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F72647323-src-lib-tool-list-words-fs"><a id="entry776F72647323"></a>words#</h3>
<div class="listingblock">
<div class="content">
<pre>words# ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Return number <em>n</em> of words defined in the first word list
of the search order.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry776F7264732D6C696B65-src-lib-tool-list-words-fs"><a id="entry776F7264732D6C696B65"></a>words-like</h3>
<div class="listingblock">
<div class="content">
<pre>words-like ( "name" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>List the definition names, from the first word list of
the search order, that contain substring "name".</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.list.words.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77726974652D626C6F636B-src-kernel-z80s"><a id="entry77726974652D626C6F636B"></a>write-block</h3>
<div class="listingblock">
<div class="content">
<pre>write-block ( n -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Write the buffer to disk block <em>n</em>.</p>
</div>
<div class="paragraph">
<p>Definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>: write-block ( n -- ) write-mode transfer-block ;</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry77726974652D6D6F6465">write-mode</a></code>, <code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>, <code><a href="#entry726561642D626C6F636B">read-block</a></code>,
<code><a href="#entry626C6F636B">block</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry77726974652D6D6F6465-src-kernel-plus3dos-z80s"><a id="entry77726974652D6D6F6465"></a>write-mode</h3>
<div class="listingblock">
<div class="content">
<pre>write-mode ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set the write mode for <code><a href="#entry7472616E736665722D736563746F72">transfer-sector</a></code> and <code><a href="#entry7472616E736665722D626C6F636B">transfer-block</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry726561642D6D6F6465">read-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.plus3dos.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78-src-lib-editor-specforth-fs"><a id="entry78"></a>x</h3>
<div class="listingblock">
<div class="content">
<pre>x ( "ccc&lt;eol&gt;" -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Find and delete the next occurrence of the string "ccc".</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62">b</a></code>, <code><a href="#entry63">c</a></code>, <code><a href="#entry64">d</a></code>, <code><a href="#entry65">e</a></code>, <code><a href="#entry66">f</a></code>, <code><a href="#entry68">h</a></code>, <code><a href="#entry69">i</a></code>, <code><a href="#entry6C">l</a></code>, <code><a href="#entry6D">m</a></code>, <code><a href="#entry6E">n</a></code>,
<code><a href="#entry70">p</a></code>, <code><a href="#entry72">r</a></code>, <code><a href="#entry73">s</a></code>, <code><a href="#entry74">t</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/editor.specforth.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7831-src-lib-graphics-lines-fs"><a id="entry7831"></a>x1</h3>
<div class="listingblock">
<div class="content">
<pre>x1 ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double-cell variable used by <code><a href="#entry6164726177313736">adraw176</a></code> and <code><a href="#entry616C696E65313736">aline176</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7931">y1</a></code>, <code><a href="#entry696E6378">incx</a></code>, <code><a href="#entry696E6379">incy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry783E-src-lib-data-xstack-fs"><a id="entry783E"></a>x&gt;</h3>
<div class="listingblock">
<div class="content">
<pre>x&gt; ( -- x ) ( X: x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Move <em>x</em> from the current <code><a href="#entry78737461636B">xstack</a></code> to the data stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry783E">x&gt;</a></code>, <code><a href="#entry7840">x@</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry783E6778-src-lib-graphics-pixels-fs"><a id="entry783E6778"></a>x&gt;gx</h3>
<div class="listingblock">
<div class="content">
<pre>x&gt;gx ( x -- gx )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert column <em>x</em> to graphic x coordinate <em>gx</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry793E6779">y&gt;gy</a></code>, <code><a href="#entry67783E78">gx&gt;x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7840-src-lib-data-xstack-fs"><a id="entry7840"></a>x@</h3>
<div class="listingblock">
<div class="content">
<pre>x@ ( -- x ) ( X: x -- x )</pre>
</div>
</div>
<div class="paragraph">
<p>Copy <em>x</em> from the current <code><a href="#entry78737461636B">xstack</a></code> to the data stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry783E">x&gt;</a></code>, <code><a href="#entry3E78">&gt;x</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78636C656172-src-lib-data-xstack-fs"><a id="entry78636C656172"></a>xclear</h3>
<div class="listingblock">
<div class="content">
<pre>xclear ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Clear the current <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7864726F70">xdrop</a></code>, <code><a href="#entry327864726F70">2xdrop</a></code>, <code><a href="#entry787030">xp0</a></code>, <code><a href="#entry7870">xp</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry786465707468-src-lib-data-xstack-fs"><a id="entry786465707468"></a>xdepth</h3>
<div class="listingblock">
<div class="content">
<pre>xdepth ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the number of single-cells values contained in the
current <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry2E7873">.xs</a></code>, <code><a href="#entry786C656E">xlen</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7864726F70-src-lib-data-xstack-fs"><a id="entry7864726F70"></a>xdrop</h3>
<div class="listingblock">
<div class="content">
<pre>xdrop ( X: x -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove <em>x</em> from the <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3E78">&gt;x</a></code>, <code><a href="#entry783E">x&gt;</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78647570-src-lib-data-xstack-fs"><a id="entry78647570"></a>xdup</h3>
<div class="listingblock">
<div class="content">
<pre>xdup ( X: x -- x x )</pre>
</div>
</div>
<div class="paragraph">
<p>Duplicate <em>x</em> in the current <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry3278647570">2xdup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7866726565-src-lib-data-xstack-fs"><a id="entry7866726565"></a>xfree</h3>
<div class="listingblock">
<div class="content">
<pre>xfree ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Free the space used by the current <code><a href="#entry78737461636B">xstack</a></code>, which was
created by <code><a href="#entry616C6C6F636174652D78737461636B">allocate-xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry786B6579-src-kernel-z80s"><a id="entry786B6579"></a>xkey</h3>
<div class="listingblock">
<div class="content">
<pre>xkey ( -- c )</pre>
</div>
</div>
<div class="paragraph">
<p>Show a cursor, wait for the next terminal key struck; if it&#8217;s
the caps lock key, toggle caps and keep waiting; else leave
the char code of the key struck.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry786C656E-src-lib-data-xstack-fs"><a id="entry786C656E"></a>xlen</h3>
<div class="listingblock">
<div class="content">
<pre>xlen ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p><em>n</em> is the length of the current <code><a href="#entry78737461636B">xstack</a></code>, in address units.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry786465707468">xdepth</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry786F72-src-kernel-z80s"><a id="entry786F72"></a>xor</h3>
<div class="listingblock">
<div class="content">
<pre>xor ( x1 x2 -- x3 )</pre>
</div>
</div>
<div class="paragraph">
<p><em>x3</em> is the bit-by-bit exclusive-or of <em>x1</em> with <em>x2</em>.</p>
</div>
<div class="paragraph">
<p>Origin: fig-Forth, Forth-79 (Required Word Set), Forth-83
(Required Word Set), Forth-94 (CORE), Forth-2012 (CORE).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6F72">or</a></code>, <code><a href="#entry616E64">and</a></code>, <code><a href="#entry6E6567617465">negate</a></code>, <code><a href="#entry303D">0=</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry786F766572-src-lib-data-xstack-fs"><a id="entry786F766572"></a>xover</h3>
<div class="listingblock">
<div class="content">
<pre>xover ( X: x1 x2 -- x1 x2 x1 )</pre>
</div>
</div>
<div class="paragraph">
<p>Place a copy of <em>x1</em> on top of the <code><a href="#entry78737461636B">xstack</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7870-src-lib-data-xstack-fs"><a id="entry7870"></a>xp</h3>
<div class="listingblock">
<div class="content">
<pre>xp ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable. Address <em>a</em> holds the address of the current
<code><a href="#entry78737461636B">xstack</a></code> pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry787030-src-lib-data-xstack-fs"><a id="entry787030"></a>xp0</h3>
<div class="listingblock">
<div class="content">
<pre>xp0 ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Initial address of the current <code><a href="#entry78737461636B">xstack</a></code> pointer.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry787069636B-src-lib-data-xstack-fs"><a id="entry787069636B"></a>xpick</h3>
<div class="listingblock">
<div class="content">
<pre>xpick ( u -- x'u ) ( X: x'u ... x'0 -- x'u ... x'0 )</pre>
</div>
</div>
<div class="paragraph">
<p>Remove <em>u</em>. Copy <em>x&#8217;u</em> from the current <code><a href="#entry78737461636B">xstack</a></code> to the
data stack.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7873697A65-src-lib-data-xstack-fs"><a id="entry7873697A65"></a>xsize</h3>
<div class="listingblock">
<div class="content">
<pre>xsize ( -- n )</pre>
</div>
</div>
<div class="paragraph">
<p>Size of the current <code><a href="#entry78737461636B">xstack</a></code> in address units.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78737461636B-src-lib-data-xstack-fs"><a id="entry78737461636B"></a>xstack</h3>
<div class="listingblock">
<div class="content">
<pre>xstack ( a -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Make the extra stack <em>a</em> the current one. <em>a</em> is the
address returned by <code><a href="#entry616C6C6F742D78737461636B">allot-xstack</a></code> or <code><a href="#entry616C6C6F636174652D78737461636B">allocate-xstack</a></code>
when the extra stack was created.</p>
</div>
<div class="paragraph">
<p>Extra stacks grow towards high memory.  <em>a</em> is the address
of a table that contains the metadata of the xstack, which
is the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>+0 = initial value of the stack pointer (1 cell below the
     stack space)
+2 = stack pointer
+4 = maximum size in address units</pre>
</div>
</div>
<div class="paragraph">
<p><code><a href="#entry787030">xp0</a></code>, <code><a href="#entry7870">xp</a></code> and <code><a href="#entry7873697A65">xsize</a></code> are used to access the contents of
the table.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.xstack.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78742D7265706C61636573-src-lib-strings-xt-replaces-fs"><a id="entry78742D7265706C61636573"></a>xt-replaces</h3>
<div class="listingblock">
<div class="content">
<pre>xt-replaces ( xt ca len -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Set <em>xt</em> (whose execution returns the address and length of
a string) as the text to substitute for the substitution
named by <em>ca len</em>.  If the substitution does not exist it
is created.</p>
</div>
<div class="paragraph">
<p>The name of a substitution should not contain the "%"
delimiter character.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7265706C61636573">replaces</a></code>, <code><a href="#entry73756273746974757465">substitute</a></code>, <code><a href="#entry756E657363617065">unescape</a></code>,
<code><a href="#entry737562737469747574652D776F72646C697374">substitute-wordlist</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.xt-replaces.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78742D737562737469747574696F6E-src-lib-strings-xt-replaces-fs"><a id="entry78742D737562737469747574696F6E"></a>xt-substitution</h3>
<div class="listingblock">
<div class="content">
<pre>xt-substitution ( ca len -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Given a string <em>ca len</em> create its substitution and
storage space.  Return the address that will hold the
execution token of the substitution.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78742D7265706C61636573">xt-replaces</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/strings.xt-replaces.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7879-src-kernel-z80s"><a id="entry7879"></a>xy</h3>
<div class="listingblock">
<div class="content">
<pre>xy ( -- col row )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current column and row of the text cursor.</p>
</div>
<div class="paragraph">
<p><code>xy</code> is a deferred word whose default action is <code><a href="#entry6D6F64652D33322D7879">mode-32-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry61742D7879">at-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/kernel.z80s&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E61747472-src-lib-display-cursor-fs"><a id="entry78793E61747472"></a>xy&gt;attr</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;attr ( col row -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the color attribute <em>b</em> of the given cursor
coordinates <em>col row</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E6174747261">xy&gt;attra</a></code>, <code><a href="#entry78793E61747472615F">xy&gt;attra_</a></code>, <code><a href="#entry78793E677879">xy&gt;gxy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E6174747261-src-lib-display-cursor-fs"><a id="entry78793E6174747261"></a>xy&gt;attra</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;attra ( col row -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the color attribute address <em>a</em> of the given cursor
coordinates <em>col row</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E61747472">xy&gt;attr</a></code>, <code><a href="#entry78793E61747472615F">xy&gt;attra_</a></code>, <code><a href="#entry78793E677879">xy&gt;gxy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E61747472615F-src-lib-display-cursor-fs"><a id="entry78793E61747472615F"></a>xy&gt;attra_</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;attra_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return the address <em>a</em> of a Z80 routine that calculates the
attribute address of a cursor position.  This is a modified
version of the ROM routine at 0x2583.</p>
</div>
<div class="paragraph">
<p>Input:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>D = column (0..31) - E = row (0..23)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HL = address of the attribute in the screen</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E6174747261">xy&gt;attra</a></code>, <code><a href="#entry78793E61747472">xy&gt;attr</a></code>, <code><a href="#entry78793E677879">xy&gt;gxy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E677879-src-lib-display-cursor-fs"><a id="entry78793E677879"></a>xy&gt;gxy</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;gxy ( x y -- gx gy )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert cursor coordinates <em>x y</em> to graphic coordinates <em>gx
gy</em>.  <em>x</em> is 0..31, <em>y</em> is 0..23, <em>gx</em> is 0..255 and <em>gy</em>
is 0..191.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E6174747261">xy&gt;attra</a></code>, <code><a href="#entry78793E61747472">xy&gt;attr</a></code>, <code><a href="#entry78793E677879313736">xy&gt;gxy176</a></code>, <code><a href="#entry706C6F74">plot</a></code>,
<code><a href="#entry7365742D706978656C">set-pixel</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E677879313736-src-lib-display-cursor-fs"><a id="entry78793E677879313736"></a>xy&gt;gxy176</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;gxy176 ( x y -- gx gy )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert cursor coordinates <em>x y</em> to graphic coordinates <em>gx
gy</em> (as used by Sinclair BASIC, i.e. the lower 16 pixel
rows are not used).  <em>x</em> is 0..31, <em>y</em> is 0..23, <em>gx</em> is
0..255 and <em>gy</em> is 0..175.</p>
</div>
<div class="paragraph">
<p><code>xy&gt;gxy176</code> is provided to make it easier to adapt
Sinclair BASIC programs.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E677879">xy&gt;gxy</a></code>, <code><a href="#entry706C6F74313736">plot176</a></code>, <code><a href="#entry7365742D706978656C313736">set-pixel176</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E72-src-lib-display-cursor-fs"><a id="entry78793E72"></a>xy&gt;r</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;r ( -- ) ( R: -- col row )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the current cursor coordinates to the return stack.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry723E7879">r&gt;xy</a></code>, <code><a href="#entry736176652D6D6F6465">save-mode</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E73637261-src-lib-display-cursor-fs"><a id="entry78793E73637261"></a>xy&gt;scra</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;scra ( x y -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert cursor coordinates <em>x y</em> to their correspondent
screen address <em>a</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E736372615F">xy&gt;scra_</a></code> , <code><a href="#entry6778793E73637261">gxy&gt;scra</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry78793E736372615F-src-lib-display-cursor-fs"><a id="entry78793E736372615F"></a>xy&gt;scra_</h3>
<div class="listingblock">
<div class="content">
<pre>xy&gt;scra_ ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a</em> of a Z80 routine that calculates the
screen address correspondent to given cursor coordinates.</p>
</div>
<div class="paragraph">
<p>Input registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>B = y coordinate (0..23)</p>
</li>
<li>
<p>C = x coordinate (0..31)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output registers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DE = screen address</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry78793E73637261">xy&gt;scra</a></code>, <code><a href="#entry6778793E736372615F">gxy&gt;scra_</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.cursor.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7931-src-lib-graphics-lines-fs"><a id="entry7931"></a>y1</h3>
<div class="listingblock">
<div class="content">
<pre>y1 ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double-cell variable used by <code><a href="#entry6164726177313736">adraw176</a></code> and <code><a href="#entry616C696E65313736">aline176</a></code>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7831">x1</a></code>, <code><a href="#entry696E6378">incx</a></code>, <code><a href="#entry696E6379">incy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.lines.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry793E6779-src-lib-graphics-pixels-fs"><a id="entry793E6779"></a>y&gt;gy</h3>
<div class="listingblock">
<div class="content">
<pre>y&gt;gy ( y -- gy )</pre>
</div>
</div>
<div class="paragraph">
<p>Convert row <em>y</em> to graphic y coordinate <em>gy</em>.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry783E6778">x&gt;gx</a></code>, <code><a href="#entry67793E79">gy&gt;y</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/graphics.pixels.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry79656C6C6F77-src-lib-display-attributes-fs"><a id="entry79656C6C6F77"></a>yellow</h3>
<div class="listingblock">
<div class="content">
<pre>yellow ( -- b )</pre>
</div>
</div>
<div class="paragraph">
<p>A constant that returns 6, the value that represents the
yellow color.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry626C61636B">black</a></code>, <code><a href="#entry626C7565">blue</a></code>, <code><a href="#entry726564">red</a></code>, <code><a href="#entry6D6167656E7461">magenta</a></code>, <code><a href="#entry677265656E">green</a></code>,
<code><a href="#entry6379616E">cyan</a></code>, <code><a href="#entry7768697465">white</a></code>, <code><a href="#entry636F6E7472617374">contrast</a></code>, <code><a href="#entry706170657279">papery</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/display.attributes.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7A3F-src-lib-assembler-fs"><a id="entry7A3F"></a>z?</h3>
<div class="listingblock">
<div class="content">
<pre>z? ( -- op )</pre>
</div>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry6E7A3F">nz?</a></code>, <code><a href="#entry633F">c?</a></code>, <code><a href="#entry6E633F">nc?</a></code>, <code><a href="#entry706F3F">po?</a></code>, <code><a href="#entry70653F">pe?</a></code>, <code><a href="#entry703F">p?</a></code>, <code><a href="#entry6D3F">m?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/assembler.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7D-src-lib-data-array-noble-fs"><a id="entry7D"></a>}</h3>
<div class="listingblock">
<div class="content">
<pre>} ( a1 n -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>If in range, return address <em>a2</em> of the <em>n</em> item of the
1-cell array <em>a1</em>.  Otherwise throw error #-272 (array
index out of range).</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry316172726179">1array</a></code>, <code><a href="#entry61727261793E6974656D73">array&gt;items</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.noble.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7D62656E6368-src-lib-time-fs"><a id="entry7D62656E6368"></a>}bench</h3>
<div class="listingblock">
<div class="content">
<pre>}bench ( -- d ) frames@ ;</pre>
</div>
</div>
<div class="paragraph">
<p>Return the current value of the system frames counter.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62656E63687B">bench{</a></code>, <code><a href="#entry6672616D657340">frames@</a></code>, <code><a href="#entry62656E63682E">bench.</a></code>, <code><a href="#entry7D62656E63682E">}bench.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7D62656E63682E-src-lib-time-fs"><a id="entry7D62656E63682E"></a>}bench.</h3>
<div class="listingblock">
<div class="content">
<pre>}bench. ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Stop timing and print the result.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry62656E63687B">bench{</a></code>, <code><a href="#entry7D62656E6368">}bench</a></code>, <code><a href="#entry62656E63682E">bench.</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/time.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7D70726976617465-src-lib-modules-privatize-fs"><a id="entry7D70726976617465"></a>}private</h3>
<div class="listingblock">
<div class="content">
<pre>}private ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>End private definitions. See <code><a href="#entry707269766174697A65">privatize</a></code> for a usage
example.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/modules.privatize.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7D7D-src-lib-data-array-noble-fs"><a id="entry7D7D"></a>}}</h3>
<div class="listingblock">
<div class="content">
<pre>}} ( a1 n1 n2 -- a2 )</pre>
</div>
</div>
<div class="paragraph">
<p>Return address <em>a2</em> of the <em>n1,n2</em> item of the 2-dimension
array <em>a1</em>.  Data  stored row-wise.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry326172726179">2array</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/data.array.noble.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E"></a>~~</h3>
<div class="listingblock">
<div class="content">
<pre>~~ ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Compile debugging code.</p>
</div>
<div class="paragraph">
<p><code>~~</code> is an <code><a href="#entry696D6D656469617465">immediate</a></code> and <code><a href="#entry636F6D70696C652D6F6E6C79">compile-only</a></code> word.</p>
</div>
<div class="paragraph">
<p>Origin: Gforth.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry287E7E29">(~~)</a></code>, <code><a href="#entry7E7E3F">~~?</a></code>, <code><a href="#entry7E7E79">~~y</a></code>, <code><a href="#entry7E7E717569742D6B6579">~~quit-key</a></code>, <code><a href="#entry7E7E726573756D652D6B6579">~~resume-key</a></code>,
<code><a href="#entry7E7E696E666F">~~info</a></code>, <code><a href="#entry7E7E6170702D696E666F">~~app-info</a></code>, <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code> <code><a href="#entry7E7E73617665">~~save</a></code>, <code><a href="#entry7E7E726573746F7265">~~restore</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E3F-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E3F"></a>~~?</h3>
<div class="listingblock">
<div class="content">
<pre>~~? ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A variable that holds a flag. When the flag is true, the
debugging code compiled by <code><a href="#entry7E7E">~~</a></code> is executed, else ignored.
Its default value is true.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E6170702D696E666F-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E6170702D696E666F"></a>~~app-info</h3>
<div class="listingblock">
<div class="content">
<pre>~~app-info ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>A deferred word that can be used by the application in
order to show application-specific debugging information as
part of the debugging code compiled by <code><a href="#entry7E7E">~~</a></code>.  By default it
does nothing.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E696E666F">~~info</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E636F6E74726F6C-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E636F6E74726F6C"></a>~~control</h3>
<div class="listingblock">
<div class="content">
<pre>~~control ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Keyboard control used by the debug points compiled by <code><a href="#entry7E7E">~~</a></code>:
If the contents of <code><a href="#entry7E7E717569742D6B6579">~~quit-key</a></code> and <code><a href="#entry7E7E726573756D652D6B6579">~~resume-key</a></code> are zero
do nothing, else wait for a key press in an endless loop:
If the pressed key equals the contents of <code><a href="#entry7E7E717569742D6B6579">~~quit-key</a></code>,
then execute <code><a href="#entry71756974">quit</a></code>; if the pressed key equals the contents
of <code><a href="#entry7E7E726573756D652D6B6579">~~resume-key</a></code>, then exit.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E636F6E74726F6C3F">~~control?</a></code>, <code><a href="#entry7E7E70726573733F">~~press?</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E636F6E74726F6C3F-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E636F6E74726F6C3F"></a>~~control?</h3>
<div class="listingblock">
<div class="content">
<pre>~~control? ( -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is there any key to be checked by <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code>?</p>
</div>
<div class="paragraph">
<p><code>~~control??</code> is part of the <code><a href="#entry7E7E">~~</a></code> tool.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E696E666F-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E696E666F"></a>~~info</h3>
<div class="listingblock">
<div class="content">
<pre>~~info ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Show the debugging info compiled by <code><a href="#entry7E7E">~~</a></code> and the current
contents of the data stack. At least to lines are used,
depending on the contents of the stack. The first line
shows the block, line and definition name where <code><a href="#entry7E7E">~~</a></code>
was compiled; the second line shows the contents of the
stack. The printing position can be configured with
<code><a href="#entry7E7E79">~~y</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E70726573733F-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E70726573733F"></a>~~press?</h3>
<div class="listingblock">
<div class="content">
<pre>~~press? ( c ca -- f )</pre>
</div>
</div>
<div class="paragraph">
<p>Is the character stored at <em>ca</em> not zero and equal to <em>c</em>?
This is a factor of <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code> used to check key presses,
in the code compiled by <code><a href="#entry7E7E">~~</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E717569742D6B6579-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E717569742D6B6579"></a>~~quit-key</h3>
<div class="listingblock">
<div class="content">
<pre>~~quit-key ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the key code used to quit
at the debugging points compiled by <code><a href="#entry7E7E">~~</a></code>. If its value is
not zero, <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code> will wait for a key press in order to
quit the debugging.  Its default value is the code of 'q'.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E726573756D652D6B6579">~~resume-key</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E726573746F7265-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E726573746F7265"></a>~~restore</h3>
<div class="listingblock">
<div class="content">
<pre>~~restore ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Restore system status after executing the debugging code
compiled by <code><a href="#entry7E7E">~~</a></code>.  This is a deferred word. Its default
action is to restore the cursor coordinates.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E73617665">~~save</a></code>, <code><a href="#entry7E7E726573746F72652D7879">~~restore-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E726573746F72652D7879-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E726573746F72652D7879"></a>~~restore-xy</h3>
<div class="listingblock">
<div class="content">
<pre>~~restore-xy ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Restore the cursor coordinates.  This is the default
action of <code><a href="#entry7E7E726573746F7265">~~restore</a></code>.</p>
</div>
<div class="paragraph">
<p><code>~~restore-xy</code> is part of the <code><a href="#entry7E7E">~~</a></code> tool.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E736176652D7879">~~save-xy</a></code>, <code><a href="#entry7E7E73617665">~~save</a></code>, <code><a href="#entry7E7E78792D6261636B7570">~~xy-backup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E726573756D652D6B6579-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E726573756D652D6B6579"></a>~~resume-key</h3>
<div class="listingblock">
<div class="content">
<pre>~~resume-key ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the key code used to resume
execution at the debugging points compiled by <code><a href="#entry7E7E">~~</a></code>.  If
<code>~~resume-key</code> contains zero, <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code> will not wait
for a key.  If <code>~~resume-key</code> contains $FF, <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code>
will wait for any key.  Otherwise <code><a href="#entry7E7E636F6E74726F6C">~~control</a></code> will wait for
the key stored at <code>~~resume-key</code>, whose default value is
<code><a href="#entry626C">bl</a></code>, the code of the space character.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E717569742D6B6579">~~quit-key</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E73617665-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E73617665"></a>~~save</h3>
<div class="listingblock">
<div class="content">
<pre>~~save ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Save system status before executing the debugging code
compiled by <code><a href="#entry7E7E">~~</a></code>..  This is a deferred word. Its default
action is to save the cursor coordinates.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E726573746F7265">~~restore</a></code>, <code><a href="#entry7E7E736176652D7879">~~save-xy</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E736176652D7879-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E736176652D7879"></a>~~save-xy</h3>
<div class="listingblock">
<div class="content">
<pre>~~save-xy ( -- )</pre>
</div>
</div>
<div class="paragraph">
<p>Save the cursor coordinates.  This is the default
action of <code><a href="#entry7E7E73617665">~~save</a></code>.</p>
</div>
<div class="paragraph">
<p><code>~~save-xy</code> is part of the <code><a href="#entry7E7E">~~</a></code> tool.</p>
</div>
<div class="paragraph">
<p>See also: <code><a href="#entry7E7E726573746F72652D7879">~~restore-xy</a></code>, <code><a href="#entry7E7E726573746F7265">~~restore</a></code>, <code><a href="#entry7E7E78792D6261636B7570">~~xy-backup</a></code>.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E78792D6261636B7570-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E78792D6261636B7570"></a>~~xy-backup</h3>
<div class="listingblock">
<div class="content">
<pre>~~xy-backup ( -- a )</pre>
</div>
</div>
<div class="paragraph">
<p>A double variable that holds cursor coordinates saved and
restored by the default actions of <code><a href="#entry7E7E73617665">~~save</a></code> and
<code><a href="#entry7E7E726573746F7265">~~restore</a></code>.</p>
</div>
<div class="paragraph">
<p><code>~~xy-backup</code> is part of the <code><a href="#entry7E7E">~~</a></code> tool.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
<div class="sect2">
<h3 id="entry7E7E79-src-lib-tool-debug-tilde-tilde-fs"><a id="entry7E7E79"></a>~~y</h3>
<div class="listingblock">
<div class="content">
<pre>~~y ( -- ca )</pre>
</div>
</div>
<div class="paragraph">
<p>A character variable that holds the row the debugging
information compiled by <code><a href="#entry7E7E">~~</a></code> will be printed at.  Its
default value is zero.</p>
</div>
<div class="paragraph">
<p>Source file: &lt;src/lib/tool.debug.tilde-tilde.fs&gt;.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. The TR-DOS command line uses keyboard tokens, like the ZX Spectrum 48, but commands typed in 'L' cursor mode will be recognized as well, as on the ZX Spectrum 128 editor. Unfortunately, the only way to get 'L' cursor mode is typing a token first, e.g. <code>REM</code> (pressing the 'E' key). Then the DOS command can be typed in full after <code>REM</code>, which must be removed from the start of the line before pressing the Enter key.
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. In theory, choosing option "TR-DOS" from the system service menu should work. But it seems it depends on a specific version of TR-DOS.  This alternative method is longer, but it works with the TR-DOS 5.03 ROM. It will be improved in future versions of the manual.
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. The TR-DOS BASIC interface uses letters 'A'..'D' to identify the disk drives, in commands and filenames. But, under the hood, TR-DOS uses numbers 0..3 to identify the disk drives, and filenames don&#8217;t include the drive letter. This is the way Solo Forth works too. Usage of <code>A</code>..<code>D</code> instead of 0..3 maybe implemented in a future version of Solo Forth, either by default or as an option.
</div>
<div class="footnote" id="_footnote_4">
<a href="#_footnoteref_4">4</a>. Test done on Solo Forth 0.12.0 on ZX Spectrum 128.
</div>
<div class="footnote" id="_footnote_5">
<a href="#_footnoteref_5">5</a>. As Solo Forth runs on the Z80 processor, all addresses are aligned, but the specific symbols for aligned addresses are used in the source, for clarity.
</div>
<div class="footnote" id="_footnote_6">
<a href="#_footnoteref_6">6</a>. In the floating point stack of the ZX Spectrum operating system.
</div>
<div class="footnote" id="_footnote_7">
<a href="#_footnoteref_7">7</a>. In Forth-79, if the number of characters required to display <em>u</em> is greater than <em>n</em>, no leading spaces are given.
</div>
<div class="footnote" id="_footnote_8">
<a href="#_footnoteref_8">8</a>. In Forth-83, if the number of characters required to display <em>u</em> is greater than <em>n</em>, an error condition exists, which depends on the system.
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-04-27 20:15:55 CEST
</div>
</div>
</body>
</html>