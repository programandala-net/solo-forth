= Solo Forth version history
:author: Marcos Cruz (programandala.net)
:revdate: 2016-05-18

// This file is part of Solo Forth
// http://programandala.net/en.program.solo_forth.html

== 0.0

Developed from 2015-06-02 to 2015-12-18.

During this long initial period of the development, Solo Forth grew
from a small seed (the code of Abersoft Forth, a fig-Forth 1.1) to a
disk-based system, with only some small traces of fig-Forth left, with
many features of modern standard Forth systems and a huge library of
optional code.

Version branch 0.0 was finished after replacing the fig-Forth `do
loop` control structures with the Forth-83 version, adding a method to
nest sources (`nest-source` and `unnest-source`) and writing
`evaluate`.

== 0.1.0

Released on 2016-03-14.

Many fixes, changes and improvements. See the
http://programandala.net/en.program.solo_forth.history.html[development
history].

- The Vim syntax file for Solo Forth is included.

== 0.2.0

Released on 2016-03-14.

- The old alternative ITC code is removed.

== 0.3.0

Released on 2016-04-03.

- Adapt some library words to DTC.
- Fix the DTC version of `decode` and remove its ITC version.
- Add `docolon` to the kernel, needed by `decode`.
- Add `cslit` and an alternative definition of `csliteral` to the
  library.
- Improve `decode` with support for `csliteral`.
- Change the stack notation "text<c>" to "ccc<char>", after the
  standard.
- Fix `number?`: wrong numbers left a double cell on the stack under
  the TOS flag, and `base` was not restored.
- Add `number-punctuation?` to check for valid punctuation in numbers.
- Improve `number?` to recognize also comma, colon, plus, hyphen and
  slash as valid punctuation, any number of them, at any position.
  Formerly only one decimal point was allowed, at any position.
- Add `number` to the library.
- Make `.\"` independent from `s\"`.
- Replace Z80 jumps to the `push_hl` entry point of the inner
  interpreter with a `push hl` and the usual `jp (ix)` (jump to
  `next`). This saves 2 CPU cycles and needs no additional bytes.
  Benchmarks are 1% faster.
- Add `jppushhl` to the assembler wordlist in the kernel and modify
  the library code words accordingly.
- Make `number?` to reject initial or duplicated point.
- Rename all occurrences of "punctuation" to "point".
- Make `number-point?` match only the standard period. Add two
  alternatives to the library, which recognize more points.
- Add `there`, which sets `dp`.
- Convert the words `compile,`, `begin`, `<mark`, `<resolve` and
  `then` to aliases.
- Remove `next2`, which is unnecessary in DTC; update `pause` and
  `execute-hl` accordingly.
- Update some development benchmarks.
- Reorganize the source, binary and temporary files into directories.
- Add the `bank-start` constant.
- Add `save-here` and `restore-here`.
- Add the `code-bank` tool (not tested yet).
- Modify the file words to return a standard ior.
- Modify `mode42` and `mode64` to implement alternative versions that
  use the code bank.
- Convert `>wid` and `wid>` to aliases.
- Add `+under`.
- Update the implementation of `wordlist` and `vocabulary`.
- Replace `get-order`.
- Add `set-default-bank`, `get-default-bank` and `default-bank#`.
- Remove parens from names of the printing mode vectors.
- Comment out the contrast ink calculation in `border`.
- Remove the game _Nuclear Invaders_, which temporarily had been
  included in the library.
- Split the library into files (151) and update the Makefile
  accordingly.  This makes it possible to include only the modules
  needed by the user application.
- Rename the interrupt-independent version of `inkey` to `get-inkey`.
- Rename the two versions of `key??`, which are interrup-independent,
  to `get-key?` and `fast-get-key?`.
- Fix `-suffix`.
- Add `for-i` for the `for step` loop.
- Rename `di` to `dfor-i` for the `dfor dstep` loop.
- Rename the words of Wil Baden's `case` structure to avoid name clash
  with the standard `case`.
- Remove old fig-Forth loop indexes from the library.
- Modify the license.
- Update and complete all of the source file headers.
- Add `?repeat`.
- Modify and factor `wid>name`.
- Simplify the storage and printing of the version number, by making
  release candidates start from 1 instead of 0.
- Include only the best implementations of pseudo-random number
  generators.  Update the benchmarks of all of them.
- Improve the documentation of many words.
- Add `indexer`, a tool that indexes the library and makes `need`,
  `needed`, `reneed` and `reneeded` much faster.
- Add `cell/`, `d10*` and `bits` to the library.

== 0.3.1

Released on 2016-04-09.

- Split the assembler library module into three files: z80-asm
  assembler, z80-asm-comma assembler and common tools.
- Fix the title of two 8-bit pseudo-random number generator
  benchmarks.
- Fix the name of the `base-execute` library module.

== 0.3.2

Released on 2016-04-09.

- Fix, improve and finish the `arguments` implementation of locals.
- Improve the documentation of some library modules.

== 0.4.0

Released on 2016-04-10.

- Tape support.
- New words: `nonfull-display`, `full-display`, `save-display` and
  `restore-display`.

== 0.4.1

Released on 2016-04-11.

- Fix and improve the tape support: The message "Start tape, then
  press any key" does not appear anymore.
- The tape module is fully documented.

== 0.5.0

Released on 2016-04-22.

=== Main changes

- Add floating point support.
- Add ROM calculator support.
- Fix `>name`.
- Improve `alias`.
- Add `user`.
- Add `j` and `k`.

=== Other changes

- Add `realias`.
- Improve `dnegate`.
- Add `wait-for-key`.
- Improve `system-bank`.
- Improve `upper`.
- Renamed the math library files with a common root.
- Move `recurse` to the library.
- Add `(source-id)`.
- Move `!s` and `c!s` to the library.
- Add `-!`.
- Add `times`.
- Fix `(;code)`.
- Improve `associative-list`.
- Fix `dump`.
- Improve `ascii-type`.
- Fix `decode-compile`.
- Rename library files.
- Documentation: Change the stack notation for flags.

== 0.6.0 ==

Released on 2016-04-27.

=== Main changes ===

- Add `marker`.
- Add modern `latest` (old fig-Forth `latest` is renamed to `current-latest`).
- Add `latestxt` and `lastxt`.
- Fix `recurse` and `:noname`, which used the old `latest`.
- Add `name>interpret`, `name>compile`.
- Add `comp'` and `[comp']`.
- Fix `restore-here`.
- Fix and improve compilation of literals.
- Add `char-position?` and `char-in-string?`.
- Rename `ascii-type` to `type-ascii`.
- Improve definition of UDGs.
- Improve printing of UDGs at graphic coordinates.

=== Other changes ===

- Add `/!`, `*!`, `2/!`, `2*!`.
- Move `char` and `[char]` to the library.
- Move `cliteral` to the library.
- Move `;code` to the library.
- Move `2rdrop` to the library.
- Move `pick` to the library.
- Move `nextname` to the library.
- Move `:noname` to the library.
- Move `get-default-bank` and `set-default-bank` to the library.
- Improve the error code of `located`.
- Replace `bs` with `backspace` in `dump`.
- Fix description of `defined`.
- Clearer warning and exception messages.
- Update the Pong game.

== 0.7.0 ==

Released on 2016-05-09.

=== Main changes ===

- Fix `header,`: move `current-latest` back to the kernel.
- Fix and improve `search`: 8 times faster code.
- Fix `mode42`.
- Make three library disks instead of one.
- Rename `s=` to `str=`; add `str<`, `str>`.
- Rename `other>` to `othercase>`; improve its doc.
- Rename `nextcase` to `repeatcase`; improve its doc.
- Rename `set` to `storer` and improve it.
- Rename `chan` to `channel`.
- Improve `compare`: faster code.
- Improve and document `overprint`; move it to the library.
- Improve and document `inverse`; move it to the library.
- Improve `paper` and `ink`.
- Improve the `indexer` tool: no data space used anymore.
- Add `?(`.
- Add `need-here`.
- Move `warnings` control to the library.

=== Other changes ===

- Fix `border` and modify `default-colors`.
- Fix code typos in "printing.cursor.fsb".
- Fix the error of `?locate`.
- Add `0max`.
- Add `<=>`.
- Add `?ccase`, `ccase0`, `ccase`.
- Add `alias!`.
- Add `clshift`, 8-bit version of `lshift`.
- Add `color`, `2color` and related words.
- Add `cstorer`.
- Add `dup>r`.
- Add `either` and `neither`.
- Add `holds`.
- Add `lineload`.
- Add `ruler`.
- Add `split` and `join`.
- Add `string-parameter`.
- Add `type-left`, `type-center`, `type-right`.
- Add `warning"`.
- Add `words#`.
- Add color system variables.
- Factor `.unused` from `greeting`.
- Factor `permanent-colors` from `ink`.
- Improve `0=` and `=`.
- Improve `2r>`.
- Improve `default-colors`.
- Improve `leave`.
- Improve `need`.
- Improve `u<`.
- Improve `z80-asm,`, the alternative assembler.
- Improve compilation and documentation of `alias`.
- Improve conditional compilation of printing control.
- Improve printing of nameless word lists.
- Improve documentation of `?repeat`.
- Improve documentation of `create:`.
- Improve documentation of `jppushl`.
- Improve documentation of `options[`.
- Improve documentation of `thiscase`.
- Make `chars` an alias of `noop`, not a deferred word.
- Make `from` and `locate` optional.
- Make pictured output string buffer configurable.
- Make the faster `<` definitive.
- Move `[compile]` to the library.
- Move `defer@` to the library.
- Move `printer` to library.
- Remove `(i)`.
- Remove `transfer-mode`.
- Remove unnecessary `space` from `.wid`.
- Rename and add color words.
- Replace remaining `[compile]` with `postpone`.
- Simplify `cls`.
- Simplify `default-colors`.
- Simplify `type-right`.
- Test and document `tabulate`.
- Fix description of `ahead`.
- Compact the library.

== 0.8.0 ==

Released on 2016-05-10.

=== Main changes ===

- Add the Forth-94 core tests written by John Hayes.

=== Other changes ===

- Improve compilation of the assemblers: Now the contents of `base`,
  the compilation word list and the search order are saved before
  compiling the assemblers, and restored at the end.
- Add `align` and `aligned`.
- Fix `[char]`.

== 0.9.0 ==

Released on 2016-05-18.

=== Main changes ===

- Finish `refill`, improve `-->`.  Now `refill` supports blocks. `-->`
  has been rewritten after it.
- Fix `[else]` with `refill`: Now `[if]` can cross block boundaries.
- Fix `to`, `2to` and `cto`.
- Add `load-app`.
- Fix `parse-all` (was `parse-line`); finish `execute-parsing`.
- Move `evaluate` and `string>source` to the library: These words are
  not used in the kernel, and `evaluate` can be rewritten after
  `execute-parsing`, which is in the library. This saves 28 bytes in
  the kernel.
- Add `!>`, `2!>` and `c!>`: Words that change the value of constants,
  inspired by IsForth's `!>`.
- Improve `value`, `to` and their variants: The default versions
  (standard `value` and `to`, and non-standard `2value`, `2to`,
  `cvalue` and `cto`) have been combined into one single module,
  rewritten as aliases and documented.  The standard alternative
  versions of `value`, `2value` and `to` have been documented.
- Rename non-parsing `value`/`to` to `val`/`toval`.

== Other changes ==

- Fix harmless bug in `locate-reneed`.
- Improve compilation of "memory.misc.fsb": Remove dependency on the
  assembler. Add conditional compilation. Compact the blocks. Remove
  unused code.
- Rename `@cell+` to `@+`, add `2@+`.
- Fix `!a`, `!a+`, `c@a+`: The module of the address register has been
  compacted and documented.  During the process three bugs, caused by
  wrong Z80 opcodes, were discovered and fixed.
- Simplify the circular string buffer: So far the internal offset of
  the buffer was stored before the buffer data. It has been moved to
  `>csb`, which formerly was a fake variable, a constant that returned
  the address of the offset, and now is an actual variable. This saves
  a cell and is more versatile. In total, ten bytes are saved with
  some related changes.
- Add `2storer`.
- Remove `set-latest-lex`: A factor of `interpret` and `compile-only`
  that was not useful, because there are no more flags to set.
  Removing it saves 5 bytes.
- Improve `hided`.
- Fix requirements of `[cconst]`.
- Add benchmark for `?throw'.
- Document `fill`, `erase`, `blank`.
- Shorten `hex`: A branch saves one cell, more important than speed in
  this case.  `hex` and `decimal` have been documented.
- Rename `hided` to the correct `hidden`.
- Move `>body` and `body>` to the library.
- Improve `up`: Now `up` is a variable, not a constant that returns
  the address where the value is stored.  This change is necessary to
  implement multitasking, and it saves one cell.
- Improve conditional compilation of word lists tools.
